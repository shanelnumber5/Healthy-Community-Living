//! ++++++++++++++++++++++++++++++++++++++
!function(jQuery,undefined){
//! ANIMATION MATRIX
var _E,esgAnimmatrix,esgItemAnimations,supressFocus,startAnimations,mergedTransitions,vhandlers={};function punchgsReady(){esgAnimmatrix={"esg-none":[0,{autoAlpha:1,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},0,{autoAlpha:1,overwrite:"all"}],"esg-fade":[.3,{autoAlpha:0,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-fadeblur":[.3,{autoAlpha:1,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:.5,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-fadeout":[.3,{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},{autoAlpha:0,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},.3,{autoAlpha:1,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-covergrowup":[.3,{autoAlpha:1,top:"100%",marginTop:-10,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,top:"0%",marginTop:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:1,top:"100%",marginTop:-10,bottom:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"},!0],"esg-flipvertical":[.5,{x:0,y:0,scale:1,rotationZ:0,rotationY:0,skewX:0,skewY:0,rotationX:180,autoAlpha:0,z:-.001,transformOrigin:"50% 50%"},{rotationX:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationX:180,autoAlpha:0,scale:1,z:-.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},!0],"esg-flipverticalout":[.5,{x:0,y:0,scale:1,rotationZ:0,rotationY:0,skewX:0,skewY:0,rotationX:0,autoAlpha:1,z:.001,transformOrigin:"50% 50%"},{rotationX:-180,scale:1,autoAlpha:0,z:-150,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationX:0,autoAlpha:1,scale:1,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],"esg-fliphorizontal":[.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,skewX:0,skewY:0,rotationY:180,autoAlpha:0,z:-.001,transformOrigin:"50% 50%"},{rotationY:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationY:180,autoAlpha:0,scale:1,z:-.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},!0],"esg-fliphorizontalout":[.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,z:.001,transformOrigin:"50% 50%"},{rotationY:-180,scale:1,autoAlpha:0,z:-150,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationY:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"}],"esg-flipup":[.5,{x:0,y:0,scale:.8,rotationZ:0,rotationX:90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 100%"},{scale:1,rotationX:0,autoAlpha:1,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:.8,rotationX:90,autoAlpha:0,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"},!0],"esg-flipupout":[.5,{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Bounce.easeOut,overwrite:"all"},{x:0,y:0,scale:1,rotationZ:0,rotationX:-90,rotationY:0,autoAlpha:0,z:.001,transformOrigin:"50% 0%"},.3,{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-flipdown":[.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:-90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 0%"},{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Bounce.easeOut,overwrite:"all"},.3,{rotationX:-90,z:0,ease:punchgs.Power2.easeOut,autoAlpha:0,overwrite:"all"},!0],"esg-flipdownout":[.5,{scale:1,rotationX:0,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"},{x:0,y:0,scale:.8,rotationZ:0,rotationX:90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 100%"},.3,{scale:1,rotationX:0,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-flipright":[.5,{x:0,y:0,scale:.8,rotationZ:0,rotationX:0,rotationY:90,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"0% 50%"},{scale:1,rotationY:0,autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:0,scale:.8,rotationY:90,ease:punchgs.Power3.easeOut,overwrite:"all"},!0],"esg-fliprightout":[.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,skewX:0,skewY:0,rotationY:0,autoAlpha:1,transformOrigin:"100% 50%"},{scale:1,rotationY:-90,autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:1,z:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeOut,overwrite:"all"}],"esg-flipleft":[.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:-90,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"100% 50%"},{rotationY:0,autoAlpha:1,z:.001,scale:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,rotationY:-90,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"},!0],"esg-flipleftout":[.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,skewX:0,skewY:0,rotationY:0,autoAlpha:1,transformOrigin:"0% 50%"},{scale:1,rotationY:90,autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:1,z:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeOut,overwrite:"all"}],"esg-turn":[.5,{x:50,y:0,scale:0,rotationZ:0,rotationX:0,rotationY:-40,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{scale:1,x:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeInOut,overwrite:"all"},.3,{scale:0,rotationY:-40,autoAlpha:1,z:0,x:50,ease:punchgs.Power3.easeInOut,overwrite:"all"},!0],"esg-turnout":[.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{rotationY:40,scale:.6,autoAlpha:0,x:-50,ease:punchgs.Power3.easeInOut,overwrite:"all"},.3,{scale:1,rotationY:0,z:0,autoAlpha:1,x:0,rotationX:0,rotationZ:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],"esg-slide":[.5,{x:-1e4,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:-1e4,y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-slideout":[.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-slideright":[.5,{xPercent:-50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:-50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-sliderightout":[.5,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],"esg-scaleleft":[.5,{x:0,y:0,scaleX:0,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"100% 50%"},{autoAlpha:1,x:0,scaleX:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,z:0,scaleX:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-scaleright":[.5,{x:0,y:0,scaleX:0,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"0% 50%"},{autoAlpha:1,x:0,scaleX:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,z:0,scaleX:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-slideleft":[.5,{xPercent:50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-slideleftout":[.5,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:-50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],"esg-slideup":[.5,{x:0,yPercent:50,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,yPercent:50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-slideupout":[.5,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,yPercent:-50,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],"esg-slidedown":[.5,{x:0,yPercent:-50,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,yPercent:-50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-slidedownout":[.5,{autoAlpha:1,yPercent:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,yPercent:50,scale:1,rotationZ:0,rotationX:0,z:10,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,yPercent:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],"esg-slideshortright":[.5,{x:-30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:-30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-slideshortrightout":[.5,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,x:30,ease:punchgs.Power3.easeOut,overwrite:"all"}],"esg-slideshortleft":[.5,{x:30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-slideshortleftout":[.5,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:-30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],"esg-slideshortup":[.5,{x:0,y:30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,y:30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-slideshortupout":[.5,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,y:-30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],".esg-slideshortdown":[.5,{x:0,y:-30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,y:-30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-slideshortdownout":[.5,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,y:30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],"esg-skewright":[.5,{xPercent:-100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,skewX:-60,xPercent:-100,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-skewrightout":[.5,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:-60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],"esg-skewleft":[.5,{xPercent:100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:-60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:100,z:0,skewX:60,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-skewleftout":[.5,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:-100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],"esg-shifttotop":[.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-rollleft":[.5,{xPercent:50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:90,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:50,z:0,rotationZ:90,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-rollleftout":[.5,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:90,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],"esg-rollright":[.5,{xPercent:-50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:-90,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:-50,rotationZ:-90,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-rollrightout":[.5,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:-50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:-90,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],"esg-falldown":[.4,{x:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,yPercent:-100},{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.4,{yPercent:-100,autoAlpha:0,z:0,ease:punchgs.Power2.easeOut,delay:.2,overwrite:"all"}],"esg-falldownout":[.4,{autoAlpha:1,yPercent:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,yPercent:100},.4,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],"esg-zoomin":[.3,{x:0,y:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:80,scale:.6,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"},.3,{autoAlpha:0,scale:.6,z:0,rotationZ:80,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-rotatescaleout":[.3,{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:80,scale:.6,transformOrigin:"50% 50%"},.3,{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"}],"esg-zoomintocorner":[.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"20% 50%"},{autoAlpha:1,scale:1.2,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{x:0,y:0,scale:1,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-zoomouttocorner":[.5,{x:0,y:0,scale:1.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"80% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{x:0,y:0,scale:1.2,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-zoomtodefault":[.5,{x:0,y:0,scale:1.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{x:0,y:0,scale:1.2,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-zoomdefaultblur":[.5,{x:0,y:0,scale:1.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{x:0,y:0,scale:1.2,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-zoomback":[.5,{x:0,y:0,scale:.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},.5,{x:0,y:0,scale:.2,autoAlpha:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-zoombackout":[.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,scale:.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"}],"esg-zoomfront":[.5,{x:0,y:0,scale:1.5,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{autoAlpha:0,x:0,y:0,scale:1.5,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-zoomfrontout":[.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,scale:1.5,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"}],"esg-flyleft":[.8,{x:-80,y:0,z:0,scale:.3,rotationZ:0,rotationY:75,rotationX:10,skewX:0,skewY:0,autoAlpha:.01,transformOrigin:"30% 10%"},{rotationY:0,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},.8,{autoAlpha:.01,x:-40,y:0,z:300,rotationY:60,rotationX:20,overwrite:"all"}],"esg-flyleftout":[.8,{rotationY:0,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},{x:-80,y:0,z:0,scale:.3,rotationZ:0,rotationY:75,rotationX:10,skewX:0,skewY:0,autoAlpha:.01,transformOrigin:"30% 10%"},.8,{rotationY:0,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],"esg-flyright":[.8,{skewX:0,skewY:0,autoAlpha:0,x:80,y:0,z:0,scale:.3,rotationZ:0,rotationY:-75,rotationX:10,transformOrigin:"70% 20%"},{rotationY:0,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},.8,{autoAlpha:0,x:40,y:-40,z:300,rotationY:-60,rotationX:-40,overwrite:"all"}],"esg-flyrightout":[.8,{rotationY:0,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},{skewX:0,skewY:0,autoAlpha:0,x:80,y:0,z:0,scale:.3,rotationZ:0,rotationY:-75,rotationX:10,transformOrigin:"70% 20%"},.8,{rotationY:0,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],"esg-mediazoom":[.3,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1.4,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,y:0,scale:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-zoomblur":[.3,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1.4,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,y:0,scale:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-blur":[.3,{autoAlpha:1},{autoAlpha:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-grayscalein":[.3,{autoAlpha:1},{autoAlpha:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-grayscaleout":[.3,{autoAlpha:1,filter:"grayscale(100%)"},{autoAlpha:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-zoomandrotate":[.6,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1.4,x:0,y:0,rotationZ:30,ease:punchgs.Power2.easeOut,overwrite:"all"},.4,{x:0,y:0,scale:1,z:0,rotationZ:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-pressback":[.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{rotationY:0,autoAlpha:1,scale:.8,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{rotationY:0,autoAlpha:1,z:0,scale:1,ease:punchgs.Power2.easeOut,overwrite:"all"}],"esg-3dturnright":[.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformPerspective:600},{x:-40,y:0,scale:.8,rotationZ:2,rotationX:5,rotationY:-28,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"100% 50% 40%",transformPerspective:600,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{z:0,x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,force3D:"auto",ease:punchgs.Power2.easeOut,overwrite:"all"},!0]},esgItemAnimations={"esg-item-zoomin":{enter:{time:.3,obj:{transformOrigin:"50% 50%",overwrite:"all",force3D:"auto",ease:punchgs.Power3.easeOut}},leave:{time:.3,obj:{transformOrigin:"50% 50%",scale:1,overwrite:"all",force3D:"auto",ease:punchgs.Power3.easeOut}}},"esg-item-zoomout":{enter:{time:.3,obj:{transformOrigin:"50% 50%",overwrite:"all",force3D:"auto",ease:punchgs.Sine.easeOut}},leave:{time:.3,obj:{transformOrigin:"50% 50%",scale:1,overwrite:"all",force3D:"auto",ease:punchgs.Sine.easeOut}}},"esg-item-fade":{enter:{time:.3,obj:{overwrite:"all",force3D:"auto",ease:punchgs.Sine.easeOut}},leave:{time:.3,obj:{opacity:1,overwrite:"all",force3D:"auto",ease:punchgs.Sine.easeOut}}},"esg-item-blur":{enter:{time:.3,obj:{overwrite:"all",force3D:"auto",ease:punchgs.Power2.easeOut}},leave:{time:.3,obj:{blur:0,overwrite:"all",force3D:"auto",ease:punchgs.Power2.easeOut}}},"esg-item-shift":{enter:{time:.3,obj:{overwrite:"all",force3D:"auto",ease:punchgs.Sine.easeOut}},leave:{time:.3,obj:{x:0,y:0,overwrite:"all",force3D:"auto",ease:punchgs.Sine.easeOut}}},"esg-item-rotate":{enter:{time:.3,obj:{transformOrigin:"50% 50%",overwrite:"all",force3D:"auto",ease:punchgs.Sine.easeOut}},leave:{time:.3,obj:{transformOrigin:"50% 50%",rotation:0,overwrite:"all",force3D:"auto",ease:punchgs.Sine.easeOut}}}},startAnimations=jQuery.extend(!0,{},esgAnimmatrix),mergedTransitions=["slideup","covergrowup","slideleft","slidedown","flipvertical","fliphorizontal","flipup","flipdown","flipright","flipleft","skewleft","flipleft","zoomin","flyleft","flyright"]}if("undefined"!=typeof punchgs)punchgsReady();else var punchgsTimer=setInterval(function(){"undefined"!=typeof punchgs&&(clearInterval(punchgsTimer),punchgsReady())},100);function getFullscreenHeight(e){var t=_E.winH;if(_E[e].minFullScreenHeight=_E[e].minFullScreenHeight===undefined?0:_E[e].minFullScreenHeight,_E[e].fullScreenOffsetContainer!=undefined)try{var a=_E[e].fullScreenOffsetContainer.split(",");a&&jQuery.each(a,function(a,i){i!==undefined&&null!==i&&i.length>0&&(t-=jQuery(i).outerHeight(!0)),_E[e].minFullScreenHeight!==undefined&&t<_E[e].minFullScreenHeight&&(t=_E[e].minFullScreenHeight)})}catch(e){}return t}function checkBottomPos(e,t){var a=_E[e].c.offset().top+_E[e].c.height()+(_E[e].contPadTop+_E[e].contPadBottom)-_E.doc.scrollTop(),i=_E.winH,o=_E.doc.height();(_E[e].lastBottomCompare!=a&&i>=a||t&&i>=a||o===i&&i>a||_E[e].justfiltered)&&(_E[e].justfiltered=!1,_E[e].lastBottomCompare=a,_E[e].lmbut&&1!=_E[e].loading&&(_E[e].loading=1,loadMoreItems(e,3)))}function createCookie(e,t,a){var i;if(a){var o=new Date;o.setTime(o.getTime()+24*a*60*60*1e3),i="; expires="+o.toGMTString()}else i="";document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+i+"; path=/"}function readCookie(e){for(var t=encodeURIComponent(e)+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var o=a[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return null}function checkMoreToLoad(e){var t=[],a=[],i=jQuery(_E[e].filterGroupClass+".esg-filter-wrapper.eg-search-wrapper .eg-forcefilter").length;jQuery(_E[e].filterGroupClass+".esg-filter-wrapper .esg-filterbutton.selected, "+_E[e].filterGroupClass+" .esg-filter-wrapper .esg-filterbutton.selected").each(function(){var e=jQuery(this).data("fid");-1==jQuery.inArray(e,a)&&(t.push(e),a.push(e))}),0==jQuery(_E[e].filterGroupClass+".esg-filter-wrapper .esg-filterbutton.selected, "+_E[e].filterGroupClass+" .esg-filter-wrapper .esg-filterbutton.selected").length&&t.push(-1);for(var o=[],s=0;s<_E[e].loadMoreItems.length;s++)jQuery.each(_E[e].loadMoreItems[s][1],function(a,r){jQuery.each(t,function(t,a){a==r&&-1!=_E[e].loadMoreItems[s][0]&&(0==i||1==i&&"cat-searchresult"===_E[e].loadMoreItems[s][2])&&o.push(_E[e].loadMoreItems[s])})});return addCountSuffix(e),o}function addCountSuffix(e){var t=jQuery(_E[e].filterGroupClass+".esg-filter-wrapper.eg-search-wrapper .eg-justfilteredtosearch").length,a=jQuery(_E[e].filterGroupClass+".esg-filter-wrapper.eg-search-wrapper .eg-forcefilter").length;jQuery(_E[e].filterGroupClass+".esg-filter-wrapper.eg-show-amount .esg-filterbutton").each(function(){var i=jQuery(this);if(0==i.find(".eg-el-amount").length||t>0){var o=i.data("fid"),s=i.data("filter");a>0&&(s+=".cat-searchresult");for(var r=_E[e].c.find("."+s).length,n=0;n<_E[e].loadMoreItems.length;n++)0==a?jQuery.each(_E[e].loadMoreItems[n][1],function(t,a){a===o&&-1!=_E[e].loadMoreItems[n][0]&&r++}):-1!=jQuery.inArray(o,_E[e].loadMoreItems[n][1])&&"cat-searchresult"===_E[e].loadMoreItems[n][2]&&r++;0==i.find(".eg-el-amount").length&&i.append('<span class="eg-el-amount">0</span>'),countToTop(i,r)}}),jQuery(_E[e].filterGroupClass+".esg-filter-wrapper.eg-search-wrapper .eg-justfilteredtosearch").removeClass("eg-justfilteredtosearch")}function countToTop(e,t){var a=e.find(".eg-el-amount"),i={value:parseInt(a.text(),0)};punchgs.TweenLite.to(i,2,{value:t,onUpdate:function(){a.html(Math.round(this._targets[0].value))},ease:punchgs.Power3.easeInOut})}function buildLoader(e,t,a,i){if(_E[t].esgloader!=undefined&&_E[t].esgloader.length>0)return!1;var o=a===undefined?_E[t].spinner:a.spinner,s=a===undefined?_E[t].spinnerColor:a.spinnerColor;return e.append('<div class="esg-loader '+o+'"><div class="dot1"></div><div class="dot2"></div><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'),esgloader=e.find(".esg-loader"),"spinner1"!=o&&"spinner2"!=o||esgloader.css("background",s),"spinner3"!=o&&"spinner4"!=o||e.find(".bounce1, .bounce2, .bounce3, .dot1, .dot2").css("background",s),i||punchgs.TweenLite.to(e,.3,{minHeight:"100px",zIndex:0}),esgloader}function setKeyToNull(e,t){jQuery.each(_E[e].loadMoreItems,function(a,i){i[0]==t&&(_E[e].loadMoreItems[a][0]=-1,_E[e].loadMoreItems[a][2]="already loaded")})}function loadMoreEmpty(e){for(var t=!0,a=0;a<_E[e].loadMoreItems.length;a++)-1!=_E[e].loadMoreItems[a][0]&&(t=!1);return t}function checkAnyItemVisible(e){1!=_E[e].loading&&(_E[e].c.find(".tp-esg-item").length===_E[e].c.find(".tp-esg-item.itemishidden").length?(_E[e].c.append('<span class="no-filter-message">'+_E[e].filterNoMatch+"</span>"),_E[e].c.addClass("show-message")):_E[e].c.removeClass("show-message"))}function loadMoreItems(e,t){var a=checkMoreToLoad(e),i=[];for(var o in _E[e].items)_E[e].items.hasOwnProperty(o)&&_E[e].items[o].c.className.indexOf("itemtoshow")>=0&&0;_E[e].tryToLoad=_E[e].tryToLoad===undefined?0:_E[e].tryToLoad,jQuery.each(a,function(t,a){i.length<parseInt(_E[e].tryToLoad,0)+parseInt(_E[e].loadMoreAmount,0)&&(i.push(a[0]),setKeyToNull(e,a[0]))}),_E[e].tryToLoad=0;var s=checkMoreToLoad(e).length;if("scroll"===_E[e].loadMoreType&&(_E[e].esgloader.addClass("infinityscollavailable"),"add"!=_E[e].esgloaderprocess&&(_E[e].esgloaderprocess="add",punchgs.TweenLite.to(_E[e].esgloader,.5,{autoAlpha:1,overwrite:"all"}))),i.length>0){_E[e].lmbut.length>0&&(punchgs.TweenLite.to(_E[e].lmbut,.4,{autoAlpha:.2}),_E[e].loading=1);var r={action:_E[e].loadMoreAjaxAction,client_action:"load_more_items",token:_E[e].loadMoreAjaxToken,data:i,gridid:_E[e].gridID};_E[e].customGallery&&(r.customgallery=!0),jQuery.ajax({type:"post",url:_E[e].loadMoreAjaxUrl,dataType:"json",data:r,success:function(t,a,i){if(t.success){var o=jQuery(t.data).filter(function(e){if(1===this.nodeType)return jQuery(this).data("eg-load-more-new",e),!0});_E[e].customGallery&&o.addClass("eg-newli"),jQuery(_E[e].filterGroupClass+".esg-filter-wrapper.eg-search-wrapper .eg-forcefilter").length>0&&o.addClass("cat-searchresult"),_E[e].c.find("ul").first().append(o),prepareItemsInGrid(e,!0),setItemsOnPages(e),stopAllVideos(!0),setTimeout(function(){organiseGrid(e,"Ajax Loaded"),prepareSortingAndOrders(e),loadMoreEmpty(e)?_E[e].lmbut.remove():(_E[e].lmtxt=_E[e].loadMoreTxt+" ("+s+")","off"==_E[e].loadMoreNr&&(_E[e].lmtxt=_E[e].loadMoreTxt),0==s?_E[e].lmbut.html(_E[e].loadMoreEndTxt):_E[e].lmbut.html(_E[e].lmtxt),_E[e].lmbut.length>0&&(punchgs.TweenLite.to(_E[e].lmbut,.4,{autoAlpha:1,overwrite:"all"}),_E[e].loading=0)),checkAnyItemVisible(e),setTimeout(function(){_E[e].animDelay="on"},500)},10)}},error:function(t,a,i){_E[e].lmbut.html("FAILURE: "+a)}})}else _E[e].loadMoreTriggerCache=-1,loadMoreEmpty(e)?(_E[e].lmbut.remove(),"scroll"===_E[e].loadMoreType&&_E[e].esgloader.remove()):(_E[e].loading=0,_E[e].lmbut.html(_E[e].loadMoreEndTxt))}function killOldCustomAjaxContent(e){var t=e.data("lastposttype"),a=e.data("oldajaxsource"),i=e.data("oldajaxtype"),o=e.data("oldajaxvideoaspect"),s=e.data("oldselector");if(t!=undefined&&""!=t)try{jQuery.each(jQuery.fn.tpessential.defaults.ajaxTypes,function(r,n){n!=undefined&&n.type!=undefined&&n.type==t&&n.killfunc!=undefined&&setTimeout(function(){n.killfunc.call(this,{id:a,type:i,aspectratio:o,selector:s})&&e.empty()},250)})}catch(e){console.log(e)}e.data("lastposttype","")}function addAjaxNavigagtion(e,t){var a=" eg-acp-"+_E[e].ajaxClosePosition;a=(a=a+" eg-acp-"+_E[e].ajaxCloseStyle)+" eg-acp-"+_E[e].ajaxCloseType;var i="eg-icon-left-open-1",o="eg-icon-right-open-1",s='<i class="eg-icon-cancel"></i>';"type1"==_E[e].ajaxCloseType&&(i="eg-icon-left-open-big",o="eg-icon-right-open-big",_E[e].ajaxCloseTxt="",s="X"),"true"!=_E[e].ajaxCloseInner&&1!=_E[e].ajaxCloseInner||(a+=" eg-acp-inner");var r='<div class="eg-ajax-closer-wrapper'+a+'">';switch("tr"==_E[e].ajaxClosePosition||"br"==_E[e].ajaxClosePosition?("on"==_E[e].ajaxNavButton&&(r=r+'<div class="eg-ajax-left eg-ajax-navbt"><i class="'+i+'"></i></div><div class="eg-ajax-right eg-ajax-navbt"><i class="'+o+'"></i></div>'),"on"==_E[e].ajaxCloseButton&&(r=r+'<div class="eg-ajax-closer eg-ajax-navbt">'+s+_E[e].ajaxCloseTxt+"</div>")):("on"==_E[e].ajaxCloseButton&&(r=r+'<div class="eg-ajax-closer eg-ajax-navbt">'+s+_E[e].ajaxCloseTxt+"</div>"),"on"==_E[e].ajaxNavButton&&(r=r+'<div class="eg-ajax-left eg-ajax-navbt"><i class="'+i+'"></i></div><div class="eg-ajax-right eg-ajax-navbt"><i class="'+o+'"></i></div>')),r+="</div>",_E[e].ajaxClosePosition){case"tl":case"tr":case"t":t.prepend(r);break;case"bl":case"br":case"b":t.append(r)}function n(e){var t=[];return jQuery.each(e,function(e,a){jQuery(a).closest(".itemtoshow.isvisiblenow").length>0&&t.push(a)}),t}t.find(".eg-ajax-closer").on("click",function(){showHideAjaxContainer(t,e,!1,null,null,.25,!0)}),t.find(".eg-ajax-right").on("click",function(){var t=_E[e].c.find(".lastclickedajax").closest("li"),a=t.nextAll().find(".eg-ajax-a-button"),i=t.prevAll().find(".eg-ajax-a-button");a=n(a),i=n(i),a.length>0?a[0].click():i[0].click()}),t.find(".eg-ajax-left").on("click",function(){var t=_E[e].c.find.find(".lastclickedajax").closest("li"),a=t.nextAll().find(".eg-ajax-a-button"),i=t.prevAll().find(".eg-ajax-a-button");a=n(a),(i=n(i)).length>0?i[i.length-1].trigger("click"):a[a.length-1].trigger("click")})}function showHideAjaxContainer(e,t,a,i,o,s,r){s=s==undefined?.25:s;var n=e.data("lastheight")!=undefined?e.data("lastheight"):"100px";a?(s+=1.2,addAjaxNavigagtion(t,e),punchgs.TweenLite.set(e,{height:"auto"}),punchgs.TweenLite.set(e.parent(),{minHeight:0,maxHeight:"none",height:"auto",overwrite:"all"}),punchgs.TweenLite.from(e,s,{height:n,ease:punchgs.Power3.easeInOut,onStart:function(){punchgs.TweenLite.to(e,s,{autoAlpha:1,ease:punchgs.Power3.easeOut})},onComplete:function(){e.data("lastheight",e.height()),_E.win.trigger("resize.essg"+t),0==e.find(".eg-ajax-closer-wrapper").length&&addAjaxNavigagtion(t,e)}}),"off"!=_E[t].ajaxScrollToOnLoad&&jQuery("html, body").animate({scrollTop:e.offset().top-o},{queue:!1,speed:.5})):(r&&(killOldCustomAjaxContent(e),n="0px"),punchgs.TweenLite.to(e.parent(),s,{height:n,ease:punchgs.Power2.easeInOut,onStart:function(){punchgs.TweenLite.to(e,s,{autoAlpha:0,ease:punchgs.Power3.easeOut})},onComplete:function(){setTimeout(function(){r&&e.html("")},300)}}))}function removeLoader(e){e.closest(".eg-ajaxanimwrapper").find(".esg-loader").remove()}function ajaxCallBack(id,a){if(_E[id].ajaxCallback==undefined||""==_E[id].ajaxCallback||_E[id].ajaxCallback.length<3)return!1;var splitter=_E[id].ajaxCallback.split(")");splitter=splitter[0].split("(");var callback=splitter[0],args=splitter.length>1&&""!=splitter[1]?splitter[1]+",":"",obj={};try{obj.containerid="#"+_E[id].ajaxContentTarget,obj.postsource=a.data("ajaxsource"),obj.posttype=a.data("ajaxtype"),"on"==_E[id].ajaxCallbackArgument?eval(callback+"("+args+"obj)"):eval(callback+"("+args+")")}catch(e){console.log("Callback Error"),console.log(e)}}function loadMoreContent(e,t){_E[e].c.find(".lastclickedajax").removeClass("lastclickedajax"),t.addClass("lastclickedajax");var a=jQuery("#"+_E[e].ajaxContentTarget).find(".eg-ajax-target").eq(0),i=t.data("ajaxsource"),o=t.data("ajaxtype"),s=t.data("ajaxvideoaspect");if(s="16:9"==s?"widevideo":"normalvideo",showHideAjaxContainer(a,e,!1),a.length>0)switch(_E[e].ajaxJsUrl!=undefined&&""!=_E[e].ajaxJsUrl&&_E[e].ajaxJsUrl.length>3&&jQuery.getScript(_E[e].ajaxJsUrl).done(function(t,a){_E[e].ajaxJsUrl=""}).fail(function(t,a,i){console.log("Loading Error on Ajax jQuery File. Please doublecheck if JS File and Path exist:"+_E[e].ajaxJSUrl),_E[e].ajaxJsUrl=""}),_E[e].ajaxCssUrl!=undefined&&""!=_E[e].ajaxCssUrl&&_E[e].ajaxCssUrl.length>3&&(jQuery("<link>").appendTo("head").attr({type:"text/css",rel:"stylesheet"}).attr("href",_E[e].ajaxCssUrl),_E[e].ajaxCssUrl=""),buildLoader(a.closest(".eg-ajaxanimwrapper"),e),a.data("ajaxload")!=undefined&&a.data("ajaxload").abort(),killOldCustomAjaxContent(a),o){case"postid":var r={action:_E[e].loadMoreAjaxAction,client_action:"load_more_content",token:_E[e].loadMoreAjaxToken,postid:i};setTimeout(function(){a.data("ajaxload",jQuery.ajax({type:"post",url:_E[e].loadMoreAjaxUrl,dataType:"json",data:r,success:function(i,o,s){i.success&&(jQuery(a).html(i.data),showHideAjaxContainer(a,e,!0,_E[e].ajaxScrollToOnLoad,_E[e].ajaxScrollToOffset),removeLoader(a),ajaxCallBack(e,t))},error:function(e,t,i){"abort"!=t&&(jQuery(a).append("<p>FAILURE: <strong>"+t+"</strong></p>"),removeLoader(a))}}))},300);break;case"youtubeid":setTimeout(function(){"false"!=_E[e].youtubeNoCookie?a.html('<div class="eg-ajax-video-container '+s+'"><iframe width="560" height="315" src="//www.youtube-nocookie.com/embed/'+i+'?autoplay=1&vq=hd1080&fs=1&mute=1&playsinline=1" frameborder="0" allow="autoplay; fullscreen"></iframe></div>'):a.html('<div class="eg-ajax-video-container '+s+'"><iframe width="560" height="315" src="//www.youtube.com/embed/'+i+'?autoplay=1&vq=hd1080&fs=1&mute=1&playsinline=1" frameborder="0" allow="autoplay; fullscreen"></iframe></div>'),removeLoader(a),showHideAjaxContainer(a,e,!0,_E[e].ajaxScrollToOnLoad,_E[e].ajaxScrollToOffset),ajaxCallBack(e,t)},300);break;case"vimeoid":setTimeout(function(){a.html('<div class="eg-ajax-video-container '+s+'"><iframe src="https://player.vimeo.com/video/'+i+'?portrait=0&autoplay=1&muted=1" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allow="autoplay; fullscreen"></iframe></div>'),removeLoader(a),showHideAjaxContainer(a,e,!0,_E[e].ajaxScrollToOnLoad,_E[e].ajaxScrollToOffset),ajaxCallBack(e,t)},300);break;case"wistiaid":setTimeout(function(){a.html('<div class="eg-ajax-video-container '+s+'"><iframe src="//fast.wistia.net/embed/iframe/'+i+'"allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen width="640" height="388" allow="autoplay; fullscreen"></iframe></div>'),removeLoader(a),showHideAjaxContainer(a,e,!0,_E[e].ajaxScrollToOnLoad,_E[e].ajaxScrollToOffset),ajaxCallBack(e,t)},300);break;case"html5vid":i=i.split("|"),setTimeout(function(){var o=-1!==i[0].search("mp4")?"video/mp4":"audio/mpeg";a.html('<video autoplay="true" autoplay playsinline muted loop="" class="rowbgimage" poster="" width="100%" height="auto"><source src="'+i[0]+'" type="'+o+'"><source src="'+i[1]+'" type="video/webm"><source src="'+i[2]+'" type="video/ogg"></video>'),removeLoader(a),showHideAjaxContainer(a,e,!0,_E[e].ajaxScrollToOnLoad,_E[e].ajaxScrollToOffset),ajaxCallBack(e,t)},300);break;case"soundcloud":case"soundcloudid":setTimeout(function(){a.html('<iframe width="100%" height="250" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/'+i+'&amp;auto_play=true&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;visual=true"></iframe>'),removeLoader(a),showHideAjaxContainer(a,e,!0,_E[e].ajaxScrollToOnLoad,_E[e].ajaxScrollToOffset),ajaxCallBack(e,t)},300);break;case"imageurl":setTimeout(function(){var o=new Image;o.onload=function(){var i=jQuery(this);a.html(""),i.css({width:"100%",height:"auto"}),a.append(jQuery(this)),removeLoader(a),showHideAjaxContainer(a,e,!0,_E[e].ajaxScrollToOnLoad,_E[e].ajaxScrollToOffset),ajaxCallBack(e,t)},o.onerror=function(t){a.html("Error"),removeLoader(a),showHideAjaxContainer(a,e,!0,_E[e].ajaxScrollToOnLoad,_E[e].ajaxScrollToOffset)},o.src=i},300);break;default:jQuery.each(jQuery.fn.tpessential.defaults.ajaxTypes,function(t,r){r.openAnimationSpeed==undefined&&(r.openAnimationSpeed=0),r!=undefined&&r.type!=undefined&&r.type==o&&setTimeout(function(){a.data("lastposttype",o),a.data("oldajaxsource",i),a.data("oldajaxtype",o),a.data("oldajaxvideoaspect",s),a.data("oldselector","#"+_E[e].ajaxContentTarget+" .eg-ajax-target"),showHideAjaxContainer(a,e,!0,_E[e].ajaxScrollToOnLoad,_E[e].ajaxScrollToOffset,0),a.html(r.func.call(this,{id:i,type:o,aspectratio:s})),removeLoader(a)},300)})}}jQuery.fn.extend({esgObserver:function(){_E.generalObserver=!0,_E.win=jQuery(window),_E.doc=jQuery(document),_E.winW=_E.win.width(),_E.winH=_E.win.height(),_E.notIE=document.documentMode===undefined,_E.isChromium=window.chrome,_E.win.on("resize",function(){_E.winW=_E.win.width(),_E.winH=_E.win.height()}),document.hasFocus()&&(_E.windowInFocus=!0),_E.notIE&&!_E.isChromium?_E.win.on("focusin",function(){supressFocus||jQuery.fn.redrawAllESG(150)}).on("focusout",function(){jQuery.fn.redrawAllESG("kill")}):window.addEventListener?(window.addEventListener("focus",function(e){supressFocus||jQuery.fn.redrawAllESG(150)},!1),window.addEventListener("blur",function(){jQuery.fn.redrawAllESG("kill")})):(window.attachEvent("focus",function(e){supressFocus||jQuery.fn.redrawAllESG(150)}),window.attachEvent("blur",function(){jQuery.fn.redrawAllESG("kill")}))},redrawAllESG:function(e){clearTimeout(_E.redrawAllTimer),"kill"!=e?!0!==_E.windowInFocus&&(_E.windowInFocus=!0,_E.redrawAllTimer=setTimeout(function(){window.requestAnimationFrame(function(){jQuery("body").find(".esg-grid.esg-container").each(function(){jQuery(this).esquickdraw()})})},e)):_E.windowInFocus=!1},tpessential:function(e){function t(){var t,a,i=this.id;
//! GOOGLE FONTS LOADING
function o(e){mainPreparing(e),_E[e].initialised="ready",jQuery("body").trigger("essentialready",e)}if(_E[i]=e,_E[i].c=jQuery(this),_E[i].contPadTop=parseInt(_E[i].c.css("paddingTop"),0),_E[i].contPadBottom=parseInt(_E[i].c.css("paddingBottom"),0),_E[i].viewportBuffer=_E[i].hasOwnProperty("viewportBuffer")?.01*_E[i].viewportBuffer:0,_E[i].hasOwnProperty("inViewport")||(_E[i].inViewport=!0),_E[i].c.parent().css("position","relative"),"cobbles"==_E[i].layout?(_E[i].layout="even",_E[i].evenCobbles="on"):_E[i].evenCobbles="off","true"!=_E[i].get&&1!=_E[i].get){if(_E[i].get=!0,_E[i].filterGroupClass==undefined||0==_E[i].filterGroupClass.length?_E[i].filterGroupClass="#"+i:_E[i].filterGroupClass="."+_E[i].filterGroupClass,punchgs.TweenLite==undefined){if(1==window.tplogs)try{console.error("GreenSock Engine Does not Exist!")}catch(e){}return!1}if(punchgs.force3D=!0,1==window.tplogs)try{console.info("GreenSock Engine Version in Essential Grid:"+punchgs.TweenLite.version)}catch(e){}if(punchgs.TweenLite.lagSmoothing(2e3,16),punchgs.force3D="auto",1==window.tplogs)try{console.groupEnd(),console.groupEnd()}catch(e){}_E.fullScreenMode=!1,_E.win.on("mozfullscreenchange webkitfullscreenchange fullscreenchange",function(){_E.fullScreenMode=!_E.fullScreenMode}),_E[i].cpar=_E[i].c.parent(),_E[i].mypc=_E[i].cpar.hasClass("myportfolio-container")?_E[i].cpar:_E[i].c.closest(".myportfolio-container"),_E[i].esgloader=buildLoader(_E[i].cpar,i),_E[i].firstshowever==undefined&&jQuery(_E[i].filterGroupClass+".esg-navigationbutton,"+_E[i].filterGroupClass+" .esg-navigationbutton").css({visibility:"hidden"}),_E[i].ESGRPH=jQuery('<div class="esg-relative-placeholder" style="width:100%;height:auto"></div>'),_E[i].cpar.append(_E[i].ESGRPH),_E[i].c.wrap('<div class="esg-'+i+'-fullscreen-forcer" style="position:relative;left:0px;top:0px;width:100%;height:auto;"></div>'),_E[i].ESGCFF=_E[i].c.closest(".esg-"+i+"-fullscreen-forcer");var s=_E[i].ESGRPH.offset().left;if("on"!=_E[i].forceFullWidth&&"on"!=_E[i].forceFullScreen||tpGS.gsap.set(_E[i].ESGCFF,{left:0-s,width:_E.winW}),_E[i].animDelay=0==_E[i].delayBasic?"off":"on",_E[i].UL=_E[i].c.find("ul").first(),_E[i].UL.addClass("mainul").wrap('<div class="esg-overflowtrick"></div>'),_E[i].ESGOT=_E[i].c.find(".esg-overflowtrick"),_E[i].navLeft=jQuery(_E[i].filterGroupClass+".esg-navbutton-solo-left,"+_E[i].filterGroupClass+" .esg-navbutton-solo-left"),_E[i].navRight=jQuery(_E[i].filterGroupClass+".esg-navbutton-solo-right,"+_E[i].filterGroupClass+" .esg-navbutton-solo-right"),_E[i].navLeft_scode=_E[i].navLeft.hasClass("esg-nav-by-shortcode"),_E[i].navRight_scode=_E[i].navLeft.hasClass("esg-nav-by-shortcode"),_E[i].navLeft.length>0&&!_E[i].navLeft_scode&&(_E[i].navLeft.css({marginTop:0-_E[i].navLeft.height()/2}),_E[i].navLeft.appendTo(_E[i].ESGOT)),_E[i].navRight.length>0&&!_E[i].navRight_scode&&(_E[i].navRight.css({marginTop:0-_E[i].navRight.height()/2}),_E[i].navRight.appendTo(_E[i].ESGOT)),punchgs.CSSPlugin.defaultTransformPerspective=1200,_E[i].animSpeed=_E[i].animSpeed/1e3,_E[i].delayBasic=_E[i].delayBasic/100,_E[i].filter=_E[i].statfilter,_E[i].origcolumn=_E[i].column,_E[i].currentpage=0,_E[i].c.addClass("esg-layout-"+_E[i].layout),window._T=_E[i],loadVideoApis(i),"even"==_E[i].layout&&"on"==_E[i].forceFullScreen&&(tpGS.gsap.set([_E[i].ESGOT,_E[i].UL],{display:"block",height:getFullscreenHeight(i)+"px"}),_E[i].mypc[0].style.height="auto",_E[i].mypc[0].classList.remove("eg-startheight")),0!=_E[i].googleFonts.length){var r=!0;if(jQuery("head").find("*").each(function(){jQuery(this).attr("src")!=undefined&&jQuery(this).attr("src").indexOf("webfont.js")>0&&(r=!1)}),WebFontConfig.active==undefined&&r){WebFontConfig={google:{families:_E[i].googleFonts},active:function(){window.requestAnimationFrame(function(){o(i)})},inactive:function(){window.requestAnimationFrame(function(){o(i)})},timeout:250};var n=document.createElement("script");n.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",n.type="text/javascript",n.async="true";var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(n,l)}else window.requestAnimationFrame(function(){o(i)})}else window.requestAnimationFrame(function(){o(i)});
//! LOAD MORE ITEMS
"button"==_E[i].loadMoreType?(_E[i].c.append('<div class="esg-loadmore-wrapper" style="text-align:center"><div class="esg-navigationbutton esg-loadmore">LOAD MORE</div></div>'),_E[i].lmbut=_E[i].c.find(".esg-loadmore"),_E[i].lmtxt=_E[i].loadMoreTxt+" ("+checkMoreToLoad(i).length+")","off"==_E[i].loadMoreNr&&(_E[i].lmtxt=_E[i].loadMoreTxt),_E[i].lmbut.html(_E[i].lmtxt),_E[i].lmbut.on("click",function(){1!=_E[i].loading&&loadMoreItems(i,2)}),0==checkMoreToLoad(i).length&&_E[i].lmbut.remove()):"scroll"==_E[i].loadMoreType&&(_E[i].c.append('<div style="display:inline-block" class="esg-navigationbutton esg-loadmore">LOAD MORE</div>'),_E[i].lmbut=_E[i].c.find(".esg-loadmore"),_E[i].lmtxt=_E[i].loadMoreTxt+" ("+checkMoreToLoad(i).length+")","off"==_E[i].loadMoreNr&&(_E[i].lmtxt=_E[i].loadMoreTxt),_E[i].lmbut.html(_E[i].lmtxt),jQuery(document,window).scroll(function(){checkBottomPos(i,!0)}),0==checkMoreToLoad(i).length&&_E[i].lmbut.remove())}(_E.doc.on("click."+i,".esg-filterbutton",function(){checkAnyItemVisible(i)}).on("mouseover",".tp-esg-item",function(){jQuery(".eg-item-in-focus").removeClass("eg-item-in-focus"),jQuery(this).addClass("eg-item-in-focus")}).on("mouseenter."+i+" mouseover."+i,function(){jQuery(".esgbox-container").addClass("esgbox-show-toolbar esgbox-show-nav")}).on("click."+i,".esgbox",function(){stopAllVideos(!0)}).on("click."+i,".esgbox-clone",function(){return jQuery(this).closest(".tp-esg-item").find(".esgbox").eq(0).trigger("click"),!1}).on("mouseenter."+i+" mouseleave."+i,".esg-anime-item",function(e){if(_E[i].items[this.id]!==undefined){var t=this.id,a=_E[i].items[this.id].mediacw,o=_E[i].items[this.id];if(a!==undefined&&null!==a&&a.length){var s,r,n,l=e.type.replace("mouse","");if(o.anime.other){var d=esgItemAnimations[o.anime.other][l],u=jQuery.extend({},d.obj);if("enter"===l)switch(o.anime.other){case"esg-item-zoomin":u.scale=o.anime.other_zoomin;break;case"esg-item-zoomout":u.scale=o.anime.other_zoomout;break;case"esg-item-fade":u.opacity=o.anime.other_fade;break;case"esg-item-blur":for(var c in n=o.anime.other_blur,isNaN(n)&&(n="5"),n=parseInt(n,10),n=Math.max(Math.min(n,30),0),u.blur=Math.max(Math.min(n,30),0),_E[i].items)_E[i].items.hasOwnProperty(c)&&-1!==_E[i].items[c].c.className.indexOf("isvisiblenow")&&_E[i].items[c].anime!==undefined&&c!==t&&(_E[i].items[c].twAnime?_E[i].items[c].twAnime.kill():punchgs.TweenLite.set(_E[i].items[c].media,{webkitFilter:"blur(0px)",filter:"blur(0px)"}),r=jQuery.extend({},u),_E[i].items[c].twAnime=punchgs.TweenLite.to(_E[i].items[c].media,d.time,{webkitFilter:"blur("+r.blur+"px)",filter:"blur("+r.blur+"px)"}));break;case"esg-item-shift":s=o.anime.other_shift,n=o.anime.shift_other_amount,isNaN(n)&&(n="10"),n=parseInt(n,10),"up"!==s&&"right"!==s||(n*=-1),u[s="up"===s||"down"===s?"y":"x"]=Math.max(Math.min(n,200),-200);break;case"esg-item-rotate":n=o.anime.other_rotate,isNaN(n)&&(n="100"),n=parseInt(n,10),u.rotation=Math.max(Math.min(n,359),-359)}if(u.hasOwnProperty("blur")){if("leave"===l)for(var c in _E[i].items)_E[i].items.hasOwnProperty(c)&&-1!==_E[i].items[c].c.className.indexOf("isvisiblenow")&&_E[i].items[c].anime!==undefined&&(_E[i].items[c].twAnime?_E[i].items[c].twAnime.kill():punchgs.TweenLite.set(_E[i].items[c].media,{webkitFilter:"blur(0px)",filter:"blur(0px)"}),r=jQuery.extend({},u),_E[i].items[c].twAnime=punchgs.TweenLite.to(_E[i].items[c].media,d.time,{webkitFilter:"blur("+r.blur+"px)",filter:"blur("+r.blur+"px)"}))}else for(var c in _E[i].items)_E[i].items.hasOwnProperty(c)&&-1!==_E[i].items[c].c.className.indexOf("isvisiblenow")&&_E[i].items[c].anime!==undefined&&c!==t&&punchgs.TweenLite.to(_E[i].items[c].mediacw[0],d.time,u)}if(o.anime.itm){var p=esgItemAnimations[o.anime.itm][l],h=jQuery.extend({},p.obj);if("enter"===l)switch(o.anime.itm){case"esg-item-zoomin":h.scale=o.anime.zoomin;break;case"esg-item-zoomout":h.scale=o.anime.zoomout;break;case"esg-item-fade":h.opacity=o.anime.fade;break;case"esg-item-blur":n=o.anime.blur,isNaN(n)&&(n="5"),n=parseInt(n,10),n=Math.max(Math.min(n,30),0),h.blur=Math.max(Math.min(n,30),0),o.twAnime?o.twAnime.kill():punchgs.TweenLite.set(o.media,{webkitFilter:"blur(0px)",filter:"blur(0px)"}),o.twAnime=punchgs.TweenLite.to(o.media,p.time,{webkitFilter:"blur("+h.blur+"px)",filter:"blur("+h.blur+"px)"});break;case"esg-item-shift":s=o.anime.shift,n=o.anime.shift_amount,isNaN(n)&&(n="10"),n=parseInt(n,10),"up"!==s&&"right"!==s||(n*=-1),h[s="up"===s||"down"===s?"y":"x"]=Math.max(Math.min(n,200),-200);break;case"esg-item-rotate":n=o.anime.rotate,isNaN(n)&&(n="30"),n=parseInt(n,10),h.rotation=Math.max(Math.min(n,359),-359)}h.hasOwnProperty("blur")?(o.twAnime?o.twAnime.kill():punchgs.TweenLite.set(o.media,{webkitFilter:"blur(0px)",filter:"blur(0px)"}),o.twAnime=punchgs.TweenLite.to(o.media,p.time,{webkitFilter:"blur("+h.blur+"px)",filter:"blur("+h.blur+"px)"})):punchgs.TweenLite.to(a,p.time,h)}}}}),"on"===_E[i].paginationSwipe)&&_E[i].ESGOT.on("touchstart",function(e){if((e=e.originalEvent).touches&&(e=e.touches[0]),t=e.pageX,"off"===_E[i].paginationDragVer)return!1}).on("touchmove",function(e){(e=e.originalEvent).touches&&(e=e.touches[0]),a=e.pageX}).on("touchend",function(){Math.abs(t-a)>_E[i].pageSwipeThrottle&&(t>a?onRightNavClick(i):onLeftNavClick(i))});if("on"===_E[i].paginationAutoplay){var d,u,c;function p(e){d=!1,clearInterval(u),c&&(u=setInterval(function(){!function(e){onRightNavClick(e)}(e)},_E[e].paginationAutoplayDelay))}_E[i].c.on("mouseenter.esgpagination",function(){d=!0,clearInterval(u)}).on("mouseleave.esgpagination",function(){p(i)}),_E[i].c.on("essential_grid_ready_to_use",function(){_E[i].c.find(".esg-pagination").length?(c=!0,d||p(i)):_E[i].c.off(".esgpagination")})}if("on"==_E[i].filterDeepLink){jQuery(".esg-filterbutton").on("click",function(){_E[i].loadMoreTriggerCache=!1;var e=window.location.href.split("#");if(e=e[0],filter=jQuery(this).data("filter"),0!=filter.indexOf("filter-"))history.pushState({},null,e);else{var t=filter.replace("filter-","#");history.pushState({},null,e+t)}});var h=jQuery(".esg-grid"),g=window.location.href;if(!h.length||-1===g.search("#"))return;var f=g.split("#");if(!(f=f[f.length-1]))return;f=f.toLowerCase().split(" ").join("").split("/").join("");var m=setInterval(function(){h.is(":visible")&&(clearInterval(m),jQuery('div[data-filter="filter-'+f+'"]').trigger("click"))},500)}function w(){var e=_E[i].c[0].getBoundingClientRect(),t=_E.winH*_E[i].viewportBuffer;e.top<_E.winH-t&&e.bottom>t&&(_E.win.off("scroll.esgviewport resize.esgviewport",w),_E[i].inViewport=!0,_E[i].c.find(".tp-esg-item").each(function(){var e=jQuery(this),t=e.data("viewportanime");t&&punchgs.TweenLite.to(e,t[0],t[1])}))}_E[i].inViewport||(_E.win.on("scroll.esgviewport resize.esgviewport",w),w())}if(
//! DEFAULT OPTIONS
jQuery.fn.tpessential.defaults={forceFullWidth:"off",forceFullScreen:"off",fullScreenOffsetContainer:"",row:3,column:4,space:10,pageAnimation:"fade",animSpeed:600,delayBasic:.08,smartPagination:"on",paginationScrollToTop:"off",paginationScrollToTopOffset:200,layout:"even",rtl:"off",aspectratio:"auto",bgPosition:"center center",bgSize:"cover",videoJsPath:"",overflowoffset:0,mainhoverdelay:0,rowItemMultiplier:[],filterGroupClass:"",filterType:"",filterLogic:"or",filterDeepLink:"off",showDropFilter:"hover",filterNoMatch:"No Items for the Selected Filter",evenGridMasonrySkinPusher:"on",loadMoreType:"none",loadMoreItems:[],loadMoreAmount:5,loadMoreTxt:"Load More",loadMoreNr:"on",loadMoreEndTxt:"No More Items for the Selected Filter",loadMoreAjaxUrl:"",loadMoreAjaxToken:"",loadMoreAjaxAction:"",videoPlaybackInGrid:"on",videoInlineControls:"on",videoInlineMute:"on",videoPlaybackOnHover:"off",lazyLoad:"off",lazyLoadColor:"#ff0000",gridID:0,mediaFilter:"",spinner:"",spinnerColor:"",lightBoxMode:"single",cobblesPattern:"",searchInput:".faqsearch",googleFonts:"",googleFontJS:"//ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",ajaxContentTarget:"",ajaxScrollToOnLoad:"off",ajaxScrollToOffset:100,ajaxCallback:"",ajaxCallbackArgument:"on",ajaxCssUrl:"",ajaxJsUrl:"",ajaxCloseButton:"on",ajaxNavButton:"on",ajaxCloseTxt:"Close",ajaxCloseType:"type1",ajaxClosePosition:"tr",ajaxCloseInner:"true",ajaxCloseStyle:"light",ajaxTypes:[],youtubeNoCookie:"false",cookies:{search:"off",filter:"off",pagination:"off",loadmore:"off",timetosave:"30"}},!0!==(_E=jQuery.fn.tpessential).generalObserver&&jQuery.fn.esgObserver(),e=jQuery.extend({},jQuery.fn.tpessential.defaults,e),"undefined"==typeof WebFontConfig&&(WebFontConfig={}),esgAnimmatrix)return this.each(t);var a=this,i=setInterval(function(){esgAnimmatrix&&(clearInterval(i),a.each(t))},100);return this},
//! METHODS
esappend:function(e){if(this!==undefined)var t=this.id===undefined&&this[0]!==undefined?this[0].id:this.id;return prepareItemsInGrid(t,!0),organiseGrid(t,"esappend"),prepareSortingAndOrders(t),_E[t].lastslide},esskill:function(){if(this!==undefined)var e=this.id===undefined&&this[0]!==undefined?this[0].id:this.id;jQuery("body").off("."+e),_E.win.off(".resize.essg"+e+" resize.esglb"+e),_E[e].c.find("*").each(function(){jQuery(this).off(),jQuery(this).remove()}),_E[e].c.remove(),_E[e].c.html(),_E[e].c=null},esreadsettings:function(e){if(this!==undefined)var t=this.id===undefined&&this[0]!==undefined?this[0].id:this.id;return _E[t]},esredraw:function(e){if(this!==undefined&&0!==this.length){var t=this.id===undefined&&this[0]!==undefined?this[0].id:this.id;if(t!==undefined){if(e!=undefined){if(e.space!=undefined&&(_E[t].space=parseInt(e.space,0)),e.row!=undefined&&(_E[t].row=parseInt(e.row,0)),e.rtl!=undefined&&(_E[t].rtl=e.rtl),e.aspectratio!=undefined&&(_E[t].aspectratio=e.aspectratio),e.forceFullWidth!=undefined)if(_E[t].forceFullWidth=e.forceFullWidth,"on"==_E[t].forceFullWidth){var a=_E[t].ESGRPH.offset().left;_E[t].ESGCFF.css({left:0-a,width:_E.winW})}else _E[t].ESGCFF.css({left:0,width:"auto"});if(e.rowItemMultiplier!=undefined&&(_E[t].rowItemMultiplier=e.rowItemMultiplier),e.responsiveEntries!=undefined&&(_E[t].responsiveEntries=e.responsiveEntries),e.hideBlankItemsAt!=undefined&&(_E[t].hideBlankItemsAt=e.hideBlankItemsAt),e.column!=undefined){if(e.column<=0||e.column>=20){var i=getBestFitColumn(t);_E[t].column=i.column,_E[t].columnindex=i.index,_E[t].mmHeight=i.mmHeight}else _E[t].column=parseInt(e.column,0);_E[t].origcolumn=_E[t].column}e.animSpeed!=undefined&&(_E[t].animSpeed=e.animSpeed/1e3),e.delayBasic!=undefined&&(_E[t].delayBasic=e.delayBasic/100),e.pageAnimation!=undefined&&(_E[t].pageAnimation=e.pageAnimation),e.changedAnim!=undefined&&(_E[t].changedAnim=e.changedAnim),1==e.silent&&(_E[t].silent=!0)}_E[t].started=!0,setItemsOnPages(t),organiseGrid(t,"esredraw")}}},esquickdraw:function(e){if(this!==undefined)var t=this.id===undefined&&this[0]!==undefined?this[0].id:this.id;_E[t].silent=!0,setItemsOnPages(t),organiseGrid(t,"esquickdraw"),stopAllVideos(!0)},esreinit:function(e){if(this!==undefined)var t=this.id===undefined&&this[0]!==undefined?this[0].id:this.id;return prepareItemsInGrid(t,!0),organiseGrid(t,"esreinit"),prepareSortingAndOrders(t),_E[t].lastslide}}),function(){var e,t,a={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(e in a)if(e in document){t=a[e];break}}();var is_mobile=function(){var e=["android","webos","iphone","ipad","blackberry","Android","webos","iPod","iPhone","iPad","Blackberry","BlackBerry"],t=!1;for(var a in e)navigator.userAgent.split(e[a]).length>1&&(t=!0);return t};function resetFiltersFromCookies(e,t,a){if("on"==_E[e].cookies.filter){var i=a!==undefined?a:readCookie("grid_"+_E[e].gridID+"_filters");if(i!==undefined&&null!==i&&i.length>0){var o=0;jQuery.each(i.split(","),function(a,i){i!==undefined&&-1!==i&&"-1"!==i&&jQuery(_E[e].filterGroupClass+".esg-filterbutton,"+_E[e].filterGroupClass+" .esg-filterbutton").each(function(){jQuery(this).data("fid")!=i&&parseInt(jQuery(this).data("fid"),0)!==parseInt(i,0)||jQuery(this).hasClass("esg-pagination-button")||(t?jQuery(this).trigger("click"):jQuery(this).addClass("selected"),o++)})}),o>0&&jQuery(_E[e].filterGroupClass+".esg-filterbutton.esg-allfilter,"+_E[e].filterGroupClass+" .esg-filterbutton.esg-allfilter").removeClass("selected")}}}function resetPaginationFromCookies(e,t){if("on"===_E[e].cookies.pagination){var a=t!==undefined?t:readCookie("grid_"+_E[e].gridID+"_pagination");a!==undefined&&null!==a&&a.length>0&&jQuery(_E[e].filterGroupClass+".esg-filterbutton.esg-pagination-button,"+_E[e].filterGroupClass+" .esg-filterbutton.esg-pagination-button").each(function(){parseInt(jQuery(this).data("page"),0)!==parseInt(a,0)||jQuery(this).hasClass("selected")||jQuery(this).trigger("click")})}}function resetSearchFromCookies(e){if("on"===_E[e].cookies.search){var t=readCookie("grid_"+_E[e].gridID+"_search");t!==undefined&&null!=t&&t.length>0&&(jQuery(_E[e].filterGroupClass+".eg-search-wrapper .eg-search-input").val(t).trigger("change"),_E[e].cookies.searchjusttriggered=!0)}}function onRightNavClick(e){_E[e].oldpage=_E[e].currentpage,_E[e].currentpage++,_E[e].currentpage>=_E[e].realmaxpage&&(_E[e].currentpage=0);var t=getBestFitColumn(e);_E[e].column=t.column,_E[e].columnindex=t.index,_E[e].mmHeight=t.mmHeight,setItemsOnPages(e),organiseGrid(e,"RightNavigation"),stopAllVideos(!0)}function onLeftNavClick(e){_E[e].oldpage=_E[e].currentpage,_E[e].currentpage--,_E[e].currentpage<0&&(_E[e].currentpage=_E[e].realmaxpage-1);var t=getBestFitColumn(e);_E[e].column=t.column,_E[e].columnindex=t.index,_E[e].mmHeight=t.mmHeight,setItemsOnPages(e),organiseGrid(e,"LeftNavigation"),stopAllVideos(!0)}function updateMasonryLook(e){"masonry"===_E[e].layout&&(clearTimeout(_E[e].updateGirdTimer),_E[e].updateGirdTimer=setTimeout(function(){window.requestAnimationFrame(function(){setItemsOnPages(e),organiseGrid(e,"filtergroup")})},100))}
//! MAIN PREPARING
function mainPreparing(e){resetFiltersFromCookies(e),_E[e].NAVC=_E[e].c.find(".eg-leftright-container");var t,a=getBestFitColumn(e);if(_E[e].column=a.column,_E[e].columnindex=a.index,_E[e].mmHeight=a.mmHeight,prepareItemsInGrid(e),organiseGrid(e,"MainPreparing"),jQuery(_E[e].filterGroupClass+".eg-search-wrapper").length>0){var i=_E[e].filterGroupClass.replace(".",""),o=jQuery(_E[e].filterGroupClass+".eg-search-wrapper .eg-search-submit"),s=jQuery(_E[e].filterGroupClass+".eg-search-wrapper .eg-search-clean");function r(){if(1==_E[e].lastsearchtimer)return!1;_E[e].lastsearchtimer=1,buildLoader(jQuery(_E[e].filterGroupClass+".eg-search-wrapper"),e,{spinner:"spinner3",spinnerColor:"#fff"},!0),punchgs.TweenLite.fromTo(jQuery(_E[e].filterGroupClass+".eg-search-wrapper").find(".esg-loader"),.3,{autoAlpha:0},{autoAlpha:1,ease:punchgs.Power3.easeInOut});var t,a=this,i=jQuery(_E[e].filterGroupClass+".eg-search-wrapper .eg-search-input"),o=i.val();if(i.prop("disabled","true"),o.length>0){i.trigger("searchstarting");var s={search:o,id:_E[e].gridID},r={action:_E[e].loadMoreAjaxAction,client_action:"get_grid_search_ids",token:_E[e].loadMoreAjaxToken,data:s};jQuery.ajax({type:"post",url:_E[e].loadMoreAjaxUrl,dataType:"json",data:r,success:function(i,s,r){if("on"===_E[e].cookies.search&&createCookie("grid_"+_E[e].gridID+"_search",o,_E[e].cookies.timetosave*(1/60/60)),!0===_E[e].cookies.searchjusttriggered){var l=readCookie("grid_"+_E[e].gridID+"_pagination"),d=readCookie("grid_"+_E[e].gridID+"_filters");setTimeout(function(){resetFiltersFromCookies(e,!0,d),resetPaginationFromCookies(e,l)},200),_E[e].cookies.searchjusttriggered=!1}setTimeout(function(){_E[e].lastsearchtimer=0,jQuery(_E[e].filterGroupClass+".eg-search-wrapper .eg-search-input").prop("disabled",!1),punchgs.TweenLite.to(jQuery(_E[e].filterGroupClass+".eg-search-wrapper").find(".esg-loader"),.5,{autoAlpha:1,ease:punchgs.Power3.easeInOut,onComplete:function(){jQuery(_E[e].filterGroupClass+".eg-search-wrapper").find(".esg-loader").remove()}}),jQuery(_E[e].filterGroupClass+".eg-search-wrapper .eg-search-input").trigger("searchended")},1e3);var u=[];i&&jQuery.each(i,function(e,t){t!=undefined&&jQuery.isNumeric(t)&&u.push(t)}),_E[e].cpar.find(".cat-searchresult").removeClass("cat-searchresult");jQuery.each(_E[e].loadMoreItems,function(e,t){t[2]="notsearched",jQuery.each(u,function(e,a){if(parseInt(t[0],0)===parseInt(a,0)&&-1!=parseInt(t[0],0))return t[2]="cat-searchresult",0,!1})}),jQuery.each(u,function(t,a){_E[e].cpar.find(".eg-post-id-"+a).addClass("cat-searchresult")}),_E[e].hiddenSearchField&&_E[e].hiddenSearchField.addClass("eg-forcefilter").addClass("eg-justfilteredtosearch"),(t=jQuery(_E[e].filterGroupClass+".esg-filter-wrapper .esg-allfilter")).length?t.trigger("click"):n.call(a)},error:function(t,a,i){console.log("FAILURE: "+a),setTimeout(function(){_E[e].lastsearchtimer=0,jQuery(_E[e].filterGroupClass+".eg-search-wrapper .eg-search-input").prop("disabled",!1),punchgs.TweenLite.to(jQuery(_E[e].filterGroupClass+".eg-search-wrapper").find(".esg-loader"),.5,{autoAlpha:1,ease:punchgs.Power3.easeInOut,onComplete:function(){jQuery(_E[e].filterGroupClass+".eg-search-wrapper").find(".esg-loader").remove()}}),jQuery(_E[e].filterGroupClass+".eg-search-wrapper .eg-search-input").trigger("searchended")},1e3)}})}else jQuery.each(_E[e].loadMoreItems,function(e,t){t[2]="notsearched"}),_E[e].cpar.find(".cat-searchresult").removeClass("cat-searchresult"),_E[e].hiddenSearchField&&_E[e].hiddenSearchField.removeClass("eg-forcefilter").addClass("eg-justfilteredtosearch"),"on"===_E[e].cookies.search&&createCookie("grid_"+_E[e].gridID+"_search","",-1),(t=jQuery(_E[e].filterGroupClass+".esg-filter-wrapper .esg-allfilter")).length?t.trigger("click"):n.call(a),setTimeout(function(){_E[e].lastsearchtimer=0,jQuery(_E[e].filterGroupClass+".eg-search-wrapper .eg-search-input").prop("disabled",!1),punchgs.TweenLite.to(jQuery(_E[e].filterGroupClass+".eg-search-wrapper").find(".esg-loader"),.5,{autoAlpha:1,ease:punchgs.Power3.easeInOut,onComplete:function(){jQuery(_E[e].filterGroupClass+".eg-search-wrapper").find(".esg-loader").remove()}}),jQuery(_E[e].filterGroupClass+".eg-search-wrapper .eg-search-input").trigger("searchended")},1e3)}_E[e].hiddenSearchField=jQuery('<div style="display:none !important" class="esg-filterbutton hiddensearchfield '+i+'" data-filter="cat-searchresult"><span>Search Result</span></div>'),jQuery(_E[e].filterGroupClass+".esg-filter-wrapper.eg-search-wrapper").append(_E[e].hiddenSearchField),_E[e].lastsearchtimer=0,o.click(r),jQuery(_E[e].filterGroupClass+".eg-search-wrapper .eg-search-input").on("change",r),s.on("click",function(){"on"===_E[e].cookies.search&&createCookie("grid_"+_E[e].gridID+"_search","",-1),jQuery.each(_E[e].loadMoreItems,function(e,t){t[2]="notsearched"}),_E[e].cpar.find(".cat-searchresult").removeClass("cat-searchresult"),jQuery(_E[e].filterGroupClass+".eg-search-wrapper .eg-search-input").val(""),_E[e].hiddenSearchField&&_E[e].hiddenSearchField.removeClass("eg-forcefilter").addClass("eg-justfilteredtosearch");var t=jQuery(_E[e].filterGroupClass+".esg-filter-wrapper .esg-allfilter");t.length?t.trigger("click"):n.call(this),setTimeout(function(){_E[e].lastsearchtimer=0,jQuery(_E[e].filterGroupClass+".eg-search-wrapper .eg-search-input").prop("disabled",!1),punchgs.TweenLite.to(jQuery(_E[e].filterGroupClass+".eg-search-wrapper").find(".esg-loader"),.5,{autoAlpha:1,ease:punchgs.Power3.easeInOut,onComplete:function(){jQuery(_E[e].filterGroupClass+".eg-search-wrapper").find(".esg-loader").remove()}}),jQuery(_E[e].filterGroupClass+".eg-search-wrapper .eg-search-input").trigger("searchended")},1e3)})}function n(){_E[e].loadMoreTriggerCache=!1,stopAllVideos(!0);var t=jQuery(this);t.hasClass("esg-pagination-button")||(jQuery(_E[e].filterGroupClass+".esg-allfilter, "+_E[e].filterGroupClass+" .esg-allfilter").removeClass("selected"),t.hasClass("esg-allfilter")&&jQuery(_E[e].filterGroupClass+".esg-filterbutton, "+_E[e].filterGroupClass+" .esg-filterbutton").each(function(){jQuery(this).removeClass("selected")})),t.closest(".esg-filters").hasClass("esg-singlefilters")||"single"==_E[e].filterType?(jQuery(_E[e].filterGroupClass+".esg-filterbutton, "+_E[e].filterGroupClass+" .esg-filterbutton").each(function(){jQuery(this).removeClass("selected")}),t.addClass("selected")):t.hasClass("selected")?t.removeClass("selected"):t.addClass("selected"),this.classList.remove("hovered"),_E[e].hiddenSearchField&&_E[e].hiddenSearchField.hasClass("eg-forcefilter")&&_E[e].hiddenSearchField.addClass("selected");var a=0,i="";if(jQuery(_E[e].filterGroupClass+".esg-filterbutton.selected,"+_E[e].filterGroupClass+" .esg-filterbutton.selected").each(function(){-1===this.className.indexOf("esg-pagination-button")&&(i=0===++a?jQuery(this).data("fid"):i+","+jQuery(this).data("fid"))}),"on"===_E[e].cookies.filter&&!0!==_E[e].cookies.searchjusttriggered&&createCookie("grid_"+_E[e].gridID+"_filters",i,_E[e].cookies.timetosave*(1/60/60)),0==a&&jQuery(_E[e].filterGroupClass+".esg-allfilter,"+_E[e].filterGroupClass+" .esg-allfilter").addClass("selected"),_E[e].filterchanged=!0,_E[e].currentpage=0,1==_E[e].maxpage?(jQuery(_E[e].filterGroupClass+".navigationbuttons,"+_E[e].filterGroupClass+" .navigationbuttons").css({display:"none"}),jQuery(_E[e].filterGroupClass+".esg-pagination,"+_E[e].filterGroupClass+" .esg-pagination").css({display:"none"})):(jQuery(_E[e].filterGroupClass+".navigationbuttons,"+_E[e].filterGroupClass+" .navigationbuttons").css({display:"inline-block"}),jQuery(_E[e].filterGroupClass+".esg-pagination,"+_E[e].filterGroupClass+" .esg-pagination").css({display:"inline-block"})),_E[e].lmbut!=undefined&&_E[e].lmbut.length>0){var o=checkMoreToLoad(e).length;o>0?"off"==_E[e].loadMoreNr?_E[e].lmbut.html(_E[e].loadMoreTxt):_E[e].lmbut.html(_E[e].loadMoreTxt+" ("+o+")"):(_E[e].loading=0,_E[e].lmbut.html(_E[e].loadMoreEndTxt))}_E[e].justfiltered=!0,setItemsOnPages(e),organiseGrid(e,"filtergroup"),updateMasonryLook(e)}addCountSuffix(e),_E.doc.on("mouseenter",".esg-navigationbutton, .esg-filterbutton, .esg-sortbutton, .esg-sortbutton-order, .eg-search-submit, .eg-search-clean, .eg-search-input, .esg-sorting-select, .esg-selected-filterbutton, .esg-cartbutton",function(){this.classList.add("hovered")}),_E.doc.on("mouseleave",".esg-navigationbutton, .esg-filterbutton, .esg-sortbutton, .esg-sortbutton-order, .eg-search-submit, .eg-search-clean, .eg-search-input, .esg-sorting-select, .esg-selected-filterbutton,  .esg-cartbutton",function(){this.classList.remove("hovered")}),jQuery(_E[e].filterGroupClass+".esg-filter-wrapper,"+_E[e].filterGroupClass+" .esg-filter-wrapper").each(function(t){var a=jQuery(this);a.hasClass("dropdownstyle")&&(a.find(".esg-filter-checked").each(function(){jQuery(this).prependTo(jQuery(this).parent())}),is_mobile()?a.find(".esg-selected-filterbutton").on("click",function(){var e=a.find(".esg-selected-filterbutton");e.hasClass("hoveredfilter")?(e.removeClass("hoveredfilter"),a.find(".esg-dropdown-wrapper").stop().hide()):(e.addClass("hoveredfilter"),a.find(".esg-dropdown-wrapper").stop().show())}):"click"==_E[e].showDropFilter?(a.on("click",function(){var e=jQuery(this).closest(".esg-filter-wrapper");e.find(".esg-selected-filterbutton").addClass("hoveredfilter"),e.find(".esg-dropdown-wrapper").stop().show()}),a.on("mouseleave",function(){var e=jQuery(this).closest(".esg-filter-wrapper");e.find(".esg-selected-filterbutton").removeClass("hoveredfilter"),e.find(".esg-dropdown-wrapper").stop().hide()})):a.hover(function(){var e=jQuery(this).closest(".esg-filter-wrapper");e.find(".esg-selected-filterbutton").addClass("hoveredfilter"),e.find(".esg-dropdown-wrapper").stop().show()},function(){var e=jQuery(this).closest(".esg-filter-wrapper");e.find(".esg-selected-filterbutton").removeClass("hoveredfilter"),e.find(".esg-dropdown-wrapper").stop().hide()}))}),is_mobile()&&_E.doc.on("click touchstart",function(t){0==jQuery(t.target).closest(".esg-filter-wrapper").length&&(_E[e].c.find(".hoveredfilter").removeClass("hoveredfilter"),_E[e].c.find(".esg-dropdown-wrapper").stop().hide())}),_E[e].c.find(".esg-filters").each(function(e){this.className.indexOf("esg-navbutton-solo-")>=0?punchgs.TweenLite.set(this,{zIndex:1270-e}):punchgs.TweenLite.set(this,{zIndex:70-e})}),_E[e].c.find(".esg-filter-wrapper.dropdownstyle").each(function(e){punchgs.TweenLite.set(this,{zIndex:1570-e})}),jQuery("body").on("click."+e,"#"+e+" "+_E[e].filterGroupClass+".esg-left,"+_E[e].filterGroupClass+" .esg-left",function(){onLeftNavClick(e)}),jQuery("body").on("click."+e,"#"+e+" "+_E[e].filterGroupClass+".esg-right,"+_E[e].filterGroupClass+" .esg-right",function(){onRightNavClick(e)}),jQuery(_E[e].filterGroupClass+".esg-filterbutton, "+_E[e].filterGroupClass+" .esg-filterbutton").each(function(){jQuery(this).hasClass("esg-pagination-button")||jQuery(this).click(n)}),_E.win.on("resize.essg"+e,function(a){if(clearTimeout(t),"on"==_E[e].forceFullWidth||"on"==_E[e].forceFullScreen){var i=_E[e].ESGRPH.offset().left;_E[e].ESGCFF.css({left:0-i,width:_E.winW})}else _E[e].ESGCFF.css({left:0,width:"auto"});if(_E[e].NAVC.length>0){var o=_E[e].NAVC.outerWidth(!0);punchgs.TweenLite.set(_E[e].ESGOT,{width:_E[e].width()-o,overwrite:"all"})}var s=getBestFitColumn(e);_E[e].column=s.column,_E[e].columnindex=s.index,_E[e].mmHeight=s.mmHeight,t=setTimeout(function(){_E[e].fromResize=!0,setItemsOnPages(e),organiseGrid(e,"resize"),stopAllVideos(!0,!1,!1,!0)},200)}).on("resize.esglb"+e,function(){var t=jQuery(".esgbox-slide--video .esgbox-iframe");if(t.length){var a,i,o,s,r=jQuery("body").hasClass("esg-four-by-three"),n=_E[e].c.data("lightboxsettings").videoScale,l=_E.win.width(),d=_E.win.height();n&&(buffer=_E[e].c.data("lightboxsettings").videoScaleBuffer,buffer&&(d-=2*buffer)),r?(o=800,s=600):(o=1280,s=720),t.each(function(){if(o<l&&s<d&&!n)i=o,a=s;else{var e=(i=l/o)>(a=d/s)?a:i;i=o*e,a=s*e,l>d?a>d&&(i=o*((a=d)/s)):i>a?i>l&&(a=s*((i=l)/o)):a>d&&(i=o*((a=d)/s))}jQuery(this).width(i).height(a)})}}),_E[e].c.on("itemsinposition",function(e,t){var a=this.id;isComplete=t,clearTimeout(_E[a].iteminspositiontimer),_E[a].iteminspositiontimer=setTimeout(function(){!function(e){if(clearTimeout(_E[e].c.data("callednow")),_E[e].maxheight>0&&_E[e].maxheight<9999999999){_E[e].inanimation=!1;var t=parseInt(_E[e].ESGOT.css("paddingTop"),0);padbot=parseInt(_E[e].ESGOT.css("paddingBottom"),0),t=t==undefined?0:null==t?0:t,padbot=padbot==undefined?0:null==padbot?0:padbot,_E[e].UL_height="on"==_E[e].forceFullScreen?getFullscreenHeight(e):_E[e].maxheight+_E[e].overflowoffset+t+padbot;var a=_E[e].firstLoadFinnished?_E[e].animSpeed:.001*_E[e].startAnimationSpeed;punchgs.TweenLite.to([_E[e].ESGOT,_E[e].UL],a,{force3D:"auto",height:_E[e].UL_height,ease:punchgs.Power3.easeInOut,clearProps:"transform",onComplete:function(){_E[e].mypc[0].style.height="auto",_E[e].mypc[0].classList.remove("eg-startheight"),_E[e].mypc[0].classList.add("esg-revealed"),_E[e].releaseHovers=!0,_E.win.trigger("scroll.esgviewport")}}),_E[e].NAVC.length>0&&punchgs.TweenLite.to(_E[e].NAVC,a,{minHeight:_E[e].UL_height,ease:punchgs.Power3.easeInOut}),_E[e].navLeft.length>0&&!_E[e].navLeft_scode&&_E[e].navLeft.css({marginTop:0-_E[e].navLeft.height()/2}),_E[e].navRight.length>0&&!_E[e].navRight_scode&&_E[e].navRight.css({marginTop:0-_E[e].navRight.height()/2})}else 0==_E[e].maxheight&&punchgs.TweenLite.to([_E[e].ESGOT,_E[e].UL],1,{force3D:"auto",height:0,ease:punchgs.Power3.easeInOut,clearProps:"transform"});_E[e].c.data("callednow",setTimeout(function(){_E[e].c!==undefined&&null!==_E[e].c&&_E[e].c.find(".itemtoshow.isvisiblenow").each(function(){hideUnderElems(jQuery(this))})},250)),_E[e].firstLoadFinnished===undefined&&(_E[e].c.trigger("essential_grid_ready_to_use"),resetSearchFromCookies(e),resetPaginationFromCookies(e),_E[e].firstLoadFinnished=!0),"masonry"===_E[e].layout&&!0!==_E[e].masonryFirstUpdate&&(_E[e].masonryFirstUpdate=!0,window.requestAnimationFrame(function(){_E[e].silent=!0,setItemsOnPages(e),organiseGrid(e,"esquickdraw")}))}(a)},50)}),prepareSortingAndOrders(e),prepareSortingClicks(e);var l=_E[e].convertFilterMobile&&"ontouchend"in document;if(l?prepareMobileDropdowns(_E[e].c):(_E[e].c.find(".esg-filter-wrapper").css("visibility","visible"),_E[e].c.find(".esg-selected-filterbutton").show()),-1!==e.search("esg-grid-")){var d=e.split("esg-grid-")[1];if(-1===d.search("-"))return;d=e.split("-")[0];var u=jQuery(".esg-filter-wrapper.esg-fgc-"+d);if(!u.length)return;l?prepareMobileDropdowns(u,!0):(u.css("visibility","visible"),u.find(".esg-selected-filterbutton").show())}}function prepareMobileDropdowns(e,t){var a;function i(){var e=jQuery(this).hide();a+='<option value="'+e.attr("data-filter")+'">'+e.children("span").not(".esg-filter-checked").eq(0).text()+"</option>"}e.find(".esg-mobile-filter-button").addClass("esg-selected-filterbutton").show(),t||(e=e.find(".esg-filter-wrapper")),e.addClass("esg-mobile-filter-wrap").each(function(){if(-1===this.className.indexOf("eg-search-wrapper")){var e=jQuery(this).css("position","relative");a='<select class="esg-sorting-select">',e.find(".esg-filterbutton").each(i),jQuery(a+="</select>").on("change",function(){e.find('.esg-filterbutton[data-filter="'+this.value+'"]').trigger("click"),e.find(".esg-selected-filterbutton span").eq(0).text(jQuery(this.options[this.selectedIndex]).text())}).appendTo(e)}})}function prepareSortingAndOrders(e){_E[e].c.find(".tp-esg-item").each(function(){var e=new Date(jQuery(this).data("date"));jQuery(this).data("date",e.getTime()/1e3)}),jQuery(_E[e].filterGroupClass+".esg-sortbutton-order,"+_E[e].filterGroupClass+" .esg-sortbutton-order").each(function(){var e=jQuery(this);e.removeClass("tp-desc").addClass("tp-asc"),e.data("dir","asc")})}function prepareSortingClicks(e){var t;jQuery(_E[e].filterGroupClass+".esg-sortbutton-wrapper .esg-sortbutton-order,"+_E[e].filterGroupClass+" .esg-sortbutton-wrapper .esg-sortbutton-order").on("click",function(){var a=jQuery(this);this.classList.remove("hovered"),a.hasClass("tp-desc")?(a.removeClass("tp-desc").addClass("tp-asc"),a.data("dir","asc")):(a.removeClass("tp-asc").addClass("tp-desc"),a.data("dir","desc"));var i=a.data("dir");stopAllVideos(!0,!0),jQuery(_E[e].filterGroupClass+".esg-sorting-select,"+_E[e].filterGroupClass+" .esg-sorting-select").each(function(){var a=jQuery(this).val();clearTimeout(t),_E[e].c.find(".tp-esg-item").tsort({data:a,forceStrings:"false",order:i}),t=setTimeout(function(){setItemsOnPages(e),organiseGrid(e,"preparSorting")},200)})}),jQuery(_E[e].filterGroupClass+".esg-sorting-select,"+_E[e].filterGroupClass+" .esg-sorting-select").each(function(){var a=jQuery(this);a.change(function(){var i=jQuery(this).closest(".esg-sortbutton-wrapper").find(".esg-sortbutton-order"),o=a.val(),s=a.find("option:selected").text(),r=i.data("dir");stopAllVideos(!0,!0),clearTimeout(t),a.parent().parent().find(".sortby_data").text(s),_E[e].c.find(".tp-esg-item").tsort({data:o,forceStrings:"false",order:r})!==undefined&&(setItemsOnPages(e),organiseGrid(e,"OnSorting"))})})}function fixCenteredCoverElement(e,t,a){if(t==undefined&&(t=e.find(".esg-entry-cover")),a==undefined&&(a=e.find(".esg-entry-media")),t&&a){var i=a.outerHeight();punchgs.TweenLite.set(t,{height:i});var o=e.find(".esg-cc");punchgs.TweenLite.set(o,{top:(i-o.height())/2})}}function getBestFitColumn(e){var t=_E.winW,a=0,i=9999,o=0,s=_E[e].column,r=_E[e].column,n=0,l=0;_E[e].responsiveEntries!=undefined&&_E[e].responsiveEntries.length>0&&jQuery.each(_E[e].responsiveEntries,function(e,d){var u=parseInt(d.width!=undefined?d.width:0),c=parseInt(d.amount!=undefined?d.amount:0);i>u&&(i=u,s=c,l=e),o<u&&(o=u,lamount=c),u>a&&u<=t&&(a=u,r=c,n=e)}),i>_E.winW&&(r=s,n=l);var d={};if(d.index=n,d.column=r,d.mmHeight=_E[e].responsiveEntries[d.index].mmheight,"none"!==_E[e].hideBlankItemsAt){var u=document.querySelectorAll(".eg-esgblankskin-wrapper");for(var c in _E[e].items=_E[e].items===undefined?{}:_E[e].items,u)u.hasOwnProperty(c)&&(_E[e].items[u[c].id]=_E[e].items[u[c].id]===undefined?{}:_E[e].items[u[c].id],_E[e].items[u[c].id].skipBlank=n>=parseInt(_E[e].hideBlankItemsAt,10))}return(!0===_E[e].itWasCobbles||"even"===_E[e].layout&&"on"==_E[e].evenCobbles&&_E[e].cobblesToEven!==undefined&&_E[e].cobblesToEven>0)&&(_E[e].itWasCobbles=!0,d.index>=_E[e].cobblesToEven?_E[e].evenCobbles="off":_E[e].evenCobbles="on"),d}function checkMediaListeners(e){e.find("iframe").each(function(e){var t=jQuery(this);t.attr("src").toLowerCase().indexOf("youtube")>0?prepareYT(t):t.attr("src").toLowerCase().indexOf("vimeo")>0?prepareVimeo(t):t.attr("src").toLowerCase().indexOf("wistia")>0?prepareWs(t):t.attr("src").toLowerCase().indexOf("soundcloud")>0&&prepareSoundCloud(t)}),e.find("video").each(function(e){prepareVideo(jQuery(this))})}function waitMediaListeners(e,t){var a=e.find("iframe").first(),i=e.find("video").first(),o=a.length>0&&a.attr("src").toLowerCase().indexOf("youtube")>0?"y":a.length>0&&a.attr("src").toLowerCase().indexOf("vimeo")>0?"v":a.length>0&&a.attr("src").toLowerCase().indexOf("wistia")>0?"w":a.length>0&&a.attr("src").toLowerCase().indexOf("soundcloud")>0?"s":i.length>0&&i.length>=1?"h":"",s=setInterval(function(){e.find("iframe, video").each(function(r){(""===o||"y"===o&&prepareYT(a)||"v"===o&&prepareVimeo(a)||"w"===o&&prepareWs(a)||"s"===o&&prepareSoundCloud(a)||"h"===o&&prepareVideo(i))&&(clearInterval(s),1===_E[t].items[e[0].id].simplevideo&&videoClickEvent(e,t,!0))})},50)}function directionPrepare(e,t,a,i,o){var s={x:0,y:0};switch(e){case 0:s.y="in"==t?0-i:10+i,s.y=o&&"in"==t?s.y-5:s.y;break;case 1:s.x="in"==t?a:-10-a,s.x=o&&"in"==t?s.x+5:s.x;break;case 2:s.y="in"==t?i:-10-i,s.y=o&&"in"==t?s.y+5:s.y;break;case 3:s.x="in"==t?0-a:10+a,s.x=o&&"in"==t?s.x-5:s.x}return s}function getDir(e,t){var a=e.width(),i=e.height(),o=(t.x-e.offset().left-a/2)*(a>i?i/a:1),s=(t.y-e.offset().top-i/2)*(i>a?a/i:1);return Math.round((Math.atan2(s,o)*(180/Math.PI)+180)/90+3)%4}function hideUnderElems(e){e.find(".eg-handlehideunder").each(function(){var t=jQuery(this),a=t.data("hideunder"),i=t.data("hideunderheight"),o=t.data("hidetype");t.data("knowndisplay")==undefined&&t.data("knowndisplay",t.css("display")),e.width()<a&&a!=undefined||e.height()<i&&i!=undefined?"visibility"==o?t.addClass("forcenotvisible"):"display"==o&&t.addClass("forcenotdisplay"):"visibility"==o?t.removeClass("forcenotvisible"):"display"==o&&t.removeClass("forcenotdisplay")})}function offsetParrents(e,t,a){if(_E[a].UL_height){var i=t.height();if(t.position().top+i>_E[a].UL_height+40||0==e||0!=_E[a].ULBH&&_E[a].ULBH!=undefined&&t.position().top+i>parseInt(_E[a].ULBH,0)+40){_E[a].ULBH!=undefined&&0!=_E[a].ULBH||(_E[a].ULBH=_E[a].UL_height);var o=_E[a].c.find(".esg-navbutton-solo-left"),s=_E[a].c.find(".esg-navbutton-solo-right");if(o.length||(o=!1),s.length||(s=!1),!_E[a].fheightcalc){var r=0,n=_E[a].c.find(".esg-filters").each(function(){var e=jQuery(this);"relative"===e.css("position")&&e.index()>_E[a].ESGOT.index()&&-1===this.className.search(/solo-left|solo-right/)&&(r+=e.outerHeight(!0))});_E[a].fmargincalc=r?(parseInt(_E[a].c.css("padding-top"),10)+parseInt(_E[a].c.css("padding-bottom"),10))/2:0,_E[a].fheightcalc=r||!0,_E[a].fstartval=Math.ceil(r/2)+Math.ceil(_E[a].fmargincalc/2)}if(0!=e){clearTimeout(_E[a].UL_offtimer),_E[a].navArrowTrick||(o&&o.appendTo(_E[a].c),s&&s.appendTo(_E[a].c),_E[a].navArrowTrick=!0),_E[a].UL_alreadInOff=!1,punchgs.TweenLite.to([_E[a].UL,_E[a].ESGOT],.2,{height:_E[a].ULBH+e});n=_E[a].fheightcalc;var l=_E[a].fmargincalc||0;!0===n&&(n=0),(o||s)&&punchgs.TweenLite.set([o,s],{top:otb/2+n/2,y:l})}else!0!==_E[a].UL_alreadInOff&&(_E[a].UL_offtimer=setTimeout(function(){_E[a].UL_alreadInOff=!0,punchgs.TweenLite.to([_E[a].ESGOT,_E[a].UL],.3,{height:_E[a].ULBH,ease:punchgs.Power3.easeIn,onComplete:function(){_E[a].ULBH=0,_E[a].UL_alreadInOff=!1,o&&o.appendTo(ot),s&&s.appendTo(ot);var e={top:"50%"};_E[a].fstartval&&(e.y=_E[a].fstartval),(o||s)&&punchgs.TweenLite.set([o,s],e),delete _E[a].navArrowTrick}})},100))}}}function itemHoverAnim(e,t,a,i){var o=_E[a].items[e].jc;if(1!=_E[a].items[e].simplevideo&&checkMediaListeners(o),!o.hasClass("esg-video-active")){_E[a].items[e].animstarted=1,punchgs.TweenLite.set(o,{z:.01,x:0,y:0,rotationX:0,rotationY:0,rotationZ:0}),o.addClass("esg-hovered");var s=o.find(".esg-entry-cover");if(punchgs.TweenLite.set(s,{transformStyle:"flat"}),fixCenteredCoverElement(o,s),_E[a].items[e].outHeight=o.outerHeight(),_E[a].items[e].outWidth=o.outerWidth(),_E[a].items[e].entryc.length>0&&"even"==_E[a].layout){if(punchgs.TweenLite.set(_E[a].items[e].entryc,{display:"block"}),o.hasClass("esg-split-content")&&punchgs.TweenLite.set(_E[a].items[e].mediaw,{height:_E[a].items[e].outHeight}),punchgs.TweenLite.set(o,{z:.1,zIndex:50,x:0-(_E[a].items[e].padding.l+_E[a].items[e].padding.r+_E[a].items[e].border.r+_E[a].items[e].border.l)/2,y:0-(_E[a].items[e].padding.t+_E[a].items[e].padding.b+_E[a].items[e].border.t+_E[a].items[e].border.b)/2,height:"auto",width:_E[a].items[e].outWidth+_E[a].items[e].padding.l+_E[a].items[e].padding.r+_E[a].items[e].border.l+_E[a].items[e].border.r}),1!=_E[a].inanimation&&_E[a].releaseHovers&&punchgs.TweenLite.set(_E[a].ESGOT,{overflow:"visible"}),"on"==_E[a].evenGridMasonrySkinPusher)offsetParrents(o.height()-_E[a].items[e].outHeight,o,a);o.css({paddingTop:_E[a].items[e].padding.t+"px",paddingLeft:_E[a].items[e].padding.l+"px",paddingRight:_E[a].items[e].padding.r+"px",paddingBottom:_E[a].items[e].padding.b+"px",borderTopWidth:_E[a].items[e].border.t+"px",borderBottomWidth:_E[a].items[e].border.b+"px",borderLeftWidth:_E[a].items[e].border.l+"px",borderRightWidth:_E[a].items[e].border.r+"px"})}o.find(".esg-transition").each(function(){if(esgAnimmatrix.hasOwnProperty(this.dataset.transition)){var t=this.dataset.transition,o=this.dataset.duration,s=esgAnimmatrix[t];o=o&&"default"!==o?.001*parseInt(o,10):s[0];var r=this.dataset.delay!=undefined?this.dataset.delay:0;animfrom=jQuery.extend({},s[1]),animto=jQuery.extend({},s[2]),animto.delay=r,animto.overwrite="all",animfrom.overwrite="all",animto.transformStyle="flat",animto.force3D=!0;var n,l,d=this.className.indexOf("esg-entry-media");if((t.indexOf("out")>-1||d)&&(animto.clearProps="transform"),animfrom.transformPerspective==undefined&&(animfrom.transformPerspective=1e3),d&&this.getElementsByClassName("esg-media-video").length>0)return!0;switch(punchgs.TweenLite.killTweensOf(this,!1),this.tw!==undefined&&this.tw.pause(),t){case"esg-shifttotop":l=jQuery(this).closest("li.tp-esg-item").find(".esg-bc.eec"),this.tw=punchgs.TweenLite.fromTo(this,.5,{y:0},{y:0-l[0].offsetHeight});break;case"esg-slide":this.tw=punchgs.TweenLite.fromTo(this,o,jQuery.extend(!0,animfrom,directionPrepare(i,"in",_E[a].items[e].outWidth,_E[a].items[e].outHeight)),jQuery.extend(!0,{},animto),0);break;case"esg-slideout":(n=jQuery.extend(!0,animto,directionPrepare(i,"out",_E[a].items[e].outWidth,_E[a].items[e].outHeight))).clearProps="",this.tw=punchgs.TweenLite.fromTo(this,o,jQuery.extend(!0,void 0,animfrom),n,0);break;case"esg-blur":case"esg-fadeblur":case"esg-zoomblur":case"esg-zoomdefaultblur":n=jQuery.extend(!0,animto,{filter:"blur("+parseInt(this.dataset.bluramount,10)+"px)"}),delete animfrom.z,delete n.z,this.tw=punchgs.TweenLite.fromTo(this,o,animfrom,jQuery.extend(!0,n,animto),0);break;case"esg-grayscalein":case"esg-grayscaleout":var u=-1!==t.search("in");this.tw=punchgs.TweenLite.fromTo(this,o,animfrom,jQuery.extend(!0,{filter:"grayscale("+(u?100:0)+"%)"},animto),0);break;default:this.tw=punchgs.TweenLite.fromTo(this,o,animfrom,animto,0)}}})}}function videoClickEvent(e,t,a){supressFocus=!0,e.css({transform:"none","-moz-transform":"none","-webkit-transform":"none"}),_E[t].ESGOT.css({transform:"none","-moz-transform":"none","-webkit-transform":"none"}),e.closest("ul").css({transform:"none","-moz-transform":"none","-webkit-transform":"none"}),e.addClass("esg-video-active"),a||e.find(".esg-media-video").each(function(){var a=jQuery(this),i=e.find(".esg-entry-media");if(a.data("youtube")!=undefined&&0==e.find(".esg-youtube-frame").length){if("false"!=_E[t].youtubeNoCookie)var o="https://www.youtube-nocookie.com/embed/"+a.data("youtube")+"?version=3&enablejsapi=1&html5=1&"+("on"!==_E[t].videoInlineControls?"controls=0":"controls=1")+"&autohide=1&rel=0&showinfo=0&fs=1"+("on"!==_E[t].videoInlineMute?"&mute=0":"&mute=1")+"&playsinline=1";else o="https://www.youtube.com/embed/"+a.data("youtube")+"?version=3&enablejsapi=1&html5=1&"+("on"!==_E[t].videoInlineControls?"controls=0":"controls=1")+"&autohide=1&rel=0&showinfo=0&fs=1"+("on"!==_E[t].videoInlineMute?"&mute=0":"&mute=1")+"&playsinline=1";i.append('<iframe class="esg-youtube-frame" wmode="Opaque" style="position:absolute;top:0px;left:0px;display:none" width="'+a.attr("width")+'" height="'+a.attr("height")+'" data-src="'+o+'" src="about:blank" mozallowfullscreen allow="autoplay; fullscreen"></iframe>')}if(a.data("vimeo")!=undefined&&0==e.find(".esg-vimeo-frame").length){var s="https://player.vimeo.com/video/"+a.data("vimeo")+"?"+("on"!==_E[t].videoInlineMute?"muted=0":"muted=1")+"&title=0&byline=0&html5=1&"+("on"!==_E[t].videoInlineControls?"controls=0":"controls=1")+"&portrait=0";i.append('<iframe class="esg-vimeo-frame"  style="position:absolute;top:0px;left:0px;display:none" webkitallowfullscreen="" mozallowfullscreen="" allow="autoplay; fullscreen" width="'+a.attr("width")+'" height="'+a.attr("height")+'" data-src="'+s+'" src="about:blank"></iframe>')}if(a.data("wistia")!=undefined&&0==e.find(".esg-wistia-frame").length){var r="https://fast.wistia.net/embed/iframe/"+a.data("wistia")+"?version=3&enablejsapi=1&html5=1&"+("on"!==_E[t].videoInlineControls?"controls=0":"controls=1")+"&autohide=1&rel=0&showinfo=0";i.append('<iframe class="esg-wistia-frame" wmode="Opaque" style="position:absolute;top:0px;left:0px;display:none" width="'+a.attr("width")+'" height="'+a.attr("height")+'" data-src="'+r+'" src="about:blank"></iframe>')}if(a.data("soundcloud")!=undefined&&0==e.find(".esg-soundcloud-frame").length){var n="https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/"+a.data("soundcloud")+"&amp;auto_play=false&amp;hide_related=false&amp;visual=true&amp;show_artwork=true";i.append('<iframe class="esg-soundcloud-frame" allowfullscreen="false" style="position:absolute;top:0px;left:0px;display:none" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" allow="autoplay; fullscreen" width="'+a.attr("width")+'" height="'+a.attr("height")+'" scrolling="no" frameborder="no" data-src="'+n+'" src="about:blank"></iframe>')}a.data("mp4")==undefined&&a.data("webm")==undefined&&a.data("ogv")==undefined||0!=e.find(".esg-video-frame").length||(i.append('<video class="esg-video-frame" style="position:absolute;top:0px;left:0px;display:none" autoplay playsinline '+("on"!==_E[t].videoInlineControls?"controls":"")+" "+("on"!==_E[t].videoInlineMute?"":"muted")+' width="'+a.attr("width")+'" height="'+a.attr("height")+'" data-origw="'+a.attr("width")+'" data-origh="'+a.attr("height")+'" ></video'),a.data("mp4")!=undefined&&i.find("video").append('<source src="'+a.data("mp4")+'" type="'+(-1!==a.data("mp4").search("mp4")?"video/mp4":"audio/mpeg")+'" />'),a.data("webm")!=undefined&&i.find("video").append('<source src="'+a.data("webm")+'" type="video/webm" />'),a.data("ogv")!=undefined&&i.find("video").append('<source src="'+a.data("ogv")+'" type="video/ogg" />'))}),adjustMediaSize(e,!0,null,t);var i,o=e.find(".esg-youtube-frame"),s=e.find(".esg-entry-cover"),r=e.find(".esg-media-poster"),n="y",l=!1;function d(){(l||"y"==n&&prepareYT(o)||"v"==n&&prepareVimeo(o)||"w"==n&&prepareWs(o)||"s"==n&&prepareSoundCloud(o)||"h"==n&&prepareVideo(o))&&(clearInterval(i),a||(is_mobile()?(punchgs.TweenLite.set(o,{autoAlpha:1}),punchgs.TweenLite.set(r,{autoAlpha:0}),"on"!==_E[t].keepLayersInline&&punchgs.TweenLite.set(s,{autoAlpha:0})):(punchgs.TweenLite.to(o,.5,{autoAlpha:1}),punchgs.TweenLite.to(r,.5,{autoAlpha:0}),"on"!==_E[t].keepLayersInline&&punchgs.TweenLite.to(s,.5,{autoAlpha:0})),"y"===n&&playYT(o,a),"v"===n&&("on"!==_E[t].videoInlineControls&&(o.controls=0),playVimeo(o,a)),"s"===n&&playSC(o,a),"h"===n&&playVideo(o,a),"w"===n&&playWs(o,a))),suppressFocus=!1}o.length||(o=e.find(".esg-vimeo-frame"),n="v"),o.length||(o=e.find(".esg-wistia-frame"),n="w"),o.length||(o=e.find(".esg-soundcloud-frame"),n="s"),o.length||(o=e.find(".esg-video-frame"),n="h"),"about:blank"==o.attr("src")?o.attr("src",o.data("src")):o.hasClass("esg-video-frame")?punchgs.TweenLite.set(o,{opacity:0,display:"block"}):l=!0,loadVideoApis(t),a||punchgs.TweenLite.set(o,{opacity:1,display:"block"}),i=setInterval(d,100),d()}function setMediaEntryAspectRatio(e){var t=e.img!==undefined?e.img.attr("width"):1,a=e.img!==undefined?e.img.attr("height"):1;(e.ar===undefined||"auto"==e.ar||isNaN(e.ar))&&(e.imgw=e.imgw===undefined?e.img!=undefined?e.img.width():1:e.imgw,e.imgh=e.imgh===undefined?e.img!=undefined?e.img.height():1:e.imgh,e.imgw=null===e.imgw||isNaN(e.imgw)||e.imgw===undefined||!1===e.imgw?1:e.imgw,e.imgh=null===e.imgh||isNaN(e.imgh)||e.imgh===undefined||!1===e.imgh?1:e.imgh,e.imgw=e.img!=undefined?t!==undefined&&!1!==t?t:e.imgw:1,e.imgh=e.img!=undefined?a!==undefined&&!1!==a?a:e.imgh:1,e.ar=e.img!==undefined&&e.img.length>=1?e.imgh/e.imgw*100:0),1!==e.ip.data("keepAspectRatio")&&(e.ip.css({paddingBottom:e.ar+"%"}),e.ip.data("bottompadding",e.ar)),e.keepAspectRatio&&e.ip.data("keepAspectRatio",1)}function fixValue(e,t){return isNaN(e)&&(e="100"),e=.01*parseInt(e,10),Math.max(Math.min(e,t),0)}function fixURI(e){return e===undefined?e:e=(e=(e=e.split("(").join("%28")).split(")").join("%29")).split(" ").join("%20")}function prepareItemsInGrid(e,t){_E[e].c.addClass("esg-container"),_E[e].allids=_E[e].allids===undefined?{}:_E[e].allids,_E[e].items=_E[e].items===undefined?{}:_E[e].items,_E[e].c.find(t?".eg-newli":".mainul>li").each(function(){this.dataset.piig===undefined&&(this.id!==undefined&&_E[e].allids[this.id]===undefined||(this.id=this.id===undefined?"eg-item-id-"+Math.round(1e4*Math.random()):""===this.id?Math.round(1e4*Math.random()):this.id+"-"+Math.round(1e4*Math.random())),_E[e].allids[this.id]=!0,_E[e].items[this.id]={c:this,jc:jQuery(this)},_E[e].items[this.id].c.classList.remove("eg-newli"),this.dataset.piig=!0)});var a=_E[e].aspectratio,i=_E[e].c.width(),o=1,s=1;for(var r in(a=a.split(":")).length>1?(o=parseInt(a[0],0)/parseInt(a[1],0),s=parseInt(a[1],0)/parseInt(a[0],0),i/_E[e].column/o,kar=!0,s*=100):(o="auto",s="auto",kar=!1),_E[e].items)if(_E[e].items.hasOwnProperty(r)&&_E[e].items[r].prepared===undefined){_E[e].items[r].prepared=!0,_E[e].items[r].jc===undefined&&(_E[e].items[r].jc=jQuery("#"+r),_E[e].items[r].jc!==undefined&&_E[e].items[r].jc.length>0&&(_E[e].items[r].c=_E[e].items[r].jc[0])),_E[e].items[r].media=_E[e].items[r].jc.find(".esg-entry-media"),_E[e].items[r].img=_E[e].items[r].media.find("img"),_E[e].items[r].mediacw=_E[e].items[r].jc.find(".esg-media-cover-wrapper"),_E[e].items[r].entryc=_E[e].items[r].jc.find(".esg-entry-content");var n=_E[e].items[r].img!=undefined&&_E[e].items[r].img.length>0?_E[e].items[r].img.attr("src"):undefined,l=_E[e].items[r].img!=undefined&&_E[e].items[r].img.length>0?_E[e].items[r].img.data("lazysrc"):n;l===undefined&&(l=n),_E[e].items[r].media.addClass(_E[e].mediaFilter),punchgs.TweenLite.set(_E[e].items[r].c,{force3D:"auto",autoAlpha:0,opacity:0}),_E[e].items[r].c.classList.add("tp-esg-item"),_E[e].items[r].c.dataset.anime===undefined&&_E[e].items[r].c.dataset.animeOther===undefined||(!0!==_E[e].itmAnime&&(_E[e].c[0].classList.add("esg-itm-anime"),_E[e].itmAnime=!0),_E[e].items[r].c.classList.add("esg-anime-item"),_E[e].items[r].anime={itm:_E[e].items[r].c.dataset.anime,other:_E[e].items[r].c.dataset.animeOther,zoomin:fixValue(_E[e].items[r].c.dataset.animeZoomin,2),other_zoomin:fixValue(_E[e].items[r].c.dataset.animeOtherZoomin,2),zoomout:fixValue(_E[e].items[r].c.dataset.animeZoomout,2),other_zoomout:fixValue(_E[e].items[r].c.dataset.animeOtherZoomout,2),fade:fixValue(_E[e].items[r].c.dataset.animeFade,1),other_fade:fixValue(_E[e].items[r].c.dataset.animeOtherFade,1),shift:_E[e].items[r].c.dataset.animeShift,other_shift:_E[e].items[r].c.dataset.animeOtherShift,shift_amount:_E[e].items[r].c.dataset.animeShiftAmount,shift_other_amount:_E[e].items[r].c.dataset.animeOtherShiftAmount,rotate:_E[e].items[r].c.dataset.animeRotate,other_rotate:_E[e].items[r].c.dataset.animeOtherRotate,blur:_E[e].items[r].c.dataset.animeBlur,other_blur:_E[e].items[r].c.dataset.animeOtherBlur},_E[e].items[r].anime.blur===undefined&&_E[e].items[r].anime.other_blur===undefined||_E[e].items[r].c.classList.add("esg-anime-blur"),_E[e].items[r].mediacw.find(".esg-entry-media.grayscale").removeClass("grayscale").parent().addClass("grayscale"));var d={bgpos:_E[e].items[r].img.length>=1&&_E[e].items[r].img!=undefined?_E[e].items[r].img.data("bgposition"):undefined,bgsize:_E[e].items[r].img.length>=1&&_E[e].items[r].img!=undefined?_E[e].items[r].img.data("bgsize"):undefined,bgrepeat:_E[e].items[r].img.length>=1&&_E[e].items[r].img!=undefined?_E[e].items[r].img.data("bgrepeat"):undefined};d.bgpos=d.bgpos===undefined?"":"background-position:"+d.bgpos+";",d.bgsize=d.bgsize===undefined?"":"background-size:"+d.bgsize+";",d.bgrepeat=d.bgrepeat===undefined?"":"background-repeat:"+d.bgrepeat+";";var u=l||"";_E[e].items[r].lazythumb=_E[e].items[r].img.data("lazythumb"),u=fixURI(u),_E[e].items[r].lazythumb=fixURI(_E[e].items[r].lazythumb),_E[e].items[r].media.append('<div class="esg-media-poster" src="'+l+'" data-src="'+l+'" data-lazythumb="'+_E[e].items[r].lazythumb+'" style="'+d.bgsize+d.bgrepeat+d.bgpos+"background-image:url("+u+')"></div>'),"even"==_E[e].layout?_E[e].items[r].media.wrap('<div class="esg-entry-media-wrapper" style="width:100%;height:100%;overflow:hidden;position:relative;"></div>'):_E[e].items[r].media.wrap('<div class="esg-entry-media-wrapper" style="overflow:hidden;position:relative;"></div>'),_E[e].items[r].mediaw=_E[e].items[r].jc.find(".esg-entry-media-wrapper"),setMediaEntryAspectRatio({ip:_E[e].items[r].media,img:_E[e].items[r].img,ar:s,keepAspectRatio:kar}),_E[e].items[r].img!=undefined&&_E[e].items[r].img.length>0&&_E[e].items[r].img.css({display:"none"}),_E[e].items[r].jc.find(".esg-media-video").each(function(){_E[e].items[r].hasVideo=!0;var t=jQuery(this),a="display:none;";if(vidsrc="src=",t.data("poster")!=undefined&&t.data("poster").length>3?_E[e].items[r].media.find(".esg-media-poster").css({opacity:1,backgroundImage:"url("+t.data("poster")+")"}).attr("src",t.data("poster")).data("src",t.data("poster")):(_E[e].items[r].jc.hasClass("esg-split-content")||_E[e].items[r].jc.find(".esg-entry-cover").remove(),_E[e].items[r].jc.find(".esg-media-poster").remove(),a="display:block;",s=parseInt(t.attr("height"),0)/parseInt(t.attr("width"),0)*100,setMediaEntryAspectRatio({ip:_E[e].items[r].media,ar:s,keepAspectRatio:!0}),_E[e].items[r].simplevideo=1),"on"===_E[e].videoPlaybackInGrid){if(0==_E[e].items[r].jc.find(".esg-click-to-play-video").length&&(_E[e].items[r].jc.find(".esg-entry-cover").find("*").each(function(){0==jQuery(this).closest("a").length&&0==jQuery(this).find("a").length&&jQuery(this).addClass("esg-click-to-play-video")}),_E[e].items[r].jc.find(".esg-overlay").addClass("esg-click-to-play-video")),t.data("youtube")!=undefined){if(_E[e].items[r].videoType="youtube","false"!=_E[e].youtubeNoCookie)var i="https://www.youtube-nocookie.com/embed/"+t.data("youtube")+"?version=3&enablejsapi=1&html5=1&"+("on"!==_E[e].videoInlineControls?"controls=0":"controls=1")+"&autohide=1&rel=0&showinfo=0&fs=1&playsinline=1"+("on"!==_E[e].videoInlineMute?"&mute=0":"&mute=1");else i="https://www.youtube.com/embed/"+t.data("youtube")+"?version=3&enablejsapi=1&html5=1&"+("on"!==_E[e].videoInlineControls?"controls=0":"controls=1")+"&autohide=1&rel=0&showinfo=0&fs=1&playsinline=1"+("on"!==_E[e].videoInlineMute?"&mute=0":"&mute=1");_E[e].items[r].media.append('<iframe class="esg-youtube-frame" wmode="Opaque" style="position:absolute;top:0px;left:0px;'+a+'" width="'+t.attr("width")+'" height="'+t.attr("height")+'" data-src="'+i+'"'+vidsrc+'"about:blank" webkitallowfullscreen mozallowfullscreen allow="autoplay; fullscreen"></iframe>')}if(t.data("vimeo")!=undefined){_E[e].items[r].videoType="vimeo";var o="https://player.vimeo.com/video/"+t.data("vimeo")+"?"+("on"!==_E[e].videoInlineMute?"muted=0":"muted=1")+"&title=0&byline=0&html5=1&portrait=0&"+("on"!==_E[e].videoInlineControls?"controls=0":"controls=1")+"&playsinline=1";_E[e].items[r].media.append('<iframe class="esg-vimeo-frame" style="position:absolute;top:0px;left:0px;'+a+'" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allow="autoplay; fullscreen"  width="'+t.attr("width")+'" height="'+t.attr("height")+'" data-src="'+o+'"'+vidsrc+'"about:blank"></iframe>')}if(t.data("wistia")!=undefined){_E[e].items[r].videoType="wistia";var n="https://fast.wistia.net/embed/iframe/"+t.data("wistia")+"?version=3&enablejsapi=1&html5=1&"+("on"!==_E[e].videoInlineControls?"controls=0":"controls=1")+"&autohide=1&rel=0&showinfo=0";_E[e].items[r].media.append('<iframe class="esg-wistia-frame" wmode="Opaque" style="position:absolute;top:0px;left:0px;'+a+'" width="'+t.attr("width")+'" height="'+t.attr("height")+'" data-src="'+n+'"'+vidsrc+'"about:blank"></iframe>')}if(t.data("soundcloud")!=undefined){var l="https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/"+t.data("soundcloud")+"&amp;auto_play=false&amp;hide_related=false&amp;visual=true&amp;show_artwork=true";_E[e].items[r].media.append('<iframe class="esg-soundcloud-frame" style="position:absolute;top:0px;left:0px;'+a+'" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" allow="autoplay; fullscreen" width="'+t.attr("width")+'" height="'+t.attr("height")+'" data-src="'+l+'"'+vidsrc+'"about:blank"></iframe>')}if(t.data("mp4")!=undefined||t.data("webm")!=undefined||t.data("ogv")!=undefined){_E[e].items[r].videoType="html";var d=t.data("mp4"),u=d!==undefined&&d.indexOf(".mp3")>=0;_E[e].items[r].media.append('<video class="esg-video-frame" '+(u?"":"autoplay")+" playsinline "+(u?"":"on"!==_E[e].videoInlineMute?"":"muted")+" "+("on"!==_E[e].videoInlineControls&&!0!==u?"":"controls ")+'style="position:absolute;top:0px;left:0px;'+a+'" width="'+t.attr("width")+'" height="'+t.attr("height")+'" data-origw="'+t.attr("width")+'" data-origh="'+t.attr("height")+'" playsinline></video');var c=_E[e].items[r].media.find("video");d!=undefined&&c.append('<source src="'+t.data("mp4")+'" type="'+(-1!==t.data("mp4").search("mp4")?"video/mp4":"audio/mpeg")+'" />'),t.data("webm")!=undefined&&c.append('<source src="'+t.data("webm")+'" type="video/webm" />'),t.data("ogv")!=undefined&&c.append('<source src="'+t.data("ogv")+'" type="video/ogg" />')}}if(_E[e].items[r].jc.find(".esg-click-to-play-video").on("click",function(){var t=jQuery(this);t.hasClass("eg-ajaxclicklistener")||t.closest(".eg-ajaxclicklistener").length||videoClickEvent(t=t.closest(".tp-esg-item"),e)}),1==_E[e].items[r].simplevideo){var p=_E[e].items[r].jc.find("video");p.length?p.css("opacity","1"):waitMediaListeners(_E[e].items[r].jc,e)}}),0==_E[e].items[r].jc.find(".esg-media-video").length&&_E[e].items[r].jc.find(".esg-click-to-play-video").remove(),adjustMediaSize(_E[e].items[r].jc,!0,null,e),_E[e].items[r].entryc.length>0&&_E[e].items[r].mediacw.length>0&&(_E[e].items[r].entryc.index()<_E[e].items[r].mediacw.index()||_E[e].items[r].entryc.addClass("esg-notalone")),_E[e].items[r].jc.find(".esg-entry-cover").each(function(e){var t=jQuery(this),a=t.data("clickable");t.find(".esg-top").wrapAll('<div class="esg-tc eec"></div>'),t.find(".esg-left").wrapAll('<div class="esg-lc eec"></div>'),t.find(".esg-right").wrapAll('<div class="esg-rc eec"></div>'),t.find(".esg-center").wrapAll('<div class="esg-cc eec"></div>'),t.find(".esg-bottom").wrapAll('<div class="esg-bc eec"></div>'),t.find(".eec").append("<div></div>"),"on"==a&&t.find(".esg-overlay").length>=1&&t.on("click",function(e){0==jQuery(e.target).closest("a").length&&jQuery(this).find(".eg-invisiblebutton")[0].click()}).css({cursor:"pointer"})}),_E[e].items[r].padding={t:parseInt(_E[e].items[r].jc.css("paddingTop"),0),b:parseInt(_E[e].items[r].jc.css("paddingBottom"),0),l:parseInt(_E[e].items[r].jc.css("paddingLeft"),0),r:parseInt(_E[e].items[r].jc.css("paddingRight"),0)},_E[e].items[r].border={t:parseInt(_E[e].items[r].jc.css("borderTopWidth"),0),b:parseInt(_E[e].items[r].jc.css("borderBottomWidth"),0),l:parseInt(_E[e].items[r].jc.css("borderLeftWidth"),0),r:parseInt(_E[e].items[r].jc.css("borderRightWidth"),0)},_E[e].items[r].entryc.length>0&&"even"==_E[e].layout&&_E[e].items[r].jc.css({paddingTop:"0px",paddingLeft:"0px",paddingRight:"0px",paddingBottom:"0px",borderTopWidth:"0px",borderBottomWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"}),_E[e].ajaxContentTarget!=undefined&&_E[e].ajaxContentTarget.length>0&&jQuery("#"+_E[e].ajaxContentTarget).length>0&&_E[e].items[r].jc.find(".eg-ajaxclicklistener, a").each(function(){var t=jQuery(this),a=jQuery("#"+_E[e].ajaxContentTarget).find(".eg-ajax-target");a.parent().hasClass("eg-ajaxanimwrapper")||a.wrap('<div class="eg-ajaxanimwrapper" style="position:relative;overflow:hidden;"></div>'),t.data("ajaxsource")!=undefined&&t.data("ajaxtype")!=undefined&&(t.addClass("eg-ajax-a-button"),t.on("click",function(){return loadMoreContent(e,t),!(a.length>0)}))}),_E[e].items[r].jc.find(".eg-triggerfilter").on("click",function(){var t=jQuery(this).data("filter");return jQuery(_E[e].filterGroupClass+".esg-filterbutton,"+_E[e].filterGroupClass+" .esg-filterbutton").each(function(){jQuery(this).data("filter")==t&&jQuery(this).trigger("click")}),!1}).css({cursor:"pointer"}),_E[e].items[r].jc.on("mouseenter.hoverdir mouseleave.hoverdir",function(t){var a=this.id,i=_E[e].items[a].jc,o=getDir(i,{x:t.pageX,y:t.pageY});if("mouseenter"===t.type)itemHoverAnim(a,"nope",e,o),"on"==_E[e].videoPlaybackOnHover&&_E[e].items[a].hasVideo&&(clearTimeout(_E[e].items[a].stopVideoPlayback),videoClickEvent(i,e));else if("on"==_E[e].videoPlaybackOnHover&&_E[e].items[a].hasVideo&&(clearTimeout(_E[e].items[a].stopVideoPlayback),_E[e].items[a].stopVideoPlayback=setTimeout(function(){stopVideo(i,e)},150)),1==_E[e].items[a].animstarted){_E[e].items[a].animstarted=0,i.removeClass("esg-hovered");var s=0;if(_E[e].items[a].entryc.length>0&&"even"==_E[e].layout){punchgs.TweenLite.set(_E[e].items[a].entryc,{display:"none"}),punchgs.TweenLite.set(_E[e].ESGOT,{overflow:"hidden"});var r={zIndex:5,paddingTop:"0px",paddingLeft:"0px",paddingRight:"0px",paddingBottom:"0px",borderTopWidth:"0px",borderBottomWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"};isNaN(_E[e].items[this.id].outHeight)||(r=jQuery.extend(!0,r,{z:0,x:0,y:0,height:_E[e].items[this.id].outHeight,width:_E[e].items[this.id].outWidth})),punchgs.TweenLite.set(i,r),"on"==_E[e].evenGridMasonrySkinPusher&&offsetParrents(0,i,e)}i.find(".esg-transition").each(function(){if(esgAnimmatrix.hasOwnProperty(this.dataset.transition)){this.id;var t,i=this.dataset.transition,r=esgAnimmatrix[i],n=this.dataset.delay!=undefined?this.dataset.delay:0,l=r[4],d=i.indexOf("out")>-1;switch(this.tw!==undefined&&this.tw.pause(),s<n&&(s=n),i){case"esg-slide":t=directionPrepare(o,"in",_E[e].items[a].outWidth,_E[e].items[a].outHeight,!0),this.tw=punchgs.TweenLite.to(this,.5,{y:t.y,x:t.x,overwrite:"all",onCompleteParams:[this],onComplete:function(e){punchgs.TweenLite.set(e,{autoAlpha:0})}});break;case"esg-slideout":t=directionPrepare(o,"out",_E[e].items[a].outWidth,_E[e].items[a].outHeight),this.tw=punchgs.TweenLite.fromTo(this,.5,{autoAlpha:1,x:t.x,y:t.y},{x:0,y:0,autoAlpha:1,overwrite:"all"});break;case"esg-blur":case"esg-fadeblur":case"esg-zoomblur":case"esg-zoomdefaultblur":this.tw=punchgs.TweenLite.to(this,r[3],jQuery.extend(!0,l,{filter:"blur(0px)"}),0);break;case"esg-grayscalein":case"esg-grayscaleout":var u=-1!==i.search("in");this.tw=punchgs.TweenLite.to(this,r[3],jQuery.extend(!0,l,{filter:"grayscale("+(u?0:100)+"%)"}),0);break;default:l.force3D="auto",this.tw=punchgs.TweenLite.to(this,r[3],l,0)}d&&this.tw.eventCallback("onComplete",resetTransforms,[this])}})}})}_E[e].c.find(".esg-transition").each(function(){var e=jQuery(this);if(!e.data("prepared")){e.data("prepared",!0);var t=e.attr("data-transition");if(esgAnimmatrix.hasOwnProperty(t)){var a=esgAnimmatrix[t],i=jQuery.extend({},a[1]);punchgs.TweenLite.set(e,i)}}}),loadVideoApis(e),setItemsOnPages(e)}function resetTransforms(e){punchgs.TweenLite.set(e,{clearProps:"transform"})}function adjustMediaSize(e,t,a,i){var o=e.find("iframe").length>0?"iframe":e.find(".esg-video-frame").length>0?".esg-video-frame":"";""!==o&&e.find(o).each(function(o){var s=jQuery(this);s.data("origw",s.attr("width")),s.data("origh",s.attr("height"));var r,n,l=s.data("origw"),d=s.data("origh");r=a!=undefined?a.itemw:e.width(),n=Math.round(r/l*d),r=Math.round(r),s.data("neww",r),s.data("newh",n),t&&"even"!=_E[i].layout?punchgs.TweenLite.set(s,{width:r,height:n}):punchgs.TweenLite.set(s,{width:"100%",height:"100%"})})}function lightboxPrepareOnEsgBoxes(e,t){if(e!==undefined&&t!=undefined&&t[0]!==undefined&&_E[e].items[t[0].id]!==undefined){_E[e].items[t[0].id].esgBoxes=t[0].getElementsByClassName("esgbox");var a=[];for(var i in _E[e].items[t[0].id].esgBoxes)if(_E[e].items[t[0].id].esgBoxes.hasOwnProperty(i)){var o=_E[e].items[t[0].id].esgBoxes[i],s=o.dataset.posttitle||o.dataset.caption;if(theTitle=s?encodeURIComponent(s):"",o.dataset.esgbox="all"==_E[e].lightBoxMode?_E[e].lightboxHash:"contentgroup"!=_E[e].lightBoxMode?"":o.dataset.esgbox,o.dataset.thumb===undefined&&_E[e].items[t[0].id].lazythumb!==undefined&&(o.dataset.thumb=fixURI(_E[e].items[t[0].id].lazythumb)),"undefined"===o.dataset.thumb?delete o.dataset.thumb:o.dataset.thumb=fixURI(o.dataset.thumb),o.ajax_settings==undefined&&o.className.indexOf("esgbox-post")>=0&&"javascript:void(0);"===o.href)o.ajax_settings={featured:o.dataset.featured,titl:theTitle,lbTitle:_E[e].lightBoxPostTitle,lbTag:_E[e].lightBoxPostTitleTag,lbImg:_E[e].lightBoxFeaturedImg,lbMargin:_E[e].lightBoxFeaturedMargin,lbWidth:_E[e].lightBoxFeaturedWidth,lbPos:_E[e].lightBoxFeaturedPos,lbMin:_E[e].lightboxPostMinWid,lbMax:_E[e].lightboxPostMaxWid,margin:_E[e].lightboxMargin,padding:_E[e].lbContentPadding,overflow:_E[e].lbContentOverflow,revslider:o.dataset.revslider,essgrid:o.dataset.lbesg,ispost:o.dataset.ispost,gridid:o.dataset.gridid},o.ajax_settings=JSON.stringify(o.ajax_settings),o.dataset.type="ajax",o.href=_E[e].loadMoreAjaxUrl+"?action="+_E[e].loadMoreAjaxAction+"&client_action=load_post_content&token="+_E[e].loadMoreAjaxToken+"&postid="+o.dataset.post+"&settings="+o.ajax_settings;else{var r=!0,n=0;for(var l in _E[e].items[t[0].id].hreflist)_E[e].items[t[0].id].hreflist.hasOwnProperty(l)&&(o.href==_E[e].items[t[0].id].hreflist[l]&&(o.dataset.clickreference=n,r=!1),n++);o!==undefined&&o.href!==undefined&&r?(_E[e].items[t[0].id].hreflist.push(o.href),_E[e].items[t[0].id].hrefClicks=_E[e].items[t[0].id].hrefClicks===undefined?[]:_E[e].items[t[0].id].hrefClicks,_E[e].items[t[0].id].hrefClicks.push(o),-1===o.className.indexOf("esgboxffssii")&&o.classList.add("esgboxffssii")):r||-1!==o.className.indexOf("esgboxffssii")||(o.href="javascript:;",delete o.dataset.esgbox,delete o.dataset.thumb,a.push(o),o.dataset.pitemid=t[0].id,o.addEventListener("click",function(){jQuery(_E[e].items[this.dataset.pitemid].hrefClicks[this.dataset.clickreference]).trigger("click")}))}_E[e].items[t[0].id].additional===undefined&&(_E[e].items[t[0].id].additional=t.find(".esgbox-additional").find(".esgbox"),_E[e].items[t[0].id].additional.length&&_E[e].items[t[0].id].additional.each(function(){jQuery(o).attr("data-caption",s).find("img").remove()})),_E[e].isStream&&(o.dataset.ratio="16:9")}for(var d in a)a.hasOwnProperty(d)&&a[d].classList.remove("esgbox")}}function filterBasedShowOrHide(e,t,a,i,o,s,r){if(e!==undefined&&t!=undefined&&t[0]!==undefined&&_E[e].items[t[0].id]!==undefined){var n=t[0].id;if(o>=s&&o<r&&!a){if(t.addClass("itemtoshow").removeClass("itemishidden").removeClass("itemonotherpage"),"filterpage"==_E[e].lightBoxMode||"filterall"==_E[e].lightBoxMode)for(var l in _E[e].items[n].esgBoxes)_E[e].items[n].esgBoxes.hasOwnProperty(l)&&(_E[e].items[n].esgBoxes[l].dataset.esgbox=i);o++}else if(a)t.addClass("itemishidden").removeClass("itemtoshow").removeClass("fitsinfilter");else if(o<s||o>=r?(t.addClass("itemonotherpage").removeClass("itemtoshow"),o++):(t.addClass("itemtoshow").removeClass("itemishidden").removeClass("itemonotherpage"),o++),t.addClass("fitsinfilter"),"filterall"==_E[e].lightBoxMode)for(var l in _E[e].items[n].esgBoxes)_E[e].items[n].esgBoxes.hasOwnProperty(l)&&(_E[e].items[n].esgBoxes[l].dataset.esgbox=i);return o}}function setItemsOnPages(e){var t,a=_E[e].column*_E[e].row,i=_E[e].rowItemMultiplier,o=i.length;if(o>0&&"even"==_E[e].layout)for(a=0,t=0;t<_E[e].row;t++)a+=i[t-o*Math.floor(t/o)][_E[e].columnindex];if("on"==_E[e].evenCobbles&&_E[e].cobblesPattern!=undefined){var s=0;for(var r in a=0,t=0,_E[e].items)if(_E[e].items.hasOwnProperty(r)&&1!=_E[e].items[r].skipBlank){var n=_E[e].items[r].c.dataset.cobblesw,l=_E[e].items[r].c.dataset.cobblesh;if(_E[e].cobblesPattern!=undefined&&_E[e].cobblesPattern.length>2){var d=getCobblePat(_E[e].cobblesPattern,t);n=parseInt(d.w,0),l=parseInt(d.h,0)}n=n==undefined?1:n,l=l==undefined?1:l,_E[e].column<n&&(n=_E[e].column),s+=n*l,_E[e].column*_E[e].row>=s&&a++,t++}}var u=a*_E[e].currentpage,c=u+a,p=document.querySelectorAll(_E[e].filterGroupClass+".esg-filterbutton.selected:not(.esg-navigationbutton),"+_E[e].filterGroupClass+" .esg-filterbutton.selected:not(.esg-navigationbutton)"),h=0;if(_E[e].isStream=_E[e].isStream==undefined?_E[e].mypc[0].className.indexOf("source_type_stream")>=0:_E[e].isStream,_E[e].c.find(".esgbox.facebook").each(function(){delete this.dataset.width,delete this.dataset.height}),jQuery(_E[e].filterGroupClass+".esg-filter-wrapper, "+_E[e].filterGroupClass+" .esg-filter-wrapper").length>0){for(var r in _E[e].items)if(_E[e].items.hasOwnProperty(r)&&_E[e].items[r].jc!==undefined){var g=_E[e].items[r].jc;if(1!=_E[e].items[r].skipBlank){_E[e].items[r].hreflist=_E[e].items[r].hreflist===undefined?[]:_E[e].items[r].hreflist,_E[e].items[g[0].id].hrefClicks=_E[e].items[g[0].id].hrefClicks===undefined?[]:_E[e].items[g[0].id].hrefClicks,lightboxPrepareOnEsgBoxes(e,g);var f=!0;for(var m in p)if(p.hasOwnProperty(m)&&e!==undefined&&g!=undefined&&g[0]!==undefined&&_E[e].items[g[0].id]!==undefined)if(_E[e].items[r].c.className.indexOf(p[m].dataset.filter)>=0)f=!1;else if("and"==_E[e].filterLogic||_E[e].hiddenSearchField&&_E[e].hiddenSearchField.hasClass("eg-forcefilter")){f=!0;break}h=filterBasedShowOrHide(e,g,f,_E[e].filterGroupClass.replace(".",""),h,u,c)}else g.addClass("itemishidden").removeClass("itemtoshow")}}else for(var r in _E[e].items)if(_E[e].items.hasOwnProperty(r)){g=_E[e].items[r].jc;1!=_E[e].items[r].skipBlank?(_E[e].items[r].hreflist=_E[e].items[r].hreflist===undefined?[]:_E[e].items[r].hreflist,lightboxPrepareOnEsgBoxes(e,g),h=filterBasedShowOrHide(e,g,!1,_E[e].lightboxHash,h,u,c)):g.addClass("itemishidden").removeClass("itemtoshow")}if(_E[e].lightboxSettings=_E[e].lightboxSettings===undefined?_E[e].c.data("lightboxsettings"):_E[e].lightboxSettings,jQuery.fn.esgbox&&_E[e].c.find(".esgbox.esgboxffssii").esgbox(_E[e].lightboxSettings),_E[e].nonefiltereditems=_E[e].c.find(".itemtoshow, .fitsinfilter").length,_E[e].loadMoreTriggerCache=_E[e].loadMoreTriggerCache===undefined||_E[e].loadMoreTriggerCache,"none"!=_E[e].loadMoreType){var w=0;for(var _ in p)p.hasOwnProperty(_)&&p[_].dataset.filter!==undefined&&(w+=_E[e].c[0].getElementsByClassName(p[_].dataset.filter).length);!0!==_E[e].loadMoreTriggerCache&&w<_E[e].minVisibleItems&&(_E[e].tryToLoad=_E[e].minVisibleItems-w-_E[e].loadMoreAmount,loadMoreItems(e,"1"),_E[e].loadMoreTriggerCache=!0)}var E,v=jQuery(_E[e].filterGroupClass+".esg-pagination,"+_E[e].filterGroupClass+" .esg-pagination");v.find(".esg-pagination").remove(),v.html(""),_E[e].maxpage=0;var y=Math.ceil(_E[e].nonefiltereditems/a);if(_E[e].realmaxpage=y,y>7&&"on"==_E[e].smartPagination)if(_E[e].currentpage<3){for(t=0;t<4;t++)E=t==_E[e].currentpage?"selected":"",_E[e].maxpage++,v.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+E+'" data-page="'+t+'">'+(t+1)+"</div>");v.append('<div class="esg-navigationbutton">...</div>'),v.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+E+'" data-page="'+(y-1)+'">'+y+"</div>")}else if(y-_E[e].currentpage<4)for(v.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+E+'" data-page="0">1</div>'),v.append('<div class="esg-navigationbutton">...</div>'),t=y-4;t<y;t++)E=t==_E[e].currentpage?"selected":"",_E[e].maxpage++,v.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+E+'" data-page="'+t+'">'+(t+1)+"</div>");else{for(v.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+E+'" data-page="0">1</div>'),v.append('<div class="esg-navigationbutton">...</div>'),t=_E[e].currentpage-1;t<_E[e].currentpage+2;t++)E=t==_E[e].currentpage?"selected":"",_E[e].maxpage++,v.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+E+'" data-page="'+t+'">'+(t+1)+"</div>");v.append('<div class="esg-navigationbutton">...</div>'),v.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+E+'" data-page="'+(y-1)+'">'+y+"</div>")}else for(t=0;t<y;t++)E=t==_E[e].currentpage?"selected":"",_E[e].maxpage++,v.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+E+'" data-page="'+t+'">'+(t+1)+"</div>");if(1==_E[e].maxpage?(jQuery(_E[e].filterGroupClass+".esg-navigationbutton,"+_E[e].filterGroupClass+" .esg-navigationbutton").not(".esg-loadmore").css({display:"none"}),v.css({display:"none"})):(jQuery(_E[e].filterGroupClass+".esg-navigationbutton,"+_E[e].filterGroupClass+" .esg-navigationbutton").css({display:"inline-block"}),v.css({display:"inline-block"})),_E[e].currentpage>=Math.ceil(_E[e].nonefiltereditems/a)){_E[e].oldpage=_E[e].currentpage,_E[e].currentpage=0;var b=0;_E[e].c.find(".itemtoshow, .fitsinfilter").each(function(){++b<c&&jQuery(this).removeClass("itemonotherpage")}),v.find(".esg-pagination-button").first().addClass("selected")}_E[e].currentpage<0&&(_E[e].currentpage=0),v.find(".esg-pagination-button").on("click",function(){_E[e].loadMoreTriggerCache=!1,stopAllVideos(!0),_E[e].oldpage=_E[e].currentpage,_E[e].currentpage=jQuery(this).data("page");var t=getBestFitColumn(e);_E[e].column=t.column,_E[e].columnindex=t.index,_E[e].mmHeight=t.mmHeight,"on"===_E[e].cookies.pagination&&!0!==_E[e].cookies.searchjusttriggered&&createCookie("grid_"+_E[e].gridID+"_pagination",_E[e].currentpage,_E[e].cookies.timetosave*(1/60/60)),setItemsOnPages(e),organiseGrid(e,"paginholder"),updateMasonryLook(e),"on"==_E[e].paginationScrollToTop&&jQuery("html, body").animate({scrollTop:_E[e].c.offset().top-_E[e].paginationScrollToTopOffset},{queue:!1,speed:.5})}),_E[e].firstshowever==undefined&&jQuery(_E[e].filterGroupClass+".esg-navigationbutton,"+_E[e].filterGroupClass+" .esg-navigationbutton").css({visibility:"hidden"});var x=jQuery(".esg-overlay.esg-transition").filter(function(){return this.dataset.transition&&-1!==this.dataset.transition.search(/collapse|line|spiral|circle/)});if(x.length){_E[e].specialStyle||(_E[e].specialStyle=jQuery('<style type="text/css" />').appendTo(jQuery("head")));var k="",C=[];x.each(function(){var t,a,i="",o=jQuery(this),s=C.length,r=o.closest(".eec"),n=this.dataset.transition,l=o.closest(".tp-esg-item").attr("data-skin");r.length&&(t=r.hasClass("esg-tc")?"tc":r.hasClass("esg-cc")?"cc":r.hasClass("esg-bc")?"bc":"")&&(i=" .esg-"+t);for(var d=this.dataset.animcolor?n+t+this.dataset.animcolor:n,u=0;u<s;u++)if(C[u][d]===e+"_"+n+"_"+l)return;C[s]={},C[s][d]=e+"_"+n+"_"+l;var c,p,h,g,f="background",m=-1!==n.search("line"),w=-1!==n.search("spiral"),_=-1!==n.search("circle"),E=-1!==n.search("collapse"),v=m||w;o.data("specialcolorone")?(h=o.data("specialcolorone"),g=o.data("specialcolortwo")):(h=o.css("background-image"),p=this.dataset.animcolor||"#FFFFFF",h&&"none"!==h||(h=o.css("background-color")),m?(-1!==n.search("linediagonal")?c='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="400px" height="300px"><line x1="0" y1="300" x2="400" y2="0" stroke="'+p+'" stroke-width="1"></line></svg>':(c='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="400px" height="300px">',c+='<rect x="0" y="0" width="100%" height="100%" fill="transparent"></rect>',c+='<rect x="'+(a=-1!==n.search("horizontal")?["0","150","100%","1","400","0","100%","1","400","150","100%","1"]:["200","0","1","100%","0","300","1","100%","200","300","1","100%"])[0]+'" y="'+a[1]+'" width="'+a[2]+'" height="'+a[3]+'" fill="'+p+'" shape-rendering="crispEdges"></rect>',c+='<rect x="'+a[4]+'" y="'+a[5]+'" width="'+a[6]+'" height="'+a[7]+'" fill="'+p+'" shape-rendering="crispEdges"></rect>',c+='<rect x="'+a[8]+'" y="'+a[9]+'" width="'+a[10]+'" height="'+a[11]+'" fill="'+p+'" shape-rendering="crispEdges"></rect>',c+="</svg>"),g="url('"+c+"')"):w?(c='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="250px" height="234px">',c+='<path fill="'+p+'" d="M201.449,16.732 C229.021,59.363 222.332,125.403 176.384,153.001 C188.917,168.041 211.475,162.194 226.514,153.823 C235.694,147.985 244.060,141.291 249.903,132.928 C240.707,148.816 229.021,163.025 212.306,173.888 C198.097,183.089 183.074,188.105 166.358,189.776 C150.489,190.613 133.774,188.105 119.563,179.743 C116.244,188.105 118.735,196.460 122.917,203.985 C134.620,222.372 154.672,229.896 173.878,233.244 C123.748,235.752 68.620,197.300 67.772,143.800 C56.088,144.628 48.568,156.331 45.214,166.363 C40.201,183.089 41.879,201.477 48.568,217.365 C30.175,187.268 26.010,148.816 41.049,116.209 C48.568,101.169 59.425,89.460 73.633,80.265 C69.451,76.088 64.438,72.741 58.594,71.903 C35.188,70.233 13.477,82.773 0.097,101.169 C22.673,56.024 84.490,28.435 130.437,54.346 C135.450,43.483 129.607,31.781 122.087,23.419 C109.555,10.039 92.839,3.354 76.122,0.015 C103.694,0.015 129.607,8.370 151.319,26.765 C169.695,43.483 180.567,66.056 182.243,90.290 C189.747,89.460 194.760,84.443 198.925,78.597 C211.475,59.363 208.123,36.797 201.449,16.732 L201.449,16.732 Z"/>',g="url('"+(c+="</svg>")+"')"):g=E?h:p,o.data({specialcolorone:h,specialcolortwo:g}));var y=this.dataset.duration||"default";y="default"===y?.3:.001*y;delay=this.dataset.delay||"",transition=E?"all":"transform",delay&&(delay=" "+delay+"s"),k+="#"+e+' .tp-esg-item[data-skin="'+l+'"]'+i+' .esg-transition[data-transition="'+n+'"] {background: transparent !important}',k+="#"+e+' .tp-esg-item[data-skin="'+l+'"]'+i+' .esg-transition[data-transition="'+n+'"]:before {',k+="transition: all "+y+"s ease-out;",k+=f+": "+h,k+="}",k+="#"+e+' .esg-hovered[data-skin="'+l+'"]'+i+' .esg-transition[data-transition="'+n+'"]:before {',k+="transition-delay: "+delay+";",k+="}",_&&(y+=.7),v&&(f="background-image"),k+="#"+e+' .tp-esg-item[data-skin="'+l+'"]'+i+' .esg-transition[data-transition="'+n+'"]:after {',k+="transition: "+transition+" "+y+"s "+(w?"ease-in":_?"ease":"ease-out")+";",k+=f+": "+g,k+="}",k+="#"+e+' .esg-hovered[data-skin="'+l+'"]'+i+' .esg-transition[data-transition="'+n+'"]:after {',k+="transition-delay: "+delay+";",k+="}"}),k&&_E[e].specialStyle.html(k)}}function waittorungGrid(e,t,a,i){var o=e.closest(".mainul");clearTimeout(o.data("intreorganisier")),o.hasClass("gridorganising")?o.data("intreorganisier",setTimeout(function(){waittorungGrid(e,t,a,i)},10)):i.init||runGrid(t,a,i)}function loadHoverImage(e){var t=e.parent().find(".esg-hover-image");t.length&&t.css("background-image",'url("'+t.data("src")+'")').appendTo(e)}function loadAllPrepared(e,t,a){if(1==e.data("preloading"))return!1;var i=new Image;e.data("lazysrc")!=e.attr("src")&&e.data("lazysrc")!=undefined&&"undefined"!=e.data("lazysrc")&&e.data("lazysrc")!=undefined&&"undefined"!=e.data("lazysrc")&&e.attr("src",e.data("lazysrc")),e.data("preloading",1),i.onload=function(o){e.data("lazydone",1),e.data("ww",i.width),e.data("hh",i.height),e.closest(".showmeonload").addClass("itemtoshow").removeClass("showmeonload").addClass("loadedmedia"),removeLLCover(e,i.width,i.height,t),loadHoverImage(e),"on"==_E[t].lazyLoad&&waittorungGrid(e,t,!0,a)},i.onerror=function(){e.data("lazydone",1),e.closest(".showmeonload").addClass("itemtoshow").removeClass("showmeonload").addClass("loadedmedia"),"on"==_E[t].lazyLoad&&waittorungGrid(e,t,!0,a)},e.attr("src")!=undefined&&"undefined"!=e.attr("src")?i.src=e.attr("src"):e.data("src")!=undefined&&"undefined"!=e.data("src")&&(i.src=e.data("src")),i.complete&&(e.data("lazydone",1),e.data("ww",i.width),e.data("hh",i.height),e.closest(".showmeonload").addClass("itemtoshow").removeClass("showmeonload").addClass("loadedmedia"),removeLLCover(e,i.width,i.height,t),"on"==_E[t].lazyLoad&&waittorungGrid(e,t,!0,a))}var waitForLoads=function(e,t){"add"!==_E[t].esgloaderprocess&&e.each(function(){if(!jQuery(this).hasClass("isvisiblenow"))return _E[t].esgloaderprocess="add",punchgs.TweenLite.to(_E[t].esgloader,.5,{autoAlpha:1,ease:punchgs.Power3.easeInOut}),!1});var a,i,o={init:!1};function s(e){var a=jQuery(this),s=(a.attr("src"),a.parent());if(1!=a.data("lazydone")&&"on"==_E[t].lazyLoad&&s.find(".lazyloadcover").length<1){lthumb=a.data("lazythumb");var r="",n="";lthumb!=undefined&&"undefined"!==lthumb&&(a.data("lazysrc"),r=";background-image:url("+lthumb+")",n="esg-lazyblur"),r||(r=_E[t].lazyLoadColor),s.append('<div class="lazyloadcover '+n+'" style="background:'+r+'"></div>')}1!=a.data("lazydone")&&i<3&&(i++,loadAllPrepared(jQuery(this),t,o)),"on"!==_E[t].lazyLoad&&punchgs.TweenLite.set(a,{autoAlpha:1})}a=setInterval(function(){if(_E[t].bannertimeronpause=!0,_E[t].cd=0,i=0,e.find(".esg-media-poster").each(s),0==i&&_E[t].esgloader.length>0&&"remove"!==_E[t].esgloaderprocess){_E[t].esgloaderprocess="remove";var r=0;_E[t].esgloader.hasClass("infinityscollavailable")&&(r=1),punchgs.TweenLite.to(_E[t].esgloader,.5,{autoAlpha:0,ease:punchgs.Power3.easeInOut,delay:r})}0!=i||_E[t].UL.hasClass("gridorganising")||(clearInterval(a),o.init||runGrid(t,!1,o))},50)};function organiseGrid(e,t){waitForLoads(_E[e].c.find(".itemtoshow").not(".skipblank"),e)}function removeLLCover(e,t,a,i){var o=e.parent();setMediaEntryAspectRatio({ip:o,img:e,imgw:t,imgh:a}),!e.hasClass("coverremoved")&&o.find(".lazyloadcover").length>0?(e.addClass("coverremoved"),punchgs.TweenLite.set(o.find(".lazyloadcover"),{zIndex:0}),punchgs.TweenLite.fromTo(e,.5,{autoAlpha:0,zIndex:1},{force3D:!0,autoAlpha:1,ease:punchgs.Power1.easeInOut,onComplete:function(){e.parent().find(".lazyloadcover").remove()}})):"off"==_E[i].lazyLoad&&punchgs.TweenLite.set(e,{force3D:!0,autoAlpha:1})}function runGrid(e,t,a){a.init=!0,"scroll"==_E[e].loadMoreType&&checkBottomPos(e,!0),_E[e].firstshowever==undefined?(_E[e].c.is(":hidden")&&punchgs.TweenLite.set(_E[e].c,{autoAlpha:1,display:"block"}),runGridMain(e,t),jQuery(_E[e].filterGroupClass+".esg-navigationbutton, "+_E[e].filterGroupClass+" .esg-navigationbutton").css({visibility:"visible"}),_E[e].firstshowever=1):(runGridMain(e,t),jQuery(_E[e].filterGroupClass+".esg-navigationbutton, "+_E[e].filterGroupClass+" .esg-navigationbutton").css({visibility:"visible"}))}function getCobblePat(e,t){var a={w:1,h:1};return(e=e.split(","))!=undefined&&(e=e[t-Math.floor(t/e.length)*e.length].split("x"),a.w=e[0],a.h=e[1]),a}function runGridMain(e,t){var a,i=_E[e].itemstoload?_E[e].itemstoload:_E[e].c.find(".itemtoshow, .isvisiblenow").not(".ui-sortable-helper"),o={},s=_E[e].aspectratio,r=0;_E[e].aspectratioOrig=_E[e].aspectratio,i=i.not(".skipblank"),delete _E[e].itemstoload,_E[e].UL.addClass("gridorganising"),s=s.split(":"),a=parseInt(s[0],0)/parseInt(s[1],0),o.item=0,o.pagetoanimate=0-_E[e].currentpage,o.col=0,o.row=0,o.pagecounter=0,o.itemcounter=0,o.fakecol=0,o.fakerow=0,o.maxheight=0,o.allcol=0,o.allrow=0,o.ulcurheight=0,o.ulwidth=_E[e].UL.width(),o.verticalsteps=1,o.currentcolumnheight=[];for(var n=0;n<_E[e].column;n++)o.currentcolumnheight[n]=0;o.pageitemcounterfake=0,o.pageitemcounter=0,_E[e].delayBasic!=undefined?o.delaybasic=_E[e].delayBasic:o.delaybasic=.08,o.anim=_E[e].pageAnimation,o.itemtowait=0,o.itemouttowait=0,o.ease="punchgs.Power1.easeInOut",o.easeout=o.ease,o.row=0,o.col=0;var l=_E[e].rowItemMultiplier,d=l.length;o.y=0,o.fakey=0,_E[e].ESGOT.css("width","100%"),100==_E[e].ESGOT.width()&&_E[e].ESGOT.css({width:_E[e].c.width()}),o.cwidth=_E[e].ESGOT.width()-2*_E[e].overflowoffset,_E[e].inanimation=!0,o.cwidth_n_spaces=o.cwidth-(_E[e].column-1)*_E[e].space,o.itemw=Math.round(o.cwidth_n_spaces/_E[e].column),o.originalitemw=o.itemw;var u=!1;"on"==_E[e].forceFullScreen&&(r=getFullscreenHeight(e),u=!0),"even"==_E[e].layout?(o.itemh=0==Math.round(r)?Math.round(o.cwidth_n_spaces/_E[e].column/a):Math.round(r/_E[e].row),_E[e].aspectratio=0==r?_E[e].aspectratio:o.itemw+":"+o.itemh,d>0?punchgs.TweenLite.set(i,{display:"block",visibility:"visible",overwrite:"auto"}):"on"==_E[e].evenCobbles?punchgs.TweenLite.set(i,{display:"block",visibility:"visible",overwrite:"auto"}):punchgs.TweenLite.set(i,{display:"block",width:o.itemw,height:o.itemh,visibility:"visible",overwrite:"auto"})):punchgs.TweenLite.set(i,{display:"block",width:o.itemw,height:"auto",visibility:"visible",overwrite:"auto"}),t||punchgs.TweenLite.killTweensOf(i),o.originalitemh=o.itemh;for(var c=[],p=_E[e].row*_E[e].column*2,h=0;h<p;h++){for(var g=[],f=0;f<_E[e].column;f++)g.push(0);c.push(g)}var m=0;0==i.length&&_E[e].c.trigger("itemsinposition"),jQuery.each(i,function(t,i){var s,n,h=i.id,g=_E[e].items[h].jc;
//! COBBLES
if(o.itemw=o.originalitemw,punchgs.TweenLite.set(_E[e].items[h].entryc,{minHeight:_E[e].mmHeight+"px"}),"on"!=_E[e].evenCobbles||g.hasClass("itemonotherpage")||g.hasClass("itemishidden")){var f=o.row-d*Math.floor(o.row/d);"even"==_E[e].layout&&d>0&&(_E[e].column=l[f][_E[e].columnindex],o.cwidth=_E[e].ESGOT.width()-2*_E[e].overflowoffset,o.cwidth_n_spaces=o.cwidth-(_E[e].column-1)*_E[e].space,o.itemw=Math.round(o.cwidth_n_spaces/_E[e].column),o.itemh=0==r?o.cwidth_n_spaces/_E[e].column/a:r/_E[e].row,_E[e].aspectratio=0==r?_E[e].aspectratio:o.itemw+":"+o.itemh,punchgs.TweenLite.set(g,{width:o.itemw,height:o.itemh,overwrite:"auto"})),u&&(n=g.find(".esg-entry-media"),s=o.itemh/o.itemw*100)}else{var w=g.data("cobblesw"),_=g.data("cobblesh");if(_E[e].cobblesPattern!=undefined&&_E[e].cobblesPattern.length>2){var E=getCobblePat(_E[e].cobblesPattern,m);w=parseInt(E.w,0),_=parseInt(E.h,0),m++}w=w==undefined?1:w,_=_==undefined?1:_,_E[e].column<w&&(w=_E[e].column),o.cobblesorigw=o.originalitemw,o.cobblesorigh=o.originalitemh,o.itemw=o.itemw*w+(w-1)*_E[e].space,o.itemh=o.originalitemh,o.itemh=o.itemh*_+(_-1)*_E[e].space;var v=w+":"+_,y=!1,b=0,x=0;_CP_=v.split(":"),H=parseInt(_CP_[0],0),V=parseInt(_CP_[1],0),quit=0;do{for(var k=0==c[b][x],C=b<p-(V-1),j=x<_E[e].column-(H-1),A=!0,O=0;O<V;O++)for(var T=0;T<H;T++)A&&c[parseInt(b,0)+O]!==undefined&&c[parseInt(b,0)+O][parseInt(x,0)+T]!==undefined&&(A=!1!==A&&(A=0==c[parseInt(b,0)+O][parseInt(x,0)+T]));if(k&&C&&j&&A){o.cobblesx=x,o.cobblesy=b;for(T=0;T<H;T++)for(O=0;O<V;O++)c[parseInt(b,0)+O][parseInt(x,0)+T]=v;y=!0}++x==_E[e].column&&(x=0,b++),b>=p&&(y=!0),quit++}while(!y&&quit<1500);_E[e].aspectratio=o.itemw+":"+o.itemh,punchgs.TweenLite.set(g,{width:o.itemw,height:o.itemh,overwrite:"auto"}),n=g.find(".esg-entry-media"),s=o.itemh/o.itemw*100,punchgs.TweenLite.set(n,{paddingBottom:s+"%"})}"even"!==_E[e].layout&&(g.hasClass("itemtoshow")&&(g.width()!=o.itemw||0==g.css("opacity")||"hidden"==g.css("visibility"))?o=prepareItemToMessure(g,o,e):(adjustMediaSize(g,!0,o,e),o.itemh=g.height())),(o=animateGrid(g,e,o,t)).itemcounter++,_E[e].UL.height()<o.maxheight&&_E[e].c.trigger("itemsinposition")}),_E[e].aspectratio=_E[e].aspectratioOrig,"off"!==_E[e].hideMarkups&&0!=o.itemtowait||_E[e].UL.removeClass("gridorganising");var w=getBestFitColumn(e);if(_E[e].column=w.column,_E[e].columnindex=w.index,_E[e].mmHeight=w.mmHeight,_E[e].maxheight=o.maxheight,_E[e].c.trigger("itemsinposition"),_E[e].inanimation=!0,_E[e].started=!1,_E[e].filterchanged=!1,_E[e].silent=!1,_E[e].silentout=!1,_E[e].changedAnim="",_E[e].esgloader.length>0&&"remove"!=_E[e].esgloaderprocess){_E[e].esgloaderprocess="remove";var _=0;_E[e].esgloader.hasClass("infinityscollavailable")&&(_=1),punchgs.TweenLite.to(_E[e].esgloader,1,{autoAlpha:0,ease:punchgs.Power3.easeInOut,delay:_})}_E[e].fromResize=!1,_E[e].inViewport||_E.win.trigger("resize.esgviewport")}function prepareItemToMessure(e,t,a){return adjustMediaSize(e,!0,t,a),t.itemh=e.outerHeight(!0),t}function animateGrid(e,t,a,i){if(a.skipanim=!1,a.x=Math.round(a.col*a.itemw),"even"==_E[t].layout);else{a.idealcol=0,a.backupcol=a.col;for(var o=0;o<_E[t].column;o++)a.currentcolumnheight[a.idealcol]>a.currentcolumnheight[o]&&(a.idealcol=o);a.y=a.currentcolumnheight[a.idealcol],a.x=Math.round(a.idealcol*a.itemw)+a.idealcol*_E[t].space,a.col=a.idealcol,a.itemh==undefined&&(a.itemh=0)}if(a.cobblesx!=undefined&&(a.x=a.cobblesx*a.cobblesorigw,a.y=a.cobblesy*a.cobblesorigh),"rotatefall"!==a.anim){var s=e.data("eg-load-more-new");isNaN(s)?a.waits="item"===_E[t].animationType?a.col*a.delaybasic+a.row*(a.delaybasic*_E[t].column):"col"===_E[t].animationType?a.col*a.delaybasic:a.row*(a.delaybasic*_E[t].column):(0===parseInt(s,10)&&(_E[t].loadStartRow=a.row),a.waits="item"===_E[t].animationType?s*a.delaybasic:"col"===_E[t].animationType?a.col*a.delaybasic:(a.row-_E[t].loadStartRow)*(a.delaybasic*_E[t].column),e.removeData("eg-load-more-new"))}else a.waits=a.col*a.delaybasic+a.row*(a.delaybasic*_E[t].column);if(a.speed=_E[t].animSpeed,a.inxrot=0,a.inyrot=0,a.outxrot=0,a.outyrot=0,a.inorigin="center center",a.outorigin="center center",a.itemh=Math.round(a.itemh),a.scale=1,a.outfade=0,a.infade=0,e.hasClass("itemonotherpage")||e.hasClass("skipblank"))a.skipanim=!0;else if(!_E[t].firstLoadFinnished&&_E[t].startAnimation||!_E[t].inViewport){var r=_E[t].startAnimationSpeed?_E[t].startAnimationSpeed:0,n=_E[t].startAnimationDelay?_E[t].startAnimationDelay:0;a.anim=_E[t].startAnimation,"none"!==a.anim?(a.speed=r?.001*r:0,a.waits=n&&"reveal"!==a.anim?n/100:0):(a.speed=0,a.waits=0),a.waits&&(a.waits*="item"===_E[t].startAnimationType?i:a[_E[t].startAnimationType])}if("horizontal-slide"==a.anim?(a.waits=0,a.hsoffset=0-a.cwidth-parseInt(_E[t].space),a.hsoffsetout=0-a.cwidth-parseInt(_E[t].space),_E[t].oldpage!=undefined&&_E[t].oldpage>_E[t].currentpage&&(a.hsoffset=a.cwidth+parseInt(_E[t].space),a.hsoffsetout=a.cwidth+parseInt(_E[t].space))):"vertical-slide"==a.anim&&(a.waits=0,a.maxcalcheight=_E[t].row*_E[t].space+_E[t].row*a.itemh,a.vsoffset=a.maxcalcheight+parseInt(_E[t].space),a.vsoffsetout=a.maxcalcheight+parseInt(_E[t].space),_E[t].oldpage!=undefined&&_E[t].oldpage>_E[t].currentpage&&(a.vsoffset=0-a.maxcalcheight-parseInt(_E[t].space),a.vsoffsetout=0-a.maxcalcheight-parseInt(_E[t].space))),_E[t].fromResize&&(a.waits=0),a.outwaits=a.waits,"even"==_E[t].layout&&a.cobblesx==undefined&&(a.x=a.x+a.col*_E[t].space),a.cobblesx!=undefined&&(a.x=a.x+a.cobblesx*_E[t].space,a.y=a.y+a.cobblesy*_E[t].space),"vertical-flip"!=a.anim&&"horizontal-flip"!=a.anim&&"vertical-flipbook"!=a.anim&&"horizontal-flipbook"!=a.anim||(a=fakePositions(e,a,t)),"vertical-flip"==a.anim?(a.inxrot=-180,a.outxrot=180):"horizontal-flip"==a.anim&&(a.inyrot=-180,a.outyrot=180),a.outspeed=a.speed,"off"==_E[t].animDelay&&(a.waits=0,a.outwaits=0),"scale"==a.anim?a.scale=0:"vertical-flipbook"==a.anim?(a.inxrot=-90,a.outxrot=90,a.inorigin="center top",a.outorigin="center bottom",a.waits=a.waits+a.speed/3,a.outfade=1,a.infade=1,a.outspeed=a.speed/1.2,a.ease="Sine.easeOut",a.easeout="Sine.easeIn","off"==_E[t].animDelay&&(a.waits=a.speed/3,a.outwaits=0)):"horizontal-flipbook"==a.anim?(a.inyrot=-90,a.outyrot=-90,a.inorigin="left center",a.outorigin="right center",a.waits=a.waits+a.speed/2.4,a.outfade=1,a.infade=1,a.outspeed=a.speed/1.2,a.ease="Sine.easeOut",a.easeout="Sine.easeIn","off"==_E[t].animDelay&&(a.waits=a.speed/3,a.outwaits=0)):"fall"!=a.anim&&"rotatefall"!=a.anim||(a.outoffsety=100,(a=fakePositions(e,a,t)).outfade=0),"rotatefall"==a.anim?(a.rotatez=20,a.outorigin="left top",a.outfade=1,a.outoffsety=600):"rotatescale"==a.anim?(a.scale=0,a.inorigin="left bottom",a.outorigin="center center",a.faeout=1,a.outoffsety=100,a=fakePositions(e,a,t)):"stack"==a.anim&&(a.scale=0,a.inorigin="center center",a.faeout=1,a.ease="punchgs.Power3.easeOut",(a=fakePositions(e,a,t)).ease="Back.easeOut"),_E[t].silent&&(a.waits=0,a.outwaits=0,a.speed=0,a.outspeed=0),_E[t].silentout&&(a.outwaits=0,a.outspeed=.4,a.speed=.4,a.ease="punchgs.Power3.easeOut",a.easeout=a.ease),a.hooffset=_E[t].overflowoffset,a.vooffset=_E[t].overflowoffset,a.itemw+a.x-a.cwidth<20&&a.itemw+a.x-a.cwidth>-20){var l=a.itemw+a.x-a.cwidth;a.itemw=a.itemw-l}if(!e.hasClass("itemtoshow")&&!e.hasClass("fitsinfilter")||a.skipanim)a.itemouttowait++,punchgs.TweenLite.set(e,{zIndex:5}),e.removeClass("isvisiblenow"),e.css("opacity")>0?"stack"==a.anim?(punchgs.TweenLite.set(e,{zIndex:a.pageitemcounterfake+100}),punchgs.TweenLite.to(e,a.outspeed/2,{force3D:"auto",x:-20-a.itemw,rotationY:30,rotationX:10,ease:Sine.easeInOut,delay:a.outwaits}),punchgs.TweenLite.to(e,.01,{force3D:"auto",zIndex:a.pageitemcounterfake,delay:a.outwaits+a.outspeed/3}),punchgs.TweenLite.to(e,.2*a.outspeed,{force3D:"auto",delay:a.outwaits+.9*a.outspeed,autoAlpha:0,ease:Sine.easeInOut}),punchgs.TweenLite.to(e,a.outspeed/3,{zIndex:2,force3D:"auto",x:0,scale:.9,rotationY:0,rotationX:0,ease:Sine.easeInOut,delay:a.outwaits+a.outspeed/1.4,onComplete:function(){e.hasClass("itemtoshow")||punchgs.TweenLite.set(e,{autoAlpha:0,overwrite:"all",display:"none"}),a.itemouttowait--,0==a.itemouttowait&&_E[t].c.trigger("itemsinposition")}})):"horizontal-flipbook"==a.anim||"vertical-flipbook"==a.anim?punchgs.TweenLite.to(e,a.outspeed,{force3D:"auto",zIndex:2,scale:a.scale,autoAlpha:a.outfade,transformOrigin:a.outorigin,rotationX:a.outxrot,rotationY:a.outyrot,ease:a.easeout,delay:a.outwaits,onComplete:function(){e.hasClass("itemtoshow")||punchgs.TweenLite.set(e,{autoAlpha:0,overwrite:"all",display:"none"}),a.itemouttowait--,0==a.itemouttowait&&_E[t].c.trigger("itemsinposition")}}):"fall"==a.anim?punchgs.TweenLite.to(e,a.outspeed,{zIndex:2,force3D:"auto",y:a.outoffsety,autoAlpha:0,ease:a.easeout,delay:a.outwaits,onComplete:function(){e.hasClass("itemtoshow")||punchgs.TweenLite.set(e,{autoAlpha:0,overwrite:"all",display:"none"}),a.itemouttowait--,0==a.itemouttowait&&_E[t].c.trigger("itemsinposition")}}):"horizontal-slide"==a.anim?punchgs.TweenLite.to(e,a.outspeed,{zIndex:2,force3D:"auto",autoAlpha:1,left:a.hooffset+e.position().left+a.hsoffsetout,top:a.vooffset+e.position().top,ease:a.easeout,delay:a.outwaits,onComplete:function(){punchgs.TweenLite.set(e,{autoAlpha:0,overwrite:"all",display:"none"}),a.itemouttowait--,0==a.itemouttowait&&_E[t].c.trigger("itemsinposition")}}):"vertical-slide"==a.anim?punchgs.TweenLite.to(e,a.outspeed,{zIndex:2,force3D:"auto",autoAlpha:1,left:a.hooffset+e.position().left,top:a.vooffset+e.position().top+a.vsoffsetout,ease:a.easeout,delay:a.outwaits,onComplete:function(){punchgs.TweenLite.set(e,{autoAlpha:0,overwrite:"all",display:"none"}),a.itemouttowait--,0==a.itemouttowait&&_E[t].c.trigger("itemsinposition")}}):"rotatefall"==a.anim&&e.css("opacity")>0?(punchgs.TweenLite.set(e,{zIndex:300-a.item}),punchgs.TweenLite.to(e,a.outspeed/2,{force3D:"auto",transformOrigin:a.outorigin,ease:"punchgs.Bounce.easeOut",rotationZ:a.rotatez,delay:a.outwaits}),punchgs.TweenLite.to(e,a.outspeed/2,{zIndex:2,force3D:"auto",autoAlpha:0,y:a.outoffsety,ease:punchgs.Power3.easeIn,delay:a.outwaits+a.outspeed/3})):punchgs.TweenLite.to(e,a.outspeed,{force3D:"auto",zIndex:2,scale:a.scale,autoAlpha:a.outfade,transformOrigin:a.outorigin,rotationX:a.outxrot,rotationY:a.outyrot,ease:a.easeout,delay:a.outwaits,onComplete:function(){e.hasClass("itemtoshow")||punchgs.TweenLite.set(e,{autoAlpha:0,overwrite:"all",display:"none"}),a.itemouttowait--,0==a.itemouttowait&&_E[t].c.trigger("itemsinposition")}}):punchgs.TweenLite.set(e,{zIndex:2,scale:a.scale,autoAlpha:0,transformOrigin:a.outorigin,rotationX:a.outxrot,rotationY:a.outyrot,onComplete:function(){e.hasClass("itemtoshow")||punchgs.TweenLite.set(e,{autoAlpha:0,overwrite:"all",display:"none"}),a.itemouttowait--,0==a.itemouttowait&&_E[t].c.trigger("itemsinposition")}}),a=shiftGridFake(a,t);else{e.addClass("isvisiblenow"),"even"!=_E[t].layout?(a.currentcolumnheight[a.idealcol]=a.currentcolumnheight[a.idealcol]+a.itemh+parseInt(_E[t].space),a.ulcurheight<a.currentcolumnheight[a.idealcol]&&(a.ulcurheight=a.currentcolumnheight[a.idealcol])):a.ulcurheight=a.y+a.itemh,a.maxheight<a.ulcurheight&&(a.maxheight=a.ulcurheight),a.itemtowait++;var d,u,c=Math.round(a.hooffset+a.x),p=Math.round(a.vooffset+a.y);if("on"==_E[t].rtl&&(c=a.ulwidth-c-a.itemw),0==e.css("opacity")&&"fade"==a.anim?punchgs.TweenLite.set(e,{opacity:0,autoAlpha:0,width:a.itemw,height:a.itemh,scale:1,left:c,y:0,top:p,overwrite:"all"}):0==e.css("opacity")&&"scale"==a.anim?punchgs.TweenLite.set(e,{width:a.itemw,height:a.itemh,scale:0,left:c,y:0,top:p,overwrite:"all"}):0==e.css("opacity")&&"rotatescale"==a.anim?punchgs.TweenLite.set(e,{width:a.itemw,height:a.itemh,scale:1,left:c,top:p,xPercent:150,yPercent:150,rotationZ:20,overwrite:"all"}):0==e.css("opacity")&&"fall"==a.anim?punchgs.TweenLite.set(e,{width:a.itemw,height:a.itemh,scale:.5,left:c,top:p,y:0,overwrite:"all"}):0==e.css("opacity")&&"rotatefall"==a.anim&&punchgs.TweenLite.set(e,{autoAlpha:0,width:a.itemw,height:a.itemh,left:c,rotationZ:0,top:p,y:0,overwrite:"all"}),0!=e.css("opacity")||"vertical-flip"!=a.anim&&"horizontal-flip"!=a.anim&&"vertical-flipbook"!=a.anim&&"horizontal-flipbook"!=a.anim||punchgs.TweenLite.set(e,{autoAlpha:a.infade,zIndex:10,scale:1,y:0,transformOrigin:a.inorigin,rotationX:a.inxrot,rotationY:a.inyrot,width:a.itemw,height:a.itemh,left:c,top:p,overwrite:"all"}),"stack"==a.anim&&punchgs.TweenLite.set(e,{zIndex:a.pageitemcounter,scale:.5,autoAlpha:1,left:c,top:p}),"horizontal-slide"==a.anim&&0==e.css("opacity")&&punchgs.TweenLite.set(e,{autoAlpha:1,left:Math.round(a.hooffset+(a.x-a.hsoffset)),top:p,width:a.itemw,height:a.itemh}),"vertical-slide"==a.anim&&0==e.css("opacity")&&punchgs.TweenLite.set(e,{autoAlpha:1,left:c,top:Math.round(a.vooffset+a.y-a.vsoffset),width:a.itemw,height:a.itemh}),"none"!==a.anim&&-1!==mergedTransitions.indexOf(a.anim)&&startAnimations.hasOwnProperty("esg-"+a.anim)){u=startAnimations["esg-"+a.anim],d=!0;var h=jQuery.extend(!0,{},u[1]);delete h.autoAlpha,punchgs.TweenLite.set(e,jQuery.extend(!0,{left:c,top:p,width:a.itemw,height:a.itemh},h))}var g,f=e.find(".esg-entry-cover"),m=e.find(".esg-entry-media");if(f&&m){var w=m.outerHeight(),_=e.find(".esg-cc");punchgs.TweenLite.to(f,.01,{height:w,ease:a.ease,delay:a.waits}),punchgs.TweenLite.to(_,.01,{top:(w-_.height())/2,ease:a.ease,delay:a.waits})}function E(){e.hasClass("itemtoshow")&&punchgs.TweenLite.set(e,{autoAlpha:1,overwrite:"all"}),a.itemtowait--,0==a.itemtowait&&(_E[t].c.trigger("itemsinposition"),e.closest(".mainul").removeClass("gridorganising"))}if(_E[t].c.trigger("itemsinposition"),d){var v=jQuery.extend(!0,{},u[2]);v.top=p,v.ease=a.ease,v.delay=a.waits,v.onComplete=E,v.overwrite="all",e.data("viewportanime",[a.speed,v]),_E[t].inViewport&&(g=e.data("viewportanime"),punchgs.TweenLite.to(e,g[0],g[1]))}else e.data("viewportanime",[a.speed,{force3D:"auto",autoAlpha:1,scale:1,transformOrigin:a.inorigin,rotationX:0,rotationY:0,y:0,x:0,xPercent:0,yPercent:0,z:.1,rotationZ:0,left:c,top:p,ease:a.ease,delay:a.waits,onComplete:E}]),_E[t].inViewport&&(g=e.data("viewportanime"),punchgs.TweenLite.to(e,g[0],g[1]));"masonry"==_E[t].layout&&(a.col=a.backupcol),a=shiftGrid(a,t,e)}return a}function fakePositions(e,t,a){if(!e.hasClass("itemtoshow")&&!e.hasClass("fitsinfilter")||t.skipanim){var i=e.data("col"),o=e.data("row");i!=undefined&&o!=undefined||0!=t.x&&0!=t.y&&(t.x=Math.round(t.fakecol*t.itemw),t.y=t.fakey,i=t.fakecol,o=t.fakerow,e.data("col",t.fakecol),e.data("row",t.fakerow)),"rotatefall"!==t.anim?t.outwaits="item"===_E[a].animationType?i*t.delaybasic+o*(t.delaybasic*_E[a].column):"col"===_E[a].animationType?i*t.delaybasic:o*(t.delaybasic*_E[a].column):t.outwaits=(_E[a].column-i)*t.delaybasic+o*(t.delaybasic*_E[a].column)}else;return t}function shiftGrid(e,t,a){if(a.data("col",e.col),a.data("row",e.row),e.pageitemcounter++,e.col=e.col+e.verticalsteps,e.allcol++,e.col==_E[t].column&&(e.col=0,e.row++,e.allrow++,e.y=parseFloat(e.y)+parseFloat(e.itemh)+parseFloat(_E[t].space),e.row==_E[t].row&&(e.row=0,e.pageitemcounter>=_E[t].column*_E[t].row&&(e.pageitemcounter=0),e.pagetoanimate=e.pagetoanimate+1,e.pagecounter++,0==e.pageitemcounter)))for(var i=0;i<_E[t].column;i++)e.currentcolumnheight[i]=0;return e}function shiftGridFake(e,t){return e.fakecol=e.fakecol+1,e.pageitemcounterfake++,e.fakecol==_E[t].column&&(e.fakecol=0,e.fakerow++,e.fakey=e.fakey+e.itemh+_E[t].space,e.fakerow==_E[t].row&&(e.fakerow=0,e.pageitemcounterfake=0)),e}function checkVideoScript(e,t,a){var i,o,s=!0;if(vhandlers[e]=!0,jQuery("script[src]").each(function(){if(-1!==jQuery(this).attr("src").search(t))return s=!1,!1}),s){(o=document.createElement("script")).src=a,i=document.getElementsByTagName("script")[0];try{i.parentNode.insertBefore(o,i)}catch(e){}}}function loadVideoApis(e){_E[e].c.find("iframe").each(function(){var e=jQuery(this).attr("src");e.indexOf("you")>0&&!vhandlers.addedyt?checkVideoScript("addedyt","www.youtube.com/iframe_api","https://www.youtube.com/iframe_api"):e.indexOf("ws")>0&&!vhandlers.addedws?(httpprefix="https:"!==location.protocol?"http":"https",checkVideoScript("addedws","fast.wistia.com/assets/external/E-v1.js",httpprefix+"://fast.wistia.com/assets/external/E-v1.js")):e.indexOf("vim")>0&&!vhandlers.addedvim?(jQuery(".esg-vimeo-frame").attr("allow","autoplay"),checkVideoScript("addedvim","player.vimeo.com/api/player.js","https://player.vimeo.com/api/player.js")):e.indexOf("soundcloud")>0&&!vhandlers.addedsc&&(httpprefix="https:"!==location.protocol?"http":"https",checkVideoScript("addedsc","w.soundcloud.com/player/api.js",httpprefix+"://w.soundcloud.com/player/api.js"))})}function stopVideo(e,t){var a=_E[t].items[e[0].id],i=e.find(".isplaying");if(i.length)switch(a.videoType){case"html":try{i[0].pause()}catch(e){console.log(e)}break;case"vimeo":try{i.data("newvimeoplayer").pause()}catch(e){console.log(e)}break;case"youtube":try{i.data("player").pauseVideo()}catch(e){console.log(e)}break;case"wistia":try{i.data("player").wistiaApi.pause()}catch(e){console.log(e)}}}function stopAllVideos(e,t,a,i){var o,s=" isplaying";e&&(s=""),o=i?jQuery(".tp-esg-item").not(".isvisiblenow").toArray():document.getElementsByClassName("tp-esg-item isvisiblenow");for(var r=0;r<o.length;r++){var n,l,d,u,c=o[r].getElementsByClassName("esg-youtubevideo haslistener"+s),p=o[r].getElementsByClassName("esg-vimeovideo haslistener"+s),h=o[r].getElementsByClassName("esg-wistiavideo haslistener"+s),g=o[r].getElementsByClassName("esg-htmlvideo haslistener"+s),f=o[r].getElementsByClassName("esg-soundcloud"+s);for(u=0;u<c.length;u++)n=(l=jQuery(c[u])).data("player"),a!=l.attr("id")&&(n.pauseVideo(),e&&forceVideoInPause(l,!1,n,"youtube"));for(u=0;u<p.length;u++)d=(l=jQuery(p[u])).attr("id"),n=l.data("newvimeoplayer"),a!=d&&(n.pause(),a===undefined&&e&&forceVideoInPause(l,!1,n,"vimeo"));for(u=0;u<h.length;u++)n=(l=jQuery(h[u])).data("player"),a!=l.attr("id")&&(l.wistiaApi.pause(),e&&forceVideoInPause(l,!1,n,"wistia"));for(u=0;u<g.length;u++)d=(l=jQuery(g[u])).attr("id"),n=document.getElementById(d),a!=d&&(n.pause(),e&&forceVideoInPause(l,!1,n,"html5vid"));for(u=0;u<f.length;u++)n=(l=jQuery(f[u])).data("player"),a!=l.attr("id")&&(n.pause(),e&&forceVideoInPause(l,!1,n,"soundcloud"))}}function forceVideoInPause(e,t,a,i){e.removeClass("isplaying");var o=e.closest(".tp-esg-item").removeClass("esg-video-active");if(o.find(".esg-media-video").length>0&&!_E.fullScreenMode){var s=o.find(".esg-entry-cover"),r=o.find(".esg-media-poster");if(r.length>0)if(is_mobile()?(punchgs.TweenLite.set(s,{autoAlpha:1}),punchgs.TweenLite.set(r,{autoAlpha:1}),punchgs.TweenLite.set(e,{autoAlpha:0})):(punchgs.TweenLite.to(s,.5,{autoAlpha:1}),punchgs.TweenLite.to(r,.5,{autoAlpha:1}),punchgs.TweenLite.to(e,.5,{autoAlpha:0})),t)if("youtube"==i)try{a.destroy()}catch(e){}else if("vimeo"==i)try{a.unload()}catch(e){}else if("wistia"==i)try{a.end()}catch(e){}else"html5vid"!=i&&(e.removeClass("haslistener"),e.removeClass("readytoplay"));else setTimeout(function(){},500)}}function onPlayerStateChange(e){var t=e.target.getIframe(),a=jQuery(t);if(clearTimeout(a.data("esgplayertimer")),e.data==YT.PlayerState.PLAYING&&(e.target.setPlaybackQuality("hd1080"),stopAllVideos(!0,!1,t.id),a.addClass("isplaying").removeClass("isinpause")),2==e.data){var i=e.target;a.data("esgplayertimer",setTimeout(function(){2==i.getPlayerState()&&(forceVideoInPause(a),i.pauseVideo())},100))}0==e.data&&forceVideoInPause(a)}function vimeoready_auto(e){var t=e.data("newvimeoplayer");t||(t=new Vimeo.Player(e[0]),e.data("newvimeoplayer",t)),e.addClass("readytoplay"),t.on("play",function(t){stopAllVideos(!0,!1,e.attr("id")),e.addClass("isplaying"),e.removeClass("isinpause")}),t.on("finish",function(t){forceVideoInPause(e),e.removeClass("isplaying")}),t.on("pause",function(t){forceVideoInPause(e),e.removeClass("isplaying")}),t.on("error",function(){console.log("vimeo error occured")})}function html5vidready(e,t,a){var i,o;function s(){i?i=!1:(forceVideoInPause(t),t.removeClass("isplaying"))}t.addClass("readytoplay"),t.on("play",function(){i||(i=!1,stopAllVideos(!0,!1,a),t.addClass("isplaying"),t.removeClass("isinpause"))}),t.on("pause",function(){clearTimeout(o),o=setTimeout(s,100)}),t.on("ended",function(){forceVideoInPause(t),t.removeClass("isplaying")}),t.on("seeking",function(){i=!0})}function prepareYT(e){var t,a="ytiframe"+Math.round(1e5*Math.random()+1);if(e.hasClass("haslistener")||"undefined"==typeof YT)return(t=e.data("player"))!=undefined&&"function"==typeof t.playVideo;try{e.attr("id",a),t=new YT.Player(a,{events:{onStateChange:onPlayerStateChange}}),e.data("player",t),e.addClass("haslistener").addClass("esg-youtubevideo")}catch(e){return!1}}function playYT(e){var t=e.data("player");t!=undefined&&"function"==typeof t.playVideo&&t.playVideo()}function prepareVimeo(e){if(e.hasClass("haslistener")||"undefined"==typeof Vimeo)return"undefined"!=typeof Vimeo&&!(!e.data("newvimeoplayer")||!e.hasClass("readytoplay"));try{var t="vimeoiframe"+Math.round(1e5*Math.random()+1);e.attr("id",t);for(var a,i=e.attr("src"),o={},s=i,r=/([^&=]+)=([^&]*)/g;a=r.exec(s);)o[decodeURIComponent(a[1])]=decodeURIComponent(a[2]);i=(i=o.player_id!=undefined?i.replace(o.player_id,t):i+"&player_id="+t).replace(/&api=0|&api=1/,""),e.attr("src",i),vimeoready_auto(e),e.addClass("haslistener").addClass("esg-vimeovideo")}catch(e){return!1}}function playVimeo(e){var t=e.data("newvimeoplayer");t&&t.play()}function prepareWs(e){var t,a="wsiframe"+Math.round(1e5*Math.random()+1);if(e.hasClass("haslistener")||"undefined"==typeof Ws)return(t=e.data("player"))!=undefined&&"function"==typeof t.playVideo;try{e.attr("id",a),t=new Ws.Player(a,{events:{onStateChange:onPlayerStateChange}}),e.data("player",t),e.addClass("haslistener").addClass("esg-wistiavideo")}catch(e){return!1}}function playWs(e){var t=e.data("player");t!=undefined&&"function"==typeof t.playVideo&&t.wistiaApi.Plau()}function prepareSoundCloud(e){var t;if(e.data("player")!=undefined||"undefined"==typeof SC)return(t=e.data("player"))!=undefined&&"function"==typeof t.getVolume;var a="sciframe"+Math.round(1e5*Math.random()+1);try{e.attr("id",a),(t=SC.Widget(a)).bind(SC.Widget.Events.PLAY,function(){stopAllVideos(!0,!1,e.attr("id")),e.addClass("isplaying"),e.removeClass("isinpause")}),t.bind(SC.Widget.Events.PAUSE,function(){e.hasClass("isplaying")&&(forceVideoInPause(e),e.removeClass("isplaying"))}),t.bind(SC.Widget.Events.FINISH,function(){forceVideoInPause(e),e.removeClass("isplaying")}),e.data("player",t),e.addClass("haslistener").addClass("esg-soundcloud")}catch(e){return!1}}function playSC(e){var t=e.data("player");t!=undefined&&"function"==typeof t.getVolume&&setTimeout(function(){t.play()},500)}function prepareVideo(e){var t;if(e.hasClass("haslistener"))try{var a=e.attr("id");return!("function"!=typeof(t=document.getElementById(a)).play||!e.hasClass("readytoplay"))}catch(e){return!1}else{var i="videoid_"+Math.round(1e5*Math.random()+1);e.attr("id",i),(t=document.getElementById(i)).oncanplay=html5vidready(t,e,i),e.addClass("haslistener").addClass("esg-htmlvideo")}}function playVideo(e){var t=e.attr("id");document.getElementById(t).play()}}(jQuery),function(e,t){"use strict";var a,i=!1,o=parseFloat,s=Math.min,r=/(-?\d+\.?\d*)$/g,n=/(\d+\.?\d*)$/g,l=[],d=[],u=function(e){return"string"==typeof e},c=function(e,t){for(var a,i=e.length,o=i;o--;)t(e[a=i-o-1],a)},p=Array.prototype.indexOf||function(e){var t=this.length,a=Number(arguments[1])||0;for((a=a<0?Math.ceil(a):Math.floor(a))<0&&(a+=t);a<t;a++)if(a in this&&this[a]===e)return a;return-1};function h(e,t){for(var a=0,o=e.length;a<o;a++)if(e[a]==t)return!i;return i}function g(){jQuery("span.eg-post-like").on("click",function(){var e,t;return 0,t=(e=jQuery(this).closest("a")).data("post_id"),jQuery.ajax({type:"post",url:eg_ajax_var.url,data:"action=ess_grid_post_like&nonce="+eg_ajax_var.nonce+"&post_like=&post_id="+t,success:function(t){"already"!=t&&(e.addClass("eg-post-like-voted"),e.closest("li").find(".eg-post-count").text(t))}}),!1})}e.tinysort={id:"TinySort",version:"1.5.6",copyright:"Copyright (c) 2008-2013 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licensed:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"},plugin:(a=function(e,t){l.push(e),d.push(t)},a.indexOf=p,a),defaults:{order:"asc",attr:null,data:null,useVal:i,place:"start",returns:i,cases:i,forceStrings:i,ignoreDashes:i,sortFunction:null}},e.fn.extend({tinysort:function(){var t,a,g,f,m=[],w=[],_=[],E=[],v=0,y=[],b=[],x=function(e){c(l,function(t){t.call(t,e)})},k=function(e,t){var a;return"string"==typeof t&&(e.cases||(t=(a=t)&&a.toLowerCase?a.toLowerCase():a),t=t.replace(/^\s*(.*?)\s*$/i,"$1")),t},C=function(e,t){var a=0;for(0!==v&&(v=0);0===a&&v<f;){var s=E[v],l=s.oSettings,p=l.ignoreDashes?n:r;if(x(l),l.sortFunction)a=l.sortFunction(e,t);else if("rand"==l.order)a=Math.random()<.5?1:-1;else{var h=i,g=k(l,e.s[v]),m=k(l,t.s[v]);if(!l.forceStrings){var w=u(g)?g&&g.match(p):i,_=u(m)?m&&m.match(p):i;if(w&&_)g.substr(0,g.length-w[0].length)==m.substr(0,m.length-_[0].length)&&(h=!i,g=o(w[0]),m=o(_[0]))}a=s.iAsc*(g<m?-1:g>m?1:0)}c(d,function(e){a=e.call(e,h,g,m,a)}),0===a&&v++}return a};for(t=0,g=arguments.length;t<g;t++){var j=arguments[t];u(j)?y.push(j)-1>b.length&&(b.length=y.length-1):b.push(j)>y.length&&(y.length=b.length)}for(y.length>b.length&&(b.length=y.length),0===(f=y.length)&&(f=y.length=1,b.push({})),t=0,g=f;t<g;t++){var A=y[t],O=e.extend({},e.tinysort.defaults,b[t]),T=!(!A||""===A),P=T&&":"===A[0];E.push({sFind:A,oSettings:O,bFind:T,bAttr:!(null===O.attr||""===O.attr),bData:null!==O.data,bFilter:P,$Filter:P?this.filter(A):this,fnSort:O.sortFunction,iAsc:"asc"==O.order?1:-1})}return this.each(function(t,i){var o,s=e(i),r=s.parent().get(0),n=[];for(a=0;a<f;a++){var l=E[a],d=l.bFind?l.bFilter?l.$Filter.filter(i):s.find(l.sFind):s;n.push(l.bData?d.data(l.oSettings.data):l.bAttr?d.attr(l.oSettings.attr):l.oSettings.useVal?d.val():d.text()),void 0===o&&(o=d)}var u=p.call(_,r);u<0&&(u=_.push(r)-1,w[u]={s:[],n:[]}),o.length>0?w[u].s.push({s:n,e:s,n:t}):w[u].n.push({e:s,n:t})}),c(w,function(e){e.s.sort(C)}),c(w,function(e){var a=e.s,o=e.n,r=a.length,n=o.length,l=r+n,d=[],u=l,p=[0,0];switch(O.place){case"first":c(a,function(e){u=s(u,e.n)});break;case"org":c(a,function(e){d.push(e.n)});break;case"end":u=n;break;default:u=0}for(t=0;t<l;t++){var g=h(d,t)?!i:t>=u&&t<u+r,f=g?0:1,w=(g?a:o)[p[f]].e;w.parent().append(w),!g&&O.returns||m.push(w.get(0)),p[f]++}}),this.length=0,Array.prototype.push.apply(this,m),this}}),e.fn.TinySort=e.fn.Tinysort=e.fn.tsort=e.fn.tinysort;var f=!1;"loading"===document.readyState?document.addEventListener("readystatechange",function(){"interactive"!==document.readyState&&"complete"!==document.readyState||f||(f=!0,g())}):(f=!0,g())}(jQuery);