!function(e,t,a){function i(t,a){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.content,this.$el=e(t),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=e.extend({},l,a),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this.init()}function n(t,a){var i=!0;return e.each(t,function(e,n){if(void 0===a[e]||t[e]!==a[e])return i=!1,!1}),i}function o(){return!u&&c}function r(){var e=(a.body||a.documentElement).style,t="transition";if("string"==typeof e[t])return!0;v=["Moz","Webkit","Khtml","O","ms"],t=t.charAt(0).toUpperCase()+t.substr(1);for(var i=0;i<v.length;i++)if("string"==typeof e[v[i]+t])return!0;return!1}var s="tooltipster",l={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,delay:200,fixedWidth:0,maxWidth:0,functionInit:function(e,t){},functionBefore:function(e,t){t()},functionReady:function(e,t){},functionAfter:function(e){},icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};i.prototype={init:function(){var t=this;if(a.querySelector){if(null!==t.options.content)t.setContent(t.options.content);else{var i=t.$el.attr("title");void 0===i&&(i=null),t.setContent(i)}var n=t.options.functionInit.call(t.$el,t.$el,t.content);void 0!==n&&t.setContent(n),t.$el.removeAttr("title").addClass("tooltipstered"),!c&&t.options.iconDesktop||c&&t.options.iconTouch?("string"==typeof t.options.icon?(t.$elProxy=e('<span class="'+t.options.iconTheme+'"></span>'),t.$elProxy.text(t.options.icon)):t.options.iconCloning?t.$elProxy=t.options.icon.clone(!0):t.$elProxy=t.options.icon,t.$elProxy.insertAfter(t.$el)):t.$elProxy=t.$el,"hover"==t.options.trigger?(t.$elProxy.on("mouseenter."+t.namespace,function(){o()&&!t.options.touchDevices||(t.mouseIsOverProxy=!0,t.showTooltip())}).on("mouseleave."+t.namespace,function(){o()&&!t.options.touchDevices||(t.mouseIsOverProxy=!1)}),c&&t.options.touchDevices&&t.$elProxy.on("touchstart."+t.namespace,function(){t.showTooltipNow()})):"click"==t.options.trigger&&t.$elProxy.on("click."+t.namespace,function(){o()&&!t.options.touchDevices||t.showTooltip()})}},showTooltip:function(){var e=this;"shown"!=e.status&&"appearing"!=e.status&&(e.options.delay?e.timerShow=setTimeout(function(){("click"==e.options.trigger||"hover"==e.options.trigger&&e.mouseIsOverProxy)&&e.showTooltipNow()},e.options.delay):e.showTooltipNow())},showTooltipNow:function(a){var i=this;i.options.functionBefore.call(i.$el,i.$el,function(){if(i.enabled&&null!==i.content){a&&i.callbacks.show.push(a),i.callbacks.hide=[],clearTimeout(i.timerShow),i.timerShow=null,clearTimeout(i.timerHide),i.timerHide=null,i.options.onlyOne&&e(".tooltipstered").not(i.$el).each(function(t,a){var i=e(a),n=i[s]("status"),o=i[s]("option","autoClose");"hidden"!==n&&"disappearing"!==n&&o&&i[s]("hide")});var n=function(){i.status="shown",e.each(i.callbacks.show,function(e,t){t.call(i.$el)}),i.callbacks.show=[]};if("hidden"!==i.status){var o=0;"disappearing"===i.status?(i.status="appearing",r()?(i.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+i.options.animation+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(n)):i.$tooltip.stop().fadeIn(n)):"shown"===i.status&&n()}else{i.status="appearing";o=i.options.speed;i.bodyOverflowX=e("body").css("overflow-x"),e("body").css("overflow-x","hidden");var l="tooltipster-"+i.options.animation,u="-webkit-transition-duration: "+i.options.speed+"ms; -webkit-animation-duration: "+i.options.speed+"ms; -moz-transition-duration: "+i.options.speed+"ms; -moz-animation-duration: "+i.options.speed+"ms; -o-transition-duration: "+i.options.speed+"ms; -o-animation-duration: "+i.options.speed+"ms; -ms-transition-duration: "+i.options.speed+"ms; -ms-animation-duration: "+i.options.speed+"ms; transition-duration: "+i.options.speed+"ms; animation-duration: "+i.options.speed+"ms;",d=i.options.fixedWidth>0?"width:"+Math.round(i.options.fixedWidth)+"px;":"",p=i.options.maxWidth>0?"max-width:"+Math.round(i.options.maxWidth)+"px;":"",g=i.options.interactive?"pointer-events: auto;":"";if(i.$tooltip=e('<div class="tooltipster-base '+i.options.theme+'" style="'+d+" "+p+" "+g+" "+u+'"><div class="tooltipster-content"></div></div>'),r()&&i.$tooltip.addClass(l),i.insertContent(),i.$tooltip.appendTo("body"),i.positionTooltip(),i.options.functionReady.call(i.$el,i.$el,i.$tooltip),r()?(i.$tooltip.addClass(l+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(n)):i.$tooltip.css("display","none").fadeIn(i.options.speed,n),i.setCheckInterval(),e(t).on("scroll."+i.namespace+" resize."+i.namespace,function(){i.positionTooltip()}),i.options.autoClose)if(e("body").off("."+i.namespace),"hover"==i.options.trigger)if(c&&setTimeout(function(){e("body").on("touchstart."+i.namespace,function(){i.hideTooltip()})},0),i.options.interactive){c&&i.$tooltip.on("touchstart."+i.namespace,function(e){e.stopPropagation()});var h=null;i.$elProxy.add(i.$tooltip).on("mouseleave."+i.namespace+"-autoClose",function(){clearTimeout(h),h=setTimeout(function(){i.hideTooltip()},i.options.interactiveTolerance)}).on("mouseenter."+i.namespace+"-autoClose",function(){clearTimeout(h)})}else i.$elProxy.on("mouseleave."+i.namespace+"-autoClose",function(){i.hideTooltip()});else"click"==i.options.trigger&&(setTimeout(function(){e("body").on("click."+i.namespace+" touchstart."+i.namespace,function(){i.hideTooltip()})},0),i.options.interactive&&i.$tooltip.on("click."+i.namespace+" touchstart."+i.namespace,function(e){e.stopPropagation()}))}i.options.timer>0&&(i.timerHide=setTimeout(function(){i.timerHide=null,i.hideTooltip()},i.options.timer+o))}})},setCheckInterval:function(){var t=this;t.checkInterval=setInterval(function(){if(0===e("body").find(t.$el).length||0===e("body").find(t.$elProxy).length||"hidden"==t.status||0===e("body").find(t.$tooltip).length)"shown"!=t.status&&"appearing"!=t.status||t.hideTooltip(),t.cancelCheckInterval();else if(t.options.positionTracker){var a=t.positionInfo(t.$elProxy),i=!1;n(a.dimension,t.elProxyPosition.dimension)&&("fixed"===t.$elProxy.css("position")?n(a.position,t.elProxyPosition.position)&&(i=!0):n(a.offset,t.elProxyPosition.offset)&&(i=!0)),i||t.positionTooltip()}},200)},cancelCheckInterval:function(){clearInterval(this.checkInterval),this.checkInterval=null},hideTooltip:function(a){var i=this;a&&i.callbacks.hide.push(a),i.callbacks.show=[],clearTimeout(i.timerShow),i.timerShow=null,clearTimeout(i.timerHide),i.timerHide=null;var n=function(){e.each(i.callbacks.hide,function(e,t){t.call(i.$el)}),i.callbacks.hide=[]};if("shown"==i.status||"appearing"==i.status){i.status="disappearing";var o=function(){i.status="hidden","object"==typeof i.content&&null!==i.content&&i.content.detach(),i.$tooltip.remove(),i.$tooltip=null,e(t).off("."+i.namespace),e("body").off("."+i.namespace).css("overflow-x",i.bodyOverflowX),e("body").off("."+i.namespace),i.$elProxy.off("."+i.namespace+"-autoClose"),i.options.functionAfter.call(i.$el,i.$el),n()};r()?(i.$tooltip.clearQueue().removeClass("tooltipster-"+i.options.animation+"-show").addClass("tooltipster-dying"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(o)):i.$tooltip.stop().fadeOut(i.options.speed,o)}else"hidden"==i.status&&n()},setContent:function(e){"object"==typeof e&&null!==e&&this.options.contentCloning&&(e=e.clone(!0)),this.content=e},insertContent:function(){var e=this,t=this.$tooltip.find(".tooltipster-content");"string"!=typeof e.content||e.options.contentAsHTML?t.empty().append(e.content):t.text(e.content)},updateTooltip:function(e){var t=this;t.setContent(e),null!==t.content?"hidden"!==t.status&&(t.insertContent(),t.positionTooltip(),t.options.updateAnimation&&(r()?(t.$tooltip.css({width:"","-webkit-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=t.status&&(t.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==t.status&&t.$tooltip.css({"-webkit-transition":t.options.speed+"ms","-moz-transition":t.options.speed+"ms","-o-transition":t.options.speed+"ms","-ms-transition":t.options.speed+"ms",transition:t.options.speed+"ms"})},t.options.speed))},t.options.speed)):t.$tooltip.fadeTo(t.options.speed,.5,function(){"hidden"!=t.status&&t.$tooltip.fadeTo(t.options.speed,1)}))):t.hideTooltip()},positionInfo:function(e){return{dimension:{height:e.outerHeight(!1),width:e.outerWidth(!1)},offset:e.offset(),position:{left:parseInt(e.css("left")),top:parseInt(e.css("top"))}}},positionTooltip:function(){var a=this;if(0!==e("body").find(a.$tooltip).length){a.$tooltip.css("width",""),a.elProxyPosition=a.positionInfo(a.$elProxy);var i=null,n=e(t).width(),o=a.elProxyPosition,r=a.$tooltip.outerWidth(!1),s=a.$tooltip.innerWidth()+1,l=a.$tooltip.outerHeight(!1);if(a.$elProxy.is("area")){var c=a.$elProxy.attr("shape"),u=a.$elProxy.parent().attr("name"),d=e('img[usemap="#'+u+'"]'),p=d.offset().left,g=d.offset().top,h=void 0!==a.$elProxy.attr("coords")?a.$elProxy.attr("coords").split(","):void 0;if("circle"==c){var m=parseInt(h[0]),y=parseInt(h[1]),v=parseInt(h[2]);o.dimension.height=2*v,o.dimension.width=2*v,o.offset.top=g+y-v,o.offset.left=p+m-v}else if("rect"==c){m=parseInt(h[0]),y=parseInt(h[1]);var f=parseInt(h[2]),w=parseInt(h[3]);o.dimension.height=w-y,o.dimension.width=f-m,o.offset.top=g+y,o.offset.left=p+m}else if("poly"==c){for(var j=0,Q=0,b=0,k=0,_="even",S=0;S<h.length;S++){var E=parseInt(h[S]);"even"==_?(E>b&&(b=E,0===S&&(j=b)),E<j&&(j=E),_="odd"):(E>k&&(k=E,1==S&&(Q=k)),E<Q&&(Q=E),_="even")}o.dimension.height=k-Q,o.dimension.width=b-j,o.offset.top=g+Q,o.offset.left=p+j}else o.dimension.height=d.outerHeight(!1),o.dimension.width=d.outerWidth(!1),o.offset.top=g,o.offset.left=p}0===a.options.fixedWidth&&a.$tooltip.css({width:Math.round(s)+"px","padding-left":"0px","padding-right":"0px"});var x=0,G=0,C=0,P=parseInt(a.options.offsetY),A=parseInt(a.options.offsetX),O=a.options.position;function T(){var a=e(t).scrollLeft();x-a<0&&(i=x-a,x=a),x+r-a>n&&(i=x-(n+a-r),x=n+a-r)}function I(a,i){o.offset.top-e(t).scrollTop()-l-P-12<0&&i.indexOf("top")>-1&&(O=a),o.offset.top+o.dimension.height+l+12+P>e(t).scrollTop()+e(t).height()&&i.indexOf("bottom")>-1&&(O=a,C=o.offset.top-l-P-12)}if("top"==O){var L=o.offset.left+r-(o.offset.left+o.dimension.width);x=o.offset.left+A-L/2,C=o.offset.top-l-P-12,T(),I("bottom","top")}if("top-left"==O&&(x=o.offset.left+A,C=o.offset.top-l-P-12,T(),I("bottom-left","top-left")),"top-right"==O&&(x=o.offset.left+o.dimension.width+A-r,C=o.offset.top-l-P-12,T(),I("bottom-right","top-right")),"bottom"==O){L=o.offset.left+r-(o.offset.left+o.dimension.width);x=o.offset.left-L/2+A,C=o.offset.top+o.dimension.height+P+12,T(),I("top","bottom")}if("bottom-left"==O&&(x=o.offset.left+A,C=o.offset.top+o.dimension.height+P+12,T(),I("top-left","bottom-left")),"bottom-right"==O&&(x=o.offset.left+o.dimension.width+A-r,C=o.offset.top+o.dimension.height+P+12,T(),I("top-right","bottom-right")),"left"==O){x=o.offset.left-A-r-12,G=o.offset.left+A+o.dimension.width+12;var Y=o.offset.top+l-(o.offset.top+o.dimension.height);if(C=o.offset.top-Y/2-P,x<0&&G+r>n){var X=2*parseFloat(a.$tooltip.css("border-width")),B=r+x-X;a.$tooltip.css("width",B+"px"),l=a.$tooltip.outerHeight(!1),x=o.offset.left-A-B-12-X,Y=o.offset.top+l-(o.offset.top+o.dimension.height),C=o.offset.top-Y/2-P}else x<0&&(x=o.offset.left+A+o.dimension.width+12,i="left")}if("right"==O){x=o.offset.left+A+o.dimension.width+12,G=o.offset.left-A-r-12;Y=o.offset.top+l-(o.offset.top+o.dimension.height);if(C=o.offset.top-Y/2-P,x+r>n&&G<0){X=2*parseFloat(a.$tooltip.css("border-width")),B=n-x-X;a.$tooltip.css("width",B+"px"),l=a.$tooltip.outerHeight(!1),Y=o.offset.top+l-(o.offset.top+o.dimension.height),C=o.offset.top-Y/2-P}else x+r>n&&(x=o.offset.left-A-r-12,i="right")}if(a.options.arrow){var z="tooltipster-arrow-"+O;if(a.options.arrowColor.length<1)var R=a.$tooltip.css("background-color");else R=a.options.arrowColor;if(i?"left"==i?(z="tooltipster-arrow-right",i=""):"right"==i?(z="tooltipster-arrow-left",i=""):i="left:"+Math.round(i)+"px;":i="","top"==O||"top-left"==O||"top-right"==O)var M=parseFloat(a.$tooltip.css("border-bottom-width")),N=a.$tooltip.css("border-bottom-color");else if("bottom"==O||"bottom-left"==O||"bottom-right"==O)M=parseFloat(a.$tooltip.css("border-top-width")),N=a.$tooltip.css("border-top-color");else if("left"==O)M=parseFloat(a.$tooltip.css("border-right-width")),N=a.$tooltip.css("border-right-color");else if("right"==O)M=parseFloat(a.$tooltip.css("border-left-width")),N=a.$tooltip.css("border-left-color");else M=parseFloat(a.$tooltip.css("border-bottom-width")),N=a.$tooltip.css("border-bottom-color");M>1&&M++;var D="";if(0!==M){var W="",F="border-color: "+N+";";-1!==z.indexOf("bottom")?W="margin-top: -"+Math.round(M)+"px;":-1!==z.indexOf("top")?W="margin-bottom: -"+Math.round(M)+"px;":-1!==z.indexOf("left")?W="margin-right: -"+Math.round(M)+"px;":-1!==z.indexOf("right")&&(W="margin-left: -"+Math.round(M)+"px;"),D='<span class="tooltipster-arrow-border" style="'+W+" "+F+';"></span>'}a.$tooltip.find(".tooltipster-arrow").remove();var $='<div class="'+z+' tooltipster-arrow" style="'+i+'">'+D+'<span style="border-color:'+R+';"></span></div>';a.$tooltip.append($)}a.$tooltip.css({top:Math.round(C)+"px",left:Math.round(x)+"px"})}}},e.fn[s]=function(){var t=arguments;if(0===this.length){if("string"==typeof t[0]){var a=!0;switch(t[0]){case"setDefaults":e.extend(l,t[1]);break;default:a=!1}return!!a||this}return this}if("string"==typeof t[0]){var n="#*$~&";return this.each(function(){var a=e(this).data("tooltipster");if(!a)throw new Error("You called Tooltipster's \""+t[0]+'" method on an uninitialized element');switch(t[0]){case"content":case"update":if(void 0===t[1])return n=a.content,!1;a.updateTooltip(t[1]);break;case"destroy":a.hideTooltip(),a.$el[0]!==a.$elProxy[0]&&a.$elProxy.remove();var i="string"==typeof a.content?a.content:e("<div></div>").append(a.content).html();a.$el.removeClass("tooltipstered").attr("title",i).removeData("tooltipster").off("."+a.namespace);break;case"disable":a.hideTooltip(),a.enabled=!1;break;case"elementIcon":return n=a.$el[0]!==a.$elProxy[0]?a.$elProxy[0]:void 0,!1;case"elementTooltip":return n=a.$tooltip?a.$tooltip[0]:void 0,!1;case"enable":a.enabled=!0;break;case"hide":a.hideTooltip(t[1]);break;case"option":return n=a.options[t[1]],!1;case"reposition":a.positionTooltip();break;case"show":a.showTooltipNow(t[1]);break;case"status":return n=a.status,!1;default:throw new Error('Unknown method .tooltipster("'+t[0]+'")')}}),"#*$~&"!==n?n:this}return this.each(function(){e(this).data("tooltipster")||e(this).data("tooltipster",new i(this,t[0]))})};var c=!!("ontouchstart"in t),u=!1;e("body").one("mousemove",function(){u=!0})}(jQuery,window,document),jQuery.fn.ESGScroll||(jQuery.fn.ESGScroll=function(e,t){if(!e||"string"!=typeof e)return this.each(function(t){var a=jQuery(this);a.data("revsliderps")||a.data("revsliderps",new ESGPerfectScrollbar(this,e||{}))});switch(e){case"update":return this.each(function(){var e=jQuery(this).data("revsliderps");e&&e.update()});case"scrollTop":return this.each(function(){this.scrollTop=t});case"destroy":return this.each(function(){var e=jQuery(this),t=e.data("revsliderps");t&&(t.destroy(),e.removeData("revsliderps"))})}})
/*!
 * perfect-scrollbar v1.4.0
 * (c) 2018 Hyunje Jun
 * @license MIT
 * 
*/,function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ESGPerfectScrollbar=t()}(this,function(){"use strict";function e(e){return getComputedStyle(e)}function t(e,t){for(var a in t){var i=t[a];"number"==typeof i&&(i+="px"),e.style[a]=i}return e}function a(e){var t=document.createElement("div");return t.className=e,t}function i(e,t){if(!m)throw new Error("No element matching method supported");return m.call(e,t)}function n(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function o(e,t){return Array.prototype.filter.call(e.children,function(e){return i(e,t)})}function r(e,t){var a=e.element.classList,i=y.state.scrolling(t);a.contains(i)?clearTimeout(v[t]):a.add(i)}function s(e,t){v[t]=setTimeout(function(){return e.isAlive&&e.element.classList.remove(y.state.scrolling(t))},e.settings.scrollingThreshold)}function l(e,t){r(e,t),s(e,t)}function c(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function u(e){return parseInt(e,10)||0}function d(e){return i(e,"input,[contenteditable]")||i(e,"select,[contenteditable]")||i(e,"textarea,[contenteditable]")||i(e,"button,[contenteditable]")}function p(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function g(e,a){var i={width:a.railXWidth},n=Math.floor(e.scrollTop);a.isRtl?i.left=a.negativeScrollAdjustment+e.scrollLeft+a.containerWidth-a.contentWidth:i.left=e.scrollLeft,a.isScrollbarXUsingBottom?i.bottom=a.scrollbarXBottom-n:i.top=a.scrollbarXTop+n,t(a.scrollbarXRail,i);var o={top:n,height:a.railYHeight};a.isScrollbarYUsingRight?a.isRtl?o.right=a.contentWidth-(a.negativeScrollAdjustment+e.scrollLeft)-a.scrollbarYRight-a.scrollbarYOuterWidth:o.right=a.scrollbarYRight-e.scrollLeft:a.isRtl?o.left=a.negativeScrollAdjustment+e.scrollLeft+2*a.containerWidth-a.contentWidth-a.scrollbarYLeft-a.scrollbarYOuterWidth:o.left=a.scrollbarYLeft+e.scrollLeft,t(a.scrollbarYRail,o),t(a.scrollbarX,{left:a.scrollbarXLeft,width:a.scrollbarXWidth-a.railBorderXWidth}),t(a.scrollbarY,{top:a.scrollbarYTop,height:a.scrollbarYHeight-a.railBorderYWidth})}function h(e,t){function a(t){m[p]=v+w*(t[l]-f),r(e,g),k(e),t.stopPropagation(),t.preventDefault()}function i(){s(e,g),e[h].classList.remove(y.state.clicking),e.event.unbind(e.ownerDocument,"mousemove",a)}var n=t[0],o=t[1],l=t[2],c=t[3],u=t[4],d=t[5],p=t[6],g=t[7],h=t[8],m=e.element,v=null,f=null,w=null;e.event.bind(e[u],"mousedown",function(t){v=m[p],f=t[l],w=(e[o]-e[n])/(e[c]-e[d]),e.event.bind(e.ownerDocument,"mousemove",a),e.event.once(e.ownerDocument,"mouseup",i),e[h].classList.add(y.state.clicking),t.stopPropagation(),t.preventDefault()})}var m="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),y={main:"ps",element:{thumb:function(e){return"rs__scrollbar-"+e},rail:function(e){return"rs__scrollbar-"+e+"-rail"},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},v={x:null,y:null},f=function(e){this.element=e,this.handlers={}},w={isEmpty:{configurable:!0}};f.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},f.prototype.unbind=function(e,t){var a=this;this.handlers[e]=this.handlers[e].filter(function(i){return!(!t||i===t)||(a.element.removeEventListener(e,i,!1),!1)})},f.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},w.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every(function(t){return 0===e.handlers[t].length})},Object.defineProperties(f.prototype,w);var j=function(){this.eventElements=[]};j.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return t||(t=new f(e),this.eventElements.push(t)),t},j.prototype.bind=function(e,t,a){this.eventElement(e).bind(t,a)},j.prototype.unbind=function(e,t,a){var i=this.eventElement(e);i.unbind(t,a),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)},j.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]},j.prototype.once=function(e,t,a){var i=this.eventElement(e),n=function(e){i.unbind(t,n),a(e)};i.bind(t,n)};var Q=function(e,t,a,i,n){var o;if(void 0===i&&(i=!0),void 0===n&&(n=!1),"top"===t)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,a,i,n){var o=a[0],r=a[1],s=a[2],u=a[3],d=a[4],p=a[5];void 0===i&&(i=!0),void 0===n&&(n=!1);var g=e.element;e.reach[u]=null,g[s]<1&&(e.reach[u]="start"),g[s]>e[o]-e[r]-1&&(e.reach[u]="end"),t&&(g.dispatchEvent(c("ps-scroll-"+u)),t<0?g.dispatchEvent(c("ps-scroll-"+d)):t>0&&g.dispatchEvent(c("ps-scroll-"+p)),i&&l(e,u)),e.reach[u]&&(t||n)&&g.dispatchEvent(c("ps-"+u+"-reach-"+e.reach[u]))}(e,a,o,i,n)},b={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},k=function(e){var t=e.element,a=Math.floor(t.scrollTop);e.containerWidth=t.clientWidth,e.containerHeight=t.clientHeight,e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(o(t,y.element.rail("x")).forEach(function(e){return n(e)}),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(o(t,y.element.rail("y")).forEach(function(e){return n(e)}),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=p(e,u(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=u((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=p(e,u(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=u(a*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),g(t,e),e.scrollbarXActive?t.classList.add(y.state.active("x")):(t.classList.remove(y.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=0),e.scrollbarYActive?t.classList.add(y.state.active("y")):(t.classList.remove(y.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)},_={"click-rail":function(e){e.event.bind(e.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),e.event.bind(e.scrollbarYRail,"mousedown",function(t){var a=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=a*e.containerHeight,k(e),t.stopPropagation()}),e.event.bind(e.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),e.event.bind(e.scrollbarXRail,"mousedown",function(t){var a=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=a*e.containerWidth,k(e),t.stopPropagation()})},"drag-thumb":function(e){h(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),h(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element,a=function(){return i(t,":hover")},n=function(){return i(e.scrollbarX,":focus")||i(e.scrollbarY,":focus")};e.event.bind(e.ownerDocument,"keydown",function(i){if(!(i.isDefaultPrevented&&i.isDefaultPrevented()||i.defaultPrevented)&&(a()||n())){var o=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(o){if("IFRAME"===o.tagName)o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(d(o))return}var r=0,s=0;switch(i.which){case 37:r=i.metaKey?-e.contentWidth:i.altKey?-e.containerWidth:-30;break;case 38:s=i.metaKey?e.contentHeight:i.altKey?e.containerHeight:30;break;case 39:r=i.metaKey?e.contentWidth:i.altKey?e.containerWidth:30;break;case 40:s=i.metaKey?-e.contentHeight:i.altKey?-e.containerHeight:-30;break;case 32:s=i.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:s=e.containerHeight;break;case 34:s=-e.containerHeight;break;case 36:s=e.contentHeight;break;case 35:s=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==r||e.settings.suppressScrollY&&0!==s||(t.scrollTop-=s,t.scrollLeft+=r,k(e),function(a,i){var n=Math.floor(t.scrollTop);if(0===a){if(!e.scrollbarYActive)return!1;if(0===n&&i>0||n>=e.contentHeight-e.containerHeight&&i<0)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===i){if(!e.scrollbarXActive)return!1;if(0===o&&a<0||o>=e.contentWidth-e.containerWidth&&a>0)return!e.settings.wheelPropagation}return!0}(r,s)&&i.preventDefault())}})},wheel:function(t){function a(t,a,i){if(!b.isWebKit&&n.querySelector("select:focus"))return!0;if(!n.contains(t))return!1;for(var o=t;o&&o!==n;){if(o.classList.contains(y.element.consuming))return!0;var r=e(o);if([r.overflow,r.overflowX,r.overflowY].join("").match(/(scroll|auto)/)){var s=o.scrollHeight-o.clientHeight;if(s>0&&!(0===o.scrollTop&&i>0||o.scrollTop===s&&i<0))return!0;var l=o.scrollWidth-o.clientWidth;if(l>0&&!(0===o.scrollLeft&&a<0||o.scrollLeft===l&&a>0))return!0}o=o.parentNode}return!1}function i(e){var i=function(e){var t=e.deltaX,a=-1*e.deltaY;return void 0!==t&&void 0!==a||(t=-1*e.wheelDeltaX/6,a=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,a*=10),t!=t&&a!=a&&(t=0,a=e.wheelDelta),e.shiftKey?[-a,-t]:[t,a]}(e),o=i[0],r=i[1];if(!a(e.target,o,r)){var s=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(r?n.scrollTop-=r*t.settings.wheelSpeed:n.scrollTop+=o*t.settings.wheelSpeed,s=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(o?n.scrollLeft+=o*t.settings.wheelSpeed:n.scrollLeft-=r*t.settings.wheelSpeed,s=!0):(n.scrollTop-=r*t.settings.wheelSpeed,n.scrollLeft+=o*t.settings.wheelSpeed),k(t),(s=s||function(e,a){var i=Math.floor(n.scrollTop),o=0===n.scrollTop,r=i+n.offsetHeight===n.scrollHeight,s=0===n.scrollLeft,l=n.scrollLeft+n.offsetWidth===n.scrollWidth;return!(Math.abs(a)>Math.abs(e)?o||r:s||l)||!t.settings.wheelPropagation}(o,r))&&!e.ctrlKey&&(e.stopPropagation(),e.preventDefault())}}var n=t.element;void 0!==window.onwheel?t.event.bind(n,"wheel",i):void 0!==window.onmousewheel&&t.event.bind(n,"mousewheel",i)},touch:function(t){function a(e,a){var i=Math.floor(u.scrollTop),n=u.scrollLeft,o=Math.abs(e),r=Math.abs(a);if(r>o){if(a<0&&i===t.contentHeight-t.containerHeight||a>0&&0===i)return 0===window.scrollY&&a>0&&b.isChrome}else if(o>r&&(e<0&&n===t.contentWidth-t.containerWidth||e>0&&0===n))return!0;return!0}function i(e,a){u.scrollTop-=a,u.scrollLeft-=e,k(t)}function n(e){return e.targetTouches?e.targetTouches[0]:e}function o(e){return!(e.pointerType&&"pen"===e.pointerType&&0===e.buttons||(!e.targetTouches||1!==e.targetTouches.length)&&(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function r(e){if(o(e)){var t=n(e);d.pageX=t.pageX,d.pageY=t.pageY,p=(new Date).getTime(),null!==h&&clearInterval(h)}}function s(t,a,i){if(!u.contains(t))return!1;for(var n=t;n&&n!==u;){if(n.classList.contains(y.element.consuming))return!0;var o=e(n);if([o.overflow,o.overflowX,o.overflowY].join("").match(/(scroll|auto)/)){var r=n.scrollHeight-n.clientHeight;if(r>0&&!(0===n.scrollTop&&i>0||n.scrollTop===r&&i<0))return!0;var s=n.scrollLeft-n.clientWidth;if(s>0&&!(0===n.scrollLeft&&a<0||n.scrollLeft===s&&a>0))return!0}n=n.parentNode}return!1}function l(e){if(o(e)){var t=n(e),r={pageX:t.pageX,pageY:t.pageY},l=r.pageX-d.pageX,c=r.pageY-d.pageY;if(s(e.target,l,c))return;i(l,c),d=r;var u=(new Date).getTime(),h=u-p;h>0&&(g.x=l/h,g.y=c/h,p=u),a(l,c)&&e.preventDefault()}}function c(){t.settings.swipeEasing&&(clearInterval(h),h=setInterval(function(){t.isInitialized?clearInterval(h):g.x||g.y?Math.abs(g.x)<.01&&Math.abs(g.y)<.01?clearInterval(h):(i(30*g.x,30*g.y),g.x*=.8,g.y*=.8):clearInterval(h)},10))}if(b.supportsTouch||b.supportsIePointer){var u=t.element,d={},p=0,g={},h=null;b.supportsTouch?(t.event.bind(u,"touchstart",r),t.event.bind(u,"touchmove",l),t.event.bind(u,"touchend",c)):b.supportsIePointer&&(window.PointerEvent?(t.event.bind(u,"pointerdown",r),t.event.bind(u,"pointermove",l),t.event.bind(u,"pointerup",c)):window.MSPointerEvent&&(t.event.bind(u,"MSPointerDown",r),t.event.bind(u,"MSPointerMove",l),t.event.bind(u,"MSPointerUp",c)))}}},S=function(i,n){var o=this;if(void 0===n&&(n={}),"string"==typeof i&&(i=document.querySelector(i)),!i||!i.nodeName)throw new Error("no element is specified to initialize ESGPerfectScrollbar");for(var r in this.element=i,i.classList.add(y.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},n)o.settings[r]=n[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s=function(){return i.classList.add(y.state.focus)},l=function(){return i.classList.remove(y.state.focus)};this.isRtl="rtl"===e(i).direction,this.isNegativeScroll=function(){var e,t=i.scrollLeft;return i.scrollLeft=-1,e=i.scrollLeft<0,i.scrollLeft=t,e}(),this.negativeScrollAdjustment=this.isNegativeScroll?i.scrollWidth-i.clientWidth:0,this.event=new j,this.ownerDocument=i.ownerDocument||document,this.scrollbarXRail=a(y.element.rail("x")),i.appendChild(this.scrollbarXRail),this.scrollbarX=a(y.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",l),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var c=e(this.scrollbarXRail);this.scrollbarXBottom=parseInt(c.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=u(c.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=u(c.borderLeftWidth)+u(c.borderRightWidth),t(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=u(c.marginLeft)+u(c.marginRight),t(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=a(y.element.rail("y")),i.appendChild(this.scrollbarYRail),this.scrollbarY=a(y.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",l),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var d=e(this.scrollbarYRail);this.scrollbarYRight=parseInt(d.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=u(d.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var a=e(t);return u(a.width)+u(a.paddingLeft)+u(a.paddingRight)+u(a.borderLeftWidth)+u(a.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=u(d.borderTopWidth)+u(d.borderBottomWidth),t(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=u(d.marginTop)+u(d.marginBottom),t(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:i.scrollLeft<=0?"start":i.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:i.scrollTop<=0?"start":i.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(e){return _[e](o)}),this.lastScrollTop=Math.floor(i.scrollTop),this.lastScrollLeft=i.scrollLeft,this.event.bind(this.element,"scroll",function(e){return o.onScroll(e)}),k(this)};return S.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,t(this.scrollbarXRail,{display:"block"}),t(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=u(e(this.scrollbarXRail).marginLeft)+u(e(this.scrollbarXRail).marginRight),this.railYMarginHeight=u(e(this.scrollbarYRail).marginTop)+u(e(this.scrollbarYRail).marginBottom),t(this.scrollbarXRail,{display:"none"}),t(this.scrollbarYRail,{display:"none"}),k(this),Q(this,"top",0,!1,!0),Q(this,"left",0,!1,!0),t(this.scrollbarXRail,{display:""}),t(this.scrollbarYRail,{display:""}))},S.prototype.onScroll=function(e){this.isAlive&&(k(this),Q(this,"top",this.element.scrollTop-this.lastScrollTop),Q(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},S.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),n(this.scrollbarX),n(this.scrollbarY),n(this.scrollbarXRail),n(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},S.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")},S}),window.ESG=void 0===window.ESG?{}:window.ESG,ESG.F=void 0===ESG.F?{}:ESG.F,ESG.ENV=void 0===ESG.ENV?{}:ESG.ENV,ESG.V=void 0===ESG.V?{}:ESG.V,ESG.S=void 0===ESG.S?{}:ESG.S,ESG.SC=void 0===ESG.SC?{}:ESG.SC,ESG.C=void 0===ESG.C?{}:ESG.C,ESG.LIB=void 0===ESG.LIB?{nav_skins:[],item_skins:{},nav_originals:{}}:ESG.LIB,ESG.CM=void 0===ESG.CM?{apiJS:null,ajaxCSS:null,navCSS:null}:ESG.CM,ESG.WIN=void 0===ESG.WIN?jQuery(window):ESG.WIN,ESG.DOC=void 0===ESG.DOC?jQuery(document):ESG.DOC,ESG.F.trim=void 0===ESG.F.trim?function(e){return null!=e&&"string"==typeof e?e.trim():e}:ESG.F.trim,ESG.LIB.buttonExamples='<div class="esg-filter-wrapper eg-show-amount"><div class="esg-filterbutton"><span>Filter Button</span><span class="esg-filter-checked"><i class="eg-icon-ok-1"></i></span><span class="eg-el-amount">7</span></div><div class="esg-filterbutton"><span>Filter Button</span><span class="eg-el-amount">4</span></div><div class="esg-filterbutton"><span>Filter Button</span><span class="esg-filter-checked"><i class="eg-icon-ok-1"></i></span><div class="eg-clearfix"></div></div><div class="esg-filter-wrapper eg-search-wrapper" style="margin-right:5px;""><input name="" readonly class="eg-search-input" type="text" value="" placeholder="Search..."><span class="eg-search-submit"><i class="eg-icon-search"></i></span><span class="eg-search-clean"><i class="eg-icon-cancel"></i></span></div><div class="esg-pagination" style="display: inline-block; visibility: visible;margin-right:5px"><div class="esg-navigationbutton esg-filterbutton esg-pagination-button" style="display: inline-block; visibility: visible;">1</div><div class="esg-navigationbutton esg-filterbutton esg-pagination-button" data-page="1" style="display: inline-block; visibility: visible;">2</div><div class="esg-navigationbutton esg-filterbutton esg-pagination-button" data-page="2" style="display: inline-block; visibility: visible;">3</div></div><div class="esg-sortbutton-wrapper" style="margin-right:5px"><div class="esg-sortbutton"><span>Sort By </span><span class="sortby_data">None</span><select class="esg-sorting-select"><option value="date">Date</option></select></div><div class="esg-sortbutton-order eg-icon-down-open tp-asc"></div></div><div class="esg-cartbutton-wrapper" style="margin-right:5px"><div class="esg-cartbutton"><a><i class="eg-icon-basket"></i><span class="ess-cart-content">0 items - <span class="woocommerce-Price-amount amount"><span class="woocommerce-Price-amount amount"><span class="woocommerce-Price-currencySymbol">$</span>0.00</span></span></span></a></div></div><div class="esg-filter-wrapper dropdownstyle" style="z-index: 1570; visibility: visible;"><div class="esg-selected-filterbutton esg-mobile-filter-button"><span>Filters</span><i class="eg-icon-down-open"></i></div><div class="esg-dropdown-wrapper" style="display: none;"><div class="esg-filterbutton selected esg-allfilter" data-filter="filterall" data-fid="-1"><span>Filter - All</span></div><div class="esg-filterbutton"><span class="esg-filter-checked"><i class="eg-icon-ok-1"></i></span><span>Filter Button</span></div><div class="esg-filterbutton"><span class="esg-filter-checked"><i class="eg-icon-ok-1"></i></span><span>Filter Button</span></div><div class="esg-filterbutton"><span class="esg-filter-checked"><i class="eg-icon-ok-1"></i></span><span>Filter Button</span></div><div class="esg-filterbutton"><span class="esg-filter-checked"><i class="eg-icon-ok-1"></i></span><span>Filter Button</span></div><div class="esg-filterbutton"><span class="esg-filter-checked"><i class="eg-icon-ok-1"></i></span><span>Filter Button</span></div></div><div class="eg-clearfix"></div></div>';var AdminEssentials=new function(){var e,t=this,a=[],i={},n=[],o={},r={},s={};t.setInitSkinsJson=function(e){void 0!==e&&e.length>0?ESG.LIB.item_skins=JSON.parse(e):ESG.LIB.item_skins={}},t.setInitElementsJson=function(e){o=void 0!==e&&e.length>0?JSON.parse(e):{}},t.setInitStylingJson=function(e){for(var t=(r=void 0!==e&&e.length>=0?JSON.parse(e):{}).length,a=0;a<t;a++)r[a].hasOwnProperty("name")&&r[a].name.hasOwnProperty("handle")&&"transition"===r[a].name.handle&&r[a].hasOwnProperty("values")&&(delete r[a].values.circlezoom,delete r[a].values.collapsehorizontal,delete r[a].values.collapsevertical,delete r[a].values.linediagonal,delete r[a].values.linevertical,delete r[a].values.linehorizontal,delete r[a].values.spiralzoom)},t.setInitCustomJson=function(e){s=void 0!==e&&e.length>0?JSON.parse(e):{}},t.setInitMetaKeysJson=function(e){n=void 0!==n&&n.length>0?JSON.parse(e):{}},t.initMetaBox=function(e){for(var a in"post"===e&&(jQuery("#eg-featured-grid").off(".esgmeta").on("change.esgmeta",function(){""!=jQuery(this).val()&&jQuery("#revslider_featured_slider_id").val(""),jQuery(".featured-slider-main-metas").hide(),jQuery(".featured-slider-slide").css("height","40px").css("background-color","transparent")}),jQuery("#revslider_featured_slider_id").off(".esgmeta").on("change.esgmeta",function(){jQuery("#eg-featured-grid").val("")})),jQuery("#eg-add-custom-meta-field-"+e).off(".esgmeta").on("click.esgmeta",function(){t.add_meta_element(e)}),jQuery("body").off(".esgmeta").on("click.esgmeta",".eg-remove-custom-meta-field",function(){jQuery(this).parent().remove()}),jQuery("body").on("change.esgmeta",".eg-custom-meta-skin",function(){var e=jQuery(this).val(),t=jQuery(this).parent().children(".eg-custom-meta-element"),a="";for(var i in ESG.LIB.item_skins[e].layers)a+='<option value="'+ESG.LIB.item_skins[e].layers[i]+'">eg-'+ESG.LIB.item_skins[e].handle+"-element-"+ESG.LIB.item_skins[e].layers[i]+"</option>";a+='<option value="layout">'+eg_lang.layout_settings+"</option>",t.html(a)}),jQuery("body").on("change.esgmeta",".eg-custom-meta-element",function(){var e="";if("layout"==jQuery(this).val())for(var t in r)"layout"==r[t].container&&(e+='<option value="'+r[t].name.handle+'">'+r[t].name.text+"</option>",void 0!==r[t].hover&&"true"==r[t].hover&&(e+='<option value="'+r[t].name.handle+'-hover">'+r[t].name.text+":hover</option>"));else for(var t in r)"style"!=r[t].container&&"anim"!=r[t].container||(e+='<option value="'+r[t].name.handle+'">'+r[t].name.text+"</option>",void 0!==r[t].hover&&"true"==r[t].hover&&(e+='<option value="'+r[t].name.handle+'-hover">'+r[t].name.text+":hover</option>"));jQuery(this).siblings(".eg-custom-meta-setting").html(e).change()}),jQuery("body").on("change.esgmeta",".eg-custom-meta-setting",function(){var e=jQuery(this),t=e.val();for(var a in t.indexOf("-hover")>=0&&(t=t.replace("-hover",""),!0),r)if(r[a].name.handle==t){var i=e.siblings(".eg-custom-meta-style");switch(i=i.length?i.data("eltype"):e.siblings().find(".eg-custom-meta-style").data("eltype"),r[a].type){case"color":o=(o=e.siblings(".eg-custom-meta-style")).length?o.val():e.siblings().find(".eg-custom-meta-style").val(),e.siblings(".eg-custom-meta-style, .wp-picker-container, .esgbuilder-colorpicker").remove();var n=' data-mode="'+r[a].cpmode+'"';e.parent().append('<input class="eg-custom-meta-style" data-eltype="color" type="text" name="eg-custom-meta-style[]" value="'+r[a].default+'"'+n+">"),"color"==i&&e.siblings(".eg-custom-meta-style").val(o),e.siblings(".eg-custom-meta-style").val(o).esgColorPicker({init:function(e,t,a,i){},onRefresh:function(e,t,a,i){e.val(t)},onEdit:function(e,t,a,i){e.val(t)},change:function(e,t,a,i,n){e.val(t)},cancel:function(e,t,a,i,n){e.val(t)}});break;case"select":var o=e.siblings(".eg-custom-meta-style option:selected").val();for(var s in e.siblings(".eg-custom-meta-style, .wp-picker-container, .esgbuilder-colorpicker").remove(),e.parent().append('<select class="eg-custom-meta-style" data-eltype="select" name="eg-custom-meta-style[]"></select>'),r[a].values)e.siblings(".eg-custom-meta-style").append('<option value="'+s+'">'+r[a].values[s]+"</option>");e.siblings('.eg-custom-meta-style option[value="'+r[a].default+'"]').prop("selected","selected"),"select"==i&&e.siblings('.eg-custom-meta-style option[value="'+o+'"]').prop("selected","selected");break;case"number":o=e.siblings(".eg-custom-meta-style").val();e.siblings(".eg-custom-meta-style, .wp-picker-container, .esgbuilder-colorpicker").remove(),e.parent().append('<input class="eg-custom-meta-style" type="number" data-eltype="number" name="eg-custom-meta-style[]" value="'+r[a].default+'">'),"number"==i&&e.siblings(".eg-custom-meta-style").val(o);break;case"text":default:o=e.siblings(".eg-custom-meta-style").val();e.siblings(".eg-custom-meta-style, .wp-picker-container, .esgbuilder-colorpicker").remove(),e.parent().append('<input class="eg-custom-meta-style" type="text" data-eltype="text" name="eg-custom-meta-style[]" value="'+r[a].default+'">'),"text"==i&&e.siblings(".eg-custom-meta-style").val(o)}break}}),o)t.add_meta_element(e,o[a]);"post"===e&&(jQuery("#eg-create-wp-gallery .ess-customgridwrap").off(".esgmeta").on("click.esgmeta",function(){jQuery("#insert-media-button").trigger("click"),jQuery(".media-menu").children().eq(1).trigger("click"),jQuery('.ui-dialog[aria-describedby="ess-grid-tiny-mce-dialog"] .ui-dialog-titlebar-close').trigger("click");var e=jQuery("body").one("click.esgmeta",".media-modal-backdrop, .media-modal-close",function(){e.removeClass("esg-wp-gallery")});jQuery("body").addClass("esg-wp-gallery")}),jQuery("#insert-media-button").off(".esgmeta").on("click.esgmeta",function(){jQuery("body").removeClass("esg-wp-gallery")}),jQuery("body").hasClass("post-type-attachment")&&jQuery("#eg-meta-box").remove())},t.updateMetaTypeDependencies=function(e){jQuery(e).closest(".esg-meta-rule").find(".eg-custommeta-textarea-wrap")["multi-select"===e.value||"select"===e.value?"show":"hide"]()},t.updateMetaObjects=function(){ESG.ENV.CustomMetas=[],ESG.ENV.LinkMetas=[],jQuery(".eg-custom-meta-wrap .esg-meta-rule").each(function(){ESG.ENV.CustomMetas.push({handle:this.getElementsByClassName("esg-meta-handle-input")[0].value,name:this.getElementsByClassName("esg-meta-name-input")[0].value,type:this.getElementsByClassName("esg-meta-type-select")[0].value,"sort-type":this.getElementsByClassName("esg-meta-sort-type-select")[0].value,select:this.getElementsByClassName("eg-custommeta-textarea")[0].value,default:this.getElementsByClassName("esg-meta-default-input")[0].value})}),jQuery(".eg-link-meta-wrap .esg-meta-rule").each(function(){ESG.ENV.LinkMetas.push({handle:this.getElementsByClassName("esg-link-meta-handle-input")[0].value,name:this.getElementsByClassName("esg-link-meta-name-input")[0].value,original:this.getElementsByClassName("esg-link-meta-original-input")[0].value,"sort-type":this.getElementsByClassName("esg-link-meta-sort-type-select")[0].value})})},t.initCustomMeta=function(){var e=wp.template("esg-custom-meta-wrap"),a=wp.template("esg-link-meta-wrap");if(jQuery("#eg-meta-add").on("click",function(){t.append_custommeta_setting({})}),jQuery("#eg-link-meta-add").on("click",function(){t.append_linkmeta_setting({})}),t.append_custommeta_setting=function(t){jQuery(".eg-custom-meta-wrap").append(e(t))},t.append_linkmeta_setting=function(e){jQuery(".eg-link-meta-wrap").append(a(e))},void 0!==ESG.ENV.CustomMetas)for(var i in ESG.ENV.CustomMetas)if(ESG.ENV.CustomMetas.hasOwnProperty(i)){var n={};for(var o in ESG.ENV.CustomMetas[i])ESG.ENV.CustomMetas[i].hasOwnProperty(o)&&(n[o]=ESG.ENV.CustomMetas[i][o]);t.append_custommeta_setting(n)}if(void 0!==ESG.ENV.LinkMetas)for(var i in ESG.ENV.LinkMetas)if(ESG.ENV.LinkMetas.hasOwnProperty(i)){n={};for(var o in ESG.ENV.LinkMetas[i])ESG.ENV.LinkMetas[i].hasOwnProperty(o)&&(n[o]=ESG.ENV.LinkMetas[i][o]);t.append_linkmeta_setting(n)}ESG.DOC.on("change",".esg-meta-handle-input",function(){var e=0,t=this.value;jQuery(".esg-meta-handle-input").each(function(){this.value===t&&e++}),(e>1||this.value.length<4)&&(this.value+="_"+Math.round(1e5*Math.random()+100))}),ESG.DOC.on("change",".esg-link-meta-handle-input",function(){var e=0,t=this.value;jQuery(".esg-link-meta-handle-input").each(function(){this.value===t&&e++}),(e>1||this.value.length<4)&&(this.value+="_"+Math.round(1e5*Math.random()+100))}),ESG.DOC.on("change",".esg-meta-type-select",function(){t.updateMetaTypeDependencies(this)}),jQuery(".esg-meta-type-select").each(function(){t.updateMetaTypeDependencies(this)}),ESG.DOC.on("click",".eg-meta-delete, .eg-link-meta-delete",function(){jQuery(this).closest(".custom-tbc-container").remove(),t.updateMetaObjects()}),jQuery("#eg-grid-custom-meta-wrapper").tabs()},t.add_meta_element=function(e,t){var a="";for(var i in ESG.LIB.item_skins)a+='<option value="'+i+'">'+ESG.LIB.item_skins[i].name+"</option>";if(e=jQuery("#eg-advanced-param-"+e).append('<div class="eg-custom-meta-setting-wrap-parent"><div class="eg-custom-meta-setting-wrap"><select class="eg-custom-meta-skin" name="eg-custom-meta-skin[]">'+a+'</select><div class="space18"></div><select class="eg-custom-meta-element" name="eg-custom-meta-element[]"></select><div class="div13"></div><select class="eg-custom-meta-setting" name="eg-custom-meta-setting[]"></select><div class="space18"></div></div><div class="div13"></div><div class="esg-btn esg-red eg-remove-custom-meta-field"><i class="material-icons">delete</i> Remove Rule</div></div>'),void 0!==typeof t&&void 0!==t){if("undefined"!=typeof eg_skin_color_values&&"undefined"!=typeof ESGColor&&"cover-bg-color"===t.setting){var n;for(var r in o)if(o.hasOwnProperty(r)&&"cover-bg-opacity"===o[r].setting){if(l=t.style){var s=o[r].style;isNaN(s)||(t.style=ESGColor.convert(l,s),n=!0)}break}if(!n&&eg_skin_color_values.hasOwnProperty(t.skin)){var l=eg_skin_color_values[t.skin],c=t.style;if(l&&c&&(l=ESGColor.process(l),-1!==(c=ESGColor.process(c))[1].search(/hex|rgb/)&&-1!==l[1].search(/hex|rgb/))){"hex"===l[1]&&(l[0]=ESGColor.processRgba(l[0]));var u=ESGColor.rgbValues(l[0],4);t.style=ESGColor.convert(t.style,u[3])}}}if(e.find(".eg-custom-meta-skin").last().find('option[value="'+t.skin+'"]').prop("selected","selected"),e.find(".eg-custom-meta-skin").last().change(),e.find(".eg-custom-meta-element").last().find('option[value="'+t.element+'"]').prop("selected","selected"),e.find(".eg-custom-meta-element").last().change(),e.find(".eg-custom-meta-setting").last().find('option[value="'+t.setting+'"]').prop("selected","selected"),e.find(".eg-custom-meta-setting").last().change(),0==e.find('.eg-custom-meta-skin option[value="'+t.skin+'"]').last().length||0==e.find('.eg-custom-meta-element option[value="'+t.element+'"]').last().length||0==e.find('.eg-custom-meta-setting option[value="'+t.setting+'"]').last().length)return e.find(".eg-custom-meta-setting-wrap-parent").last().remove(),!1;var d=e.find(".eg-custom-meta-style").last();switch(d.data("eltype")){case"color":"undefined"==typeof ESGColor?d.wpColorPicker("color",t.style):d.val(t.style).esgColorPicker("refresh");break;case"select":d.find('option[value="'+t.style+'"]').prop("selected","selected");break;case"number":case"text":default:d.val(t.style)}}else e.find(".eg-custom-meta-skin").last().change(),e.find(".eg-custom-meta-element").last().change(),e.find(".eg-custom-meta-setting").last().change()},t.initWidgetAreas=function(){jQuery("#eg-widget-area-add").on("click",function(){jQuery("#widget-areas-dialog-wrap").dialog({modal:!0,draggable:!0,resizable:!1,width:300,height:340,closeOnEscape:!0,dialogClass:"wp-dialog",buttons:[{text:eg_lang.add_widget_area,click:function(){var e={};if(e.handle=t.sanitize_input(jQuery('input[name="eg-widget-area-handle"]').val()),e.name=jQuery('input[name="eg-widget-area-name"]').val(),jQuery('input[name="eg-widget-area-handle"]').val(e.handle),e.handle.length<3||e.name.length<3)return alert(eg_lang.handle_and_name_at_least_3),!1;AdminEssentials.ajaxRequest("add_widget_area",e,".ui-button",function(e){})}}]})}),jQuery("body").on("click",".eg-widget-area-edit",function(){if(confirm(eg_lang.really_change_widget_area_name)){var e={},t=jQuery(this);e.handle=t.closest(".esg-meta-rule").find('input[name="esg-widget-area-handle[]"]').val(),e.name=t.closest(".esg-meta-rule").find('input[name="esg-widget-area-name[]"]').val(),AdminEssentials.ajaxRequest("edit_widget_area",e,"#eg-widget-area-add, .eg-widget-area-edit, .eg-widget-area-delete",function(e){})}}),jQuery("body").on("click",".eg-widget-area-delete",function(){if(confirm(eg_lang.really_delete_widget_area)){var e={},t=jQuery(this);e.handle=t.closest(".esg-meta-rule").find('input[name="esg-widget-area-handle[]"]').val(),AdminEssentials.ajaxRequest("remove_widget_area",e,"#eg-widget-area-add, .eg-widget-area-edit, .eg-widget-area-delete",function(e){1==e.success&&t.closest(".esg-meta-rule").remove()})}})},t.initGoogleFonts=function(){ESG.S.punchFonts={},jQuery("#esg-font-settings-inner-wrapper").find(".punch_font_wrapper").each(function(){var e=jQuery(this),t=e.find(".esg-font-handle").val(),a=e.find(".esg-font-url").val();ESG.S.punchFonts[t]={handle:t,url:a}}),jQuery("#eg-font-add").on("click",function(){jQuery("#font-dialog-wrap").dialog({modal:!0,draggable:!0,resizable:!1,width:470,height:350,closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog",buttons:[{text:eg_lang.add_font,id:"eg-font-add-button",click:function(){var e={};if(e.handle=t.sanitize_input(jQuery('input[name="eg-font-handle"]').val()),e.url=jQuery('input[name="eg-font-url"]').val(),e.handle.length<3||e.url.length<3)return alert(eg_lang.handle_and_name_at_least_3),!1;jQuery("#font-dialog-wrap").dialog("close");var a='<div class="punch_font_wrapper"><div class="eg-cs-tbc-left"><esg-llabel><span><?php echo $title; ?></span></esg-llabel></div><div class="eg-cs-tbc"><label>Handle:</label><span style="display:inline-block;margin-left:-20px;margin-right:5px">tp-</span><input class="esg-font-handle" type="text" name="esg-font-handle[]" value="'+e.handle+'" readonly="readonly"><div class="div13"></div><label>Parameter:</label><input data-handle="'+e.handle+'" type="text" class="esg-font-url" name="esg-font-url[]" value="'+e.url+'"><div class="div13"></div><div class="esg-btn esg-red eg-font-delete">Remove</div></div></div>';jQuery("#esg-font-settings-inner-wrapper").append(a),ESG.S.punchFonts[e.handle]={handle:e.handle,url:e.url}}}]})}),ESG.DOC.on("change",".esg-font-url",function(){ESG.S.punchFonts[this.dataset.handle].url=this.value}),jQuery("body").on("click",".eg-font-delete",function(){var e=jQuery(this),t=e.closest(".eg-cs-tbc").find('input[name="esg-font-handle[]"]').val();delete ESG.S.punchFonts[t],e.closest(".punch_font_wrapper").remove()}),ESG.F.savePunchFonts=function(){}},t.initSearchSettings=function(){var e=wp.template("esg-global-settings-wrap"),a=wp.template("esg-shortcode-settings-wrap");if(jQuery("body").on("click",".eg-btn-remove-setting",function(){jQuery(this).closest(".custom-tbc-container").remove()}),jQuery('input[name="search-enable"]').on("click",function(){"on"==jQuery(this).val()?jQuery("#esg-search-global-settings").show():jQuery("#esg-search-global-settings").hide()}),jQuery('input[name="search-enable"]:checked').trigger("click"),jQuery("#eg-btn-add-global-setting").on("click",function(){t.append_global_setting({})}),jQuery("#eg-btn-add-shortcode-setting").on("click",function(){t.append_shortcode_setting({})}),jQuery("body").on("keyup",'input[name="search-class[]"]',function(){jQuery(this).closest(".esg-search-rule").find(".search-title").text(jQuery(this).val())}),jQuery("#eg-grid-search-wrapper").tabs(),t.append_global_setting=function(t){jQuery(".eg-global-search-wrap").append(e(t))},t.append_shortcode_setting=function(e){jQuery(".eg-shortcode-search-wrap").append(a(e))},void 0!==ESG.ENV.SearchSettings.global&&void 0!==ESG.ENV.SearchSettings.global["search-class"])for(var i=0;i<ESG.ENV.SearchSettings.global["search-class"].length;i++){var n={};for(var o in ESG.ENV.SearchSettings.global)n[o]=ESG.ENV.SearchSettings.global[o][i];t.append_global_setting(n)}if(void 0!==ESG.ENV.SearchSettings.shortcode&&void 0!==ESG.ENV.SearchSettings.shortcode["sc-grid-id"])for(i=0;i<ESG.ENV.SearchSettings.shortcode["sc-grid-id"].length;i++){n={};for(var o in ESG.ENV.SearchSettings.shortcode)n[o]=ESG.ENV.SearchSettings.shortcode[o][i];t.append_shortcode_setting(n)}ESG.DOC.on("change",".eg-shortcode-search-wrap select, .eg-shortcode-search-wrap input",function(){jQuery(this).closest(".esg-search-rule").find('input[name="sc-shortcode[]"]').val('[ess_grid_search handle="'+jQuery(this).closest(".esg-search-rule").find('input[name="sc-handle[]"]').val()+'"]')}),jQuery(".eg-shortcode-search-wrap select, .eg-shortcode-search-wrap input").each(function(){jQuery(this).find("option:selected").change()}),jQuery('input[name="sc-shortcode[]"]').on("click",function(){this.select()})},t.showInfo=function(e){if("undefined"==typeof punchgs)return!0;var t='<i class="material-icons info">help_outline</i>';"warning"==e.type&&(t='<i class="material-icons cancel">clear</i>'),"success"==e.type&&(t='<i class="material-icons ok">done</i>'),e.showdelay=null!=e.showdelay?e.showdelay:0,e.hidedelay=null!=e.hidedelay?e.hidedelay:0,0==jQuery("#eg-wrap").length&&jQuery("body").append('<div id="eg-wrap"></div>'),0==jQuery("#eg-toolbox-wrapper").length&&jQuery("#eg-wrap").append('<div id="eg-toolbox-wrapper"></div>'),jQuery("#eg-toolbox-wrapper").append('<div class="eg-toolbox newadded">'+t+e.content+"</div>");var a=jQuery("#eg-toolbox-wrapper").find(".eg-toolbox.newadded");a.removeClass("newadded"),punchgs.TweenLite.fromTo(a,.5,{y:-50,autoAlpha:0,transformOrigin:"50% 50%",transformPerspective:900,rotationX:-90},{autoAlpha:1,y:0,rotationX:0,ease:punchgs.Back.easeOut,delay:e.showdelay}),"event"!=e.hideon?(a.on("click",function(){punchgs.TweenLite.to(a,.3,{x:200,ease:punchgs.Power3.easeInOut,autoAlpha:0,onComplete:function(){a.remove()}})}),0!=e.hidedelay&&"click"!=e.hideon&&punchgs.TweenLite.to(a,.3,{x:200,ease:punchgs.Power3.easeInOut,autoAlpha:0,delay:e.hidedelay+e.showdelay,onComplete:function(){a.remove()}})):jQuery("#eg-toolbox-wrapper").on(e.event,function(){punchgs.TweenLite.to(a,.3,{x:200,ease:punchgs.Power3.easeInOut,autoAlpha:0,onComplete:function(){a.remove()}})})},t.htmlspecialchars=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},t.strToBool=function(e){return null!=e&&("string"==typeof e&&"true"==(e=e.toLowerCase()))},t.stripTags=function(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,a){return t.indexOf("<"+a.toLowerCase()+">")>-1?e:""})},t.stripslashes=function(e){return(e+"").replace(/\\(.?)/g,function(e,t){switch(t){case"\\":return"\\";case"0":return"\0";case"":return"";default:return t}})},t.hex_to_rgba=function(e,t,a){t=void 0!==t?t>0?t/100:0:1;e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,a,i){return t+t+a+a+i+i});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return void 0!==a?i?"rgba("+parseInt(i[1],16)+", "+parseInt(i[2],16)+", "+parseInt(i[3],16)+", "+t+")":null:i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16),a:t}:null},t.upload_image_img=function(e){var t;jQuery(document).off("focusin"),t?t.open():((t=wp.media.frames.file_frame=wp.media({title:eg_lang.choose_image,button:{text:eg_lang.choose_image},multiple:!1,open:function(){},close:function(){}})).on("select",function(){attachment=t.state().get("selection").first().toJSON(),jQuery("#"+e).val(attachment.id),jQuery("#"+e+"-img").attr("src",attachment.url),jQuery("#"+e+"-img").show(),"esg-custom-image"==e&&(jQuery("#eg-custom-item-options").find('input[name="title"]').val(attachment.title),jQuery("#eg-custom-item-options").find('input[name="excerpt"]').val(attachment.description),jQuery("#eg-custom-item-options").find('input[name="content"]').val(attachment.description))}),t.open())},t.upload_image_bg=function(e){var t;t?t.open():((t=wp.media.frames.file_frame=wp.media({title:eg_lang.choose_image,button:{text:eg_lang.choose_image},multiple:!1})).on("select",function(){attachment=t.state().get("selection").first().toJSON(),jQuery("#"+e).val(attachment.id),jQuery("#"+e+"-wrapper").css("background","url("+attachment.url+")")}),t.open())},t.add_custom_grid_multiple_images=function(e){var a;a?a.open():((a=wp.media.frames.file_frame=wp.media({title:eg_lang.choose_images,button:{text:eg_lang.choose_images},multiple:!0})).on("select",function(){a.state().get("selection").each(function(e){var a=e.toJSON();if(void 0!==a&&void 0!==a.id&&parseInt(a.id)>0){t.reset_custom_dialog(),t.remove_hightlighting();var i=jQuery("#eg-custom-item-options");jQuery("#esg-custom-image").val(a.id),i.find("input.custom-filter-hiddeninput").val(ESG.S.customFilterBulk),i.find('input[name="title"]').val(a.title),i.find('input[name="excerpt"]').val(a.description),i.find('input[name="content"]').val(a.description);var n=JSON.stringify(t.getFormParams("edit-custom-element-form"));jQuery("#esg-preview-wrapping-wrapper").prepend('<input id="eg-new-temp-layer" class="esg-new-temp-layer esg-items-datas" name="layers[]" type="hidden" values="" />'),jQuery("#eg-new-temp-layer").val(n)}}),t.changePreviewGrid(!0)}),a.open())},ESG.DOC.on("change",".eg-get-val",function(){var e=jQuery(this).closest(".eg-media-source-order");this.checked?e.addClass("esg-blue").removeClass("esg-purple"):e.addClass("esg-purple").removeClass("esg-blue")}),t.getFormParams=function(e,a){var i,n,o,r,s=new Object,l=document.getElementById(e);if(null!=l&&void 0!==l.elements)for(var c=l.elements.length,u=0;u<c;u++){var d=l.elements[u];switch(i=d.name,n=d.value,o=d.type,jQuery(d).hasClass("wp-editor-area")&&(o="editor"),r=!0,o){case"checkbox":if(-1!==l.elements[u].className.indexOf("eg-get-val")){if(!l.elements[u].checked)continue;n=l.elements[u].value}else n=l.elements[u].checked;break;case"radio":if(-1!==l.elements[u].className.indexOf("eg-get-val")){if(!l.elements[u].checked)continue;n=l.elements[u].value}else 0==l.elements[u].checked&&(r=!1);break;case"editor":if("undefined"!=typeof tinyMCE&&null!=tinyMCE.get(i))try{n=tinyMCE.get(i).getContent()}catch(e){n=jQuery('textarea[name="'+i+'"]').val()}break;case"select-multiple":(n=jQuery(d).val())&&(n=n.toString())}if(1==r&&null!=i){if(void 0!==a){if(""==n)continue;try{var p=JSON.parse(n)}catch(e){try{n=t.stripslashes(n);p=JSON.parse(n)}catch(e){continue}}if("object"==typeof p){for(var g in p)""==p[g]&&delete p[g];n=JSON.stringify(p)}}i.indexOf("[]")>-1?("object"!=typeof s[i=i.replace("[]","")]&&(s[i]=[]),s[i][Object.keys(s[i]).length]=n):s[i]=n}}return s},"undefined"!=typeof tinymce&&tinymce.PluginManager.add("essgrid_sc_button",function(e,t){e.addButton("essgrid_sc_button",{title:eg_lang.essential_grid_shortcode_creator,icon:"icon dashicons-screenoptions",onclick:function(){ESG.SC.openBlockSettings()}}),open_editor=e}),ESG.DOC.on("change",".input-settings-small",function(){ESG.F.updateColumnSLiders()}),ESG.F.updateColumnSLiders=function(){for(var e=1;e<=7;e++){var t=jQuery("#columns-"+e).val();jQuery("#slider-columns-"+e).slider({value:t,min:1,max:15,slide:function(e,t){jQuery("#columns-"+jQuery(this).data("num")).val(t.value),jQuery("body").trigger("esgslide",jQuery(this))}}),jQuery("#slider-columns-"+e).prepend('<span class="eg-pre-slider"></span>');var a=parseInt(jQuery("#slider-columns-"+e+" .ui-slider-handle").css("left"),0);jQuery("#slider-columns-"+e+" .eg-pre-slider").css({width:a})}},t.initSlider=function(){jQuery(function(){var e=[{name:"rows",min:1,max:99},{name:"rows-mobile",min:1,max:99},{name:"grid-animation-speed",min:0,max:5e3,step:100},{name:"grid-animation-delay",min:1,max:30},{name:"grid-start-animation-speed",min:0,max:5e3,step:100},{name:"grid-start-animation-delay",min:1,max:30},{name:"hover-animation-speed",min:0,max:9e3,step:100},{name:"hover-animation-delay",min:1,max:30,step:5},{name:"load-more-amount",min:1,max:20},{name:"load-more-start",min:1,max:20}];for(key in e){var t=jQuery('input[name="'+e[key].name+'"]').val(),a=1;null!=e[key].step&&(a=e[key].step);var i=jQuery("#slider-"+e[key].name);i.slider({value:t,min:e[key].min,max:e[key].max,step:a,slide:function(e,t){jQuery('input[name="'+jQuery(this).attr("id").replace("slider-","")+'"]').val(t.value),jQuery("body").trigger("esgslide",jQuery(this))},create:function(){i.data("sliderinited",!0)}});var n=parseInt(jQuery("#slider-"+e[key].name+" .ui-slider-handle").css("left"),0);jQuery("#slider-"+e[key].name).prepend('<span class="eg-pre-slider"></span>'),jQuery("#slider-"+e[key].name+" .eg-pre-slider").css({width:n+"%"})}ESG.F.updateColumnSLiders(),jQuery("body").on("esgslide",function(e,t){var a=jQuery(t);setTimeout(function(){var e=parseInt(a.find(".ui-slider-handle").css("left"),0);a.find(".eg-pre-slider").css({width:e})},10)}),jQuery("#grid-start-animation").on("change",function(){var e,t,a="show",i=(this.value,"none"!==this.value&&"reveal"!==this.value?"show":"hide");"reveal"!==this.value?(e="off",t="none"!==this.value?"show":"hide","none"===this.value&&(a="hide")):(e="on",t="hide"),jQuery("#start-animation-speed-wrap")[a](),jQuery("#start-animation-delay-wrap")[t](),jQuery("#start-animation-viewport-wrap")[i](),jQuery("#hide-markup-before-load").val(e)}).change(),jQuery(".start-anime-viewport").on("change",function(){var e=this.checked&&"on"===this.value?"show":"hide";jQuery("#start-animation-viewport-buffer")[e]()}),jQuery("#grid-animation-select").on("change",function(){var e="rotatefall"!==this.value?"show":"hide";jQuery("#animation-delay-type-wrap")[e]()}).change(),jQuery(".eg-lb-source-list").on("change",function(){"post-content"===this.value&&this.checked?(jQuery("#lbo-list .eg-media-source-order").not("#lbo-post-content").addClass("notavailable"),jQuery("#eg-post-content-options").show()):(jQuery("#lbo-list .eg-media-source-order").removeClass("notavailable"),jQuery("#eg-post-content-options").hide())}),jQuery(".start-anime-viewport:checked").change(),jQuery('.eg-lb-source-list[value="post-content"]').change(),jQuery(document).on("keydown",function(e){if(e.ctrlKey||e.metaKey)switch(String.fromCharCode(e.which).toLowerCase()){case"s":var t=jQuery("#eg-btn-save-grid");t.length&&(e.preventDefault(),t.trigger("click"))}});var o=jQuery("#waitaminute");"wpbody-content"!==o.parent().attr("id")&&o.appendTo(jQuery("#wpbody-content")),jQuery("body").on("click",".ui-widget-overlay",function(){jQuery('.ui-dialog[aria-describedby="edit-custom-element-dialog-wrap"], .ui-dialog[aria-describedby="post-meta-dialog-wrap"]').find(".ui-dialog-titlebar-close").trigger("click")}),jQuery(".pagination-touchswipe").on("change",function(){this.checked&&jQuery("#pagination-touchswipe-settings")["on"===this.value?"show":"hide"]()}),jQuery(".filtervisible").on("change",function(){this.checked&&jQuery(this).closest(".eg-filter-options-wrap").find(".eg-filter-visible")["on"===this.value?"show":"hide"]()}),jQuery(".enable-mobile-rows").on("change",function(){this.checked&&jQuery("#rows-mobile-wrap")["on"===this.value?"show":"hide"]()}),jQuery("body").on("click",".eg-alert",function(){jQuery(this).removeClass("eg-alert")})})},t.recalcSlidersPos=function(){var e=[{name:"rows",min:1,max:99},{name:"grid-animation-speed",min:0,max:9e3,step:100},{name:"grid-animation-delay",min:0,max:100},{name:"hover-animation-speed",min:0,max:9e3,step:100},{name:"hover-animation-delay",min:1,max:30},{name:"load-more-amount",min:1,max:20},{name:"load-more-start",min:1,max:20}];for(key in e){jQuery('input[name="'+e[key].name+'"]').val();null!=e[key].step&&e[key].step;var t=parseInt(jQuery("#slider-"+e[key].name+" .ui-slider-handle").css("left"),0);jQuery("#slider-"+e[key].name+" .eg-pre-slider").css({width:t})}for(var a=1;a<=7;a++){jQuery("#columns-"+a).val(),t=parseInt(jQuery("#slider-columns-"+a+" .ui-slider-handle").css("left"),0);jQuery("#slider-columns-"+a+" .eg-pre-slider").css({width:t})}jQuery("body").on("esgslide",function(e,t){var a=jQuery(t);setTimeout(function(){var e=parseInt(a.find(".ui-slider-handle").css("left"),0);a.find(".eg-pre-slider").css({width:e})},10)})},ESG.F.updateCategorylistsInFilters=function(){t.build_filter_tab("eg-filter-selected","eg-filter-selected-order-wrap","filter-selected[]");var e="custom"===ESG.S.STYPE?ESG.S.customFilters:ESG.C.postCategory.val();if("post"===ESG.S.STYPE&&(ESG.C.postCategory.find("option").prop("selected",!1),ESG.C.postCategory.val(e)),eg_filter_counter>1||void 0!==jQuery('input[name="filter-all-text-1"]')&&jQuery('input[name="filter-all-text-1"]').length>0)for(var a=1;a<=eg_filter_counter;a++)t.build_filter_tab("eg-filter-selected-"+a,"eg-filter-selected-order-wrap-"+a,"filter-selected-"+a+"[]",a),jQuery(".eg-filter-selected-order-wrap-"+a).closest(".eg-filter-options-wrap").find(".eg-remove-filter-tab").show();filter_startup=!1,jQuery(".eg-media-source-order-wrap .eg-media-source-order").tpsortable({})},t.initAutocomplete=function(){for(var e=0;e<pages.length;++e)a.push(pages[e].label),i[pages[e].label]=pages[e].value;jQuery("#pages").autocomplete({minLength:1,source:a,select:function(e,a){return t.insertSelectedPage(a.item.value),!1}}),jQuery("body").on("click",".del-page-entry",function(){var e=jQuery(this).siblings(".esg-page-list-element").data("id");jQuery('select[name="selected_pages"] option[value="'+e+'"]').prop("selected",!1),jQuery(this).parent().remove()})},t.insertSelectedPage=function(e){var t=i[e];if(jQuery('select[name="selected_pages"] option[value="'+t+'"]').is(":selected"))return jQuery("#pages").val(""),!1;jQuery("#pages-wrap").append('<div class="esg-page-list-element-wrap" data-id="'+i[e]+'"><div class="esg-page-list-element">'+e+'</div><div class="esg-btn esg-red del-page-entry"><i style="margin-right:0px" class="eg-icon-trash"></i></div><div>');var a=jQuery("#pages-wrap").children().toArray().sort(function(e,t){return jQuery(e).text()>jQuery(t).text()?1:0});jQuery.each(a,function(e,t){jQuery("#pages-wrap").append(t)}),jQuery('select[name="selected_pages"] option[value="'+i[e]+'"]').prop("selected",!0),jQuery("#pages").val("")},t.updateShortcode=function(){var e=jQuery("input[name='handle']").val(),t='[ess_grid alias="'+e+'"]';""==e&&(t="-- "+eg_lang.aj_wrong_alias+" -- "),jQuery('input[name="shortcode"]').val(t),jQuery('input[name="ajax-container-shortcode"]').val(t.replace("[ess_grid","[ess_grid_ajax_target")),jQuery(".filter-shortcode-filter").each(function(){jQuery(this).val(t.replace("[ess_grid",'[ess_grid_nav id="'+jQuery(this).data("num")+'" '))})},t.checkEvenMasonryInput=function(){"fullscreen"!=jQuery("input[name='layout-sizing']:checked").val()?(jQuery("#eg-items-ratio-wrap").show(),"even"==jQuery('input[name="layout"]:checked').val()?jQuery("#eg-content-push-wrap").show():jQuery("#eg-content-push-wrap").hide()):(jQuery("#eg-content-push-wrap").hide(),jQuery("#eg-items-ratio-wrap").hide()),"cobbles"==jQuery('input[name="layout"]:checked').val()?jQuery("#eg-cobbles-options").show():jQuery("#eg-cobbles-options").hide(),"masonry"==jQuery('input[name="layout"]:checked').val()?jQuery("#eg-masonry-options").show():jQuery("#eg-masonry-options").hide(),"masonry"==jQuery('input[name="layout"]:checked').val()&&"checked"==jQuery('input[name="auto-ratio"]').prop("checked")?jQuery("#eg-ratio-wrapper").hide():jQuery("#eg-ratio-wrapper").show()},t.initCreateGrid=function(e){jQuery("input[name='layout-sizing']").change(function(){if("fullscreen"==jQuery("input[name='layout-sizing']:checked").val()){jQuery("#eg-fullscreen-container-wrap").show(),jQuery("#eg-even-masonry-wrap").hide(),jQuery('input[name="layout"][value="even"]').trigger("click"),jQuery('input[name="rows-unlimited"][value="off"]').trigger("click");var e=jQuery("#grid-start-animation");if("reveal"===e.val()){e.val("scale").change();var a=jQuery("#slider-grid-start-animation-delay");if(a.length)if(a.data("sliderinited"))a.slider("value",1),a.find(".eg-pre-slider").width(0),jQuery("#grid-start-animation-delay").val("1");else var i=setInterval(function(){a.data("sliderinited")&&(clearInterval(i),a.slider("value",1),a.find(".eg-pre-slider").width(0),jQuery("#grid-start-animation-delay").val("1"))},250)}e.find('option[value="reveal"]').prop("disabled",!0).hide(),jQuery("#eg-pagination-wrap").hide(),t.checkEvenMasonryInput()}else jQuery("#eg-fullscreen-container-wrap").hide(),jQuery("#eg-even-masonry-wrap").show(),t.checkEvenMasonryInput(),jQuery("#eg-pagination-wrap").show(),jQuery("#grid-start-animation").find('option[value="reveal"]').prop("disabled",!1).show()}),jQuery('input[name="auto-ratio"]').on("click",function(){"checked"==jQuery(this).prop("checked")?jQuery("#eg-ratio-wrapper").hide():jQuery("#eg-ratio-wrapper").show()}),jQuery('input[name="layout"]').change(function(){t.checkEvenMasonryInput()}),jQuery("input[name='layout-sizing']").change(),jQuery("input[name='handle']").change(function(){t.updateShortcode()}),jQuery("input[name='handle']").keyup(function(){t.updateShortcode()}),jQuery("input[name='shortcode']").on("focus",function(){this.select()}),jQuery("body").on("focus",".filter-shortcode-filter",function(){this.select()}),jQuery("input[name='shortcode']").on("click",function(){this.select()}),t.updateShortcode(),jQuery('input[name="ajax-container-position"]').on("click",function(){"shortcode"==jQuery(this).val()?jQuery("#eg-ajax-shortcode-wrapper").show():jQuery("#eg-ajax-shortcode-wrapper").hide()}),jQuery('input[name="ajax-container-position"]:checked').trigger("click"),jQuery("#eg-btn-save-grid").on("click",function(){t.removeRedHighlighting();var a=0,i={name:ESG.F.trim(jQuery('input[name="name"]').val()),handle:ESG.F.trim(jQuery('input[name="handle"]').val()),postparams:t.getFormParams("eg-form-create-posts"),params:t.getFormParams("eg-form-create-settings")};if(i.postparams["youtube-default-image"]=jQuery("#eg-youtube-default-image").val(),i.params["css-id"]=jQuery("#esg-id-value").val(),i.params["navigation-layout"]=t.get_navigation_layout(),i.params["custom-javascript"]=ESG.CM.apiJS.getValue(),i.params["ajax-container-css"]=ESG.CM.ajaxCSS.getValue(),i.params["custom-filter"]=eg_filter_handles_selected,delete i.postparams.search_pages,delete i.params["do-not-save"],delete i.params["ajax-container-shortcode"],"custom"==ESG.S.STYPE){var n=t.getFormParams("eg-custom-elements-form-wrap");i.layers=void 0!==n.layers?n.layers:[],void 0===n.layers&&(a++,t.showErrorMessage(eg_lang.add_at_least_one_element))}if((i.name.length<2||i.name.length>255)&&(AdminEssentials.showErrorMessage(eg_lang.dontforget_title),a++,jQuery("#esg-naming-tab").trigger("click")),(i.handle.length<2||i.handle.length>255)&&(AdminEssentials.showErrorMessage(eg_lang.dontforget_alias),a++,jQuery("#esg-naming-tab").trigger("click")),0==a){"update_grid"==e&&(i.id=jQuery('input[name="eg-id"]').val());var o=[];if(void 0!==ESG.LIB.postChangesDueEditor)for(var r in ESG.LIB.postChangesDueEditor)ESG.LIB.postChangesDueEditor.hasOwnProperty(r)&&o.push(ESG.LIB.postChangesDueEditor[r].metas);o.length>0?AdminEssentials.ajaxRequest("update_post_meta_through_editor",{metas:o},".ui-button",function(e){jQuery(".esg-needattention_item").removeClass("esg-needattention_item"),ESG.LIB.changedItemIds=[],t.changePreviewGrid(!0),ESG.DOC.trigger("esggridsaved")}):t.ajaxRequest("update_create_grid",i,".save-wrap-settings",function(e){jQuery(".esg-needattention_item").removeClass("esg-needattention_item"),ESG.LIB.changedItemIds=[],t.changePreviewGrid(!0),ESG.DOC.trigger("esggridsaved")})}}),jQuery("#eg-btn-delete-grid").on("click",function(){var e={id:jQuery('input[name="eg-id"]').val()};confirm(eg_lang.delete_grid)&&t.ajaxRequest("delete_grid",e,".save-wrap-settings")}),jQuery('select[name="instagram-token-source"]').on("change",function(){jQuery(".instagram-token-source").hide(),jQuery(".instagram-token-source-"+jQuery(this).val()).show()}).trigger("change");var a=!1;function i(){jQuery(".cachenumbercheck").each(function(){var e=jQuery(this),t=e.find("input"),a=e.find(".showonsmallcache");t.val()<3600?a.show():a.hide()})}function r(e){return!e.hasClass("notavailable")&&e.find("input").is(":checked")}function l(){jQuery("#pso-list").find(".eg-media-source-order").each(function(){jQuery(this).addClass("notavailable")}),jQuery(".default-posters").each(function(){jQuery(this).addClass("notavailable")});var e={fei:{a:!1,b:"#pso-featured-image"},alt:{a:!1,b:"#pso-alternate-image"},fci:{a:!1,b:"#pso-content-image"},ydi:{a:!1,b:"#pso-default-youtube-image,#eg-youtube-default-poster"},vdi:{a:!1,b:"#pso-default-vimeo-image,#eg-vimeo-default-poster"},hdi:{a:!1,b:"#pso-default-html-image,#eg-html5-default-poster"},yth:{a:!1,b:"#pso-youtube-image"},vth:{a:!1,b:"#pso-vimeo-image"},ni:{a:!1,b:"#pso-no-image"}};(r(jQuery("#imso-youtube"))||r(jQuery("#imso-content-youtube")))&&(e.fei.a=!0,e.alt.a=!0,e.fci.a=!0,e.ni.a=!0,e.ydi.a=!0,e.yth.a=!0),(r(jQuery("#imso-vimeo"))||r(jQuery("#imso-content-vimeo")))&&(e.fei.a=!0,e.alt.a=!0,e.fci.a=!0,e.ni.a=!0,e.vdi.a=!0,e.vth.a=!0),(r(jQuery("#imso-html5"))||r(jQuery("#imso-content-html5")))&&(e.fei.a=!0,e.alt.a=!0,e.fci.a=!0,e.ni.a=!0,e.hdi.a=!0,e.vth.a=!0),(r(jQuery("#imso-wistia"))||r(jQuery("#imso-soundcloud")))&&(e.fei.a=!0,e.alt.a=!0,e.fci.a=!0,e.ni.a=!0),jQuery.each(e,function(e,t){t.a&&jQuery(t.b).removeClass("notavailable")})}jQuery("#instagram_connect_account").on("click",function(e){e.preventDefault(),a=!0,jQuery("#eg-btn-save-grid").trigger("click")}),ESG.DOC.on("esggridsaved",function(){a&&(location.href=jQuery("#instagram_connect_account").prop("href"))}),t.build_filter_tab=function(e,t,a,i){var n=[];jQuery("."+e+":checked").each(function(){n.push(jQuery(this).val())});var o=[];jQuery("."+e).each(function(){o.push(jQuery(this).val())});var r="post"===ESG.S.STYPE?ESG.C.postCategory.val():void 0===ESG.S.customFilters?[]:ESG.S.customFilters.slice(0);if(null==r&&(r=[]),"undefined"!=typeof eg_filter_handles_selected)for(var s in eg_filter_handles_selected)-1===jQuery.inArray(s,r)?r.push(s):delete eg_filter_handles_selected[s];for(var l in jQuery("."+t).html(""),ESG.S.customFilters=void 0===ESG.S.customFilters?[]:ESG.S.customFilters,o)if(null!==r&&"post"===ESG.S.STYPE&&r.indexOf(o[l])>-1||"custom"==ESG.S.STYPE){var c="";if(null==(d=o[l].indexOf("meta-")>-1?eg_meta_handles[o[l]]+" "+eg_lang.meta_val:"post"===ESG.S.STYPE?jQuery('select[name="post_category"] option[value="'+o[l]+'"]').html():o[l]))continue;var u=null!==n&&n.indexOf(o[l])>-1;c='<div data-value="'+o[l]+'" class="eg-media-source-order '+(u?"esg-blue":"esg-purple")+' esg-btn"><span class="eg-filter-selected-span">'+d+"</span>"+("custom"==ESG.S.STYPE?'<i class="eg_edit_custom_category material-icons">edit</i><i class="eg_delete_custom_category material-icons">delete</i>':"")+'<input class="eg-get-val eg-filter-input '+e+'" type="checkbox" name="'+a+'" data-origname="filter-selected-#NR[]" value="'+o[l]+'" /></div>',jQuery("."+t).append(c),u&&jQuery("."+e+'[value="'+o[l]+'"]').prop("checked","checked"),-1===jQuery.inArray(o[l],ESG.S.customFilters)&&ESG.S.customFilters.push(o[l]),delete r[r.indexOf(o[l])]}if(null!==r)for(var s in r){var d;c="";if(null!=(d=r[s].indexOf("meta-")>-1?eg_meta_handles[r[s]]+" "+eg_lang.meta_val:"post"===ESG.S.STYPE?jQuery('select[name="post_category"] option[value="'+r[s]+'"]').html():r[s])){var p="post"===ESG.S.STYPE||"post"!==ESG.S.STYPE&&0===o.length&&filter_startup;c='<div data-value="'+r[s]+'" class="eg-media-source-order '+(p?"esg-blue":"esg-purple")+' esg-btn"><span class="eg-filter-selected-span">'+d+"</span>"+("custom"==ESG.S.STYPE?'<i class="eg_edit_custom_category material-icons">edit</i><i class="eg_delete_custom_category material-icons">delete</i>':"")+'<input class="eg-get-val eg-filter-input '+e+'" type="checkbox" name="'+a+'" data-origname="filter-selected-#NR[]" value="'+r[s]+'" /></div>',jQuery("."+t).append(c),-1===jQuery.inArray(r[s],ESG.S.customFilters)&&ESG.S.customFilters.push(r[s]),("post"==ESG.S.STYPE&&!filter_startup||"post"!==ESG.S.STYPE&&p)&&jQuery("."+e+'[value="'+r[s]+'"]').prop("checked","checked")}}void 0!==i&&jQuery("."+t).length>0&&0===jQuery(".eg-navigation-cons-filter-"+i).length&&jQuery(".eg-navigation-cons-wrapper").append('<div data-navtype="filter-'+i+'" class="eg-navigation-cons-filter-'+i+' eg-nav-cons-filter eg-navigation-cons"><i class="eg-icon-megaphone"></i>'+eg_lang.filter+" "+i+"</div>")},eg_postTypesWithCats=void 0!==eg_jsonTaxWithCats&&eg_jsonTaxWithCats.length>=0?JSON.parse(eg_jsonTaxWithCats):{},ESG.C.postTypes=jQuery('select[name="post_types"]'),ESG.C.postCategory=jQuery('select[name="post_category"]'),ESG.C.SortingOrderBy=jQuery('select[name="sorting-order-by"]'),ESG.C.postTypes.change(function(){var e=ESG.C.postTypes.val();jQuery("#set-pages-wrap").hide(),jQuery("#eg-post-cat-wrap").hide(),ESG.C.postTypes.find("option").prop("selected",!1);try{ESG.C.postTypes.find("option").removeAttr("selected")}catch(e){}ESG.C.postCategory.empty(),jQuery(e).each(function(e,t){ESG.C.postTypes.find('option[value="'+t+'"]')[0].selected=!0;var a=eg_postTypesWithCats[t];"page"==t&&jQuery("#set-pages-wrap").show(),"page"!=t&&jQuery("#eg-post-cat-wrap").show();var i=!0;for(catIndex in a){var n=a[catIndex],o=new Option(n,catIndex);0==catIndex.indexOf("option_disabled")?jQuery(o).prop("disabled","disabled"):1==i&&(jQuery(o).prop("selected","selected"),i=!1),ESG.C.postCategory.append(o)}}),eg_filter_handles=[],ESG.C.postCategory.find("option").each(function(){eg_filter_handles[this.value]=jQuery(this).text()}),ESG.F.updateCategorylistsInFilters()}),ESG.C.postCategory.change(function(){ESG.F.updateCategorylistsInFilters()}),jQuery('select[name="post_category"] option').length||(ESG.C.postTypes.change(),jQuery('select[name="post_category"] option:selected').prop("selected",!1)),jQuery('input[name="filter-meta-key"]').autocomplete({source:n,minLength:0}),jQuery(".filter-meta-selector").on("click",function(e){e.stopPropagation(),1==jQuery('input[name="filter-meta-key"]').data("is_open")?jQuery('input[name="filter-meta-key"]').autocomplete("close"):jQuery('input[name="filter-meta-key"]').autocomplete({source:n,minLength:0})}),i(),jQuery(".cachenumbercheck input").change(i),jQuery("body").on("mouseenter",".inst-filter-griditem",function(){punchgs.TweenLite.to(jQuery(this).find(".inst-filter-griditem-img"),.5,{autoAlpha:0})}),jQuery("body").on("mouseleave",".inst-filter-griditem",function(){punchgs.TweenLite.to(jQuery(this).find(".inst-filter-griditem-img"),.5,{autoAlpha:1})}),jQuery("body").on("click",".inst-filter-griditem",function(){var e=jQuery(this);jQuery("#media-filter-type option:selected").prop("selected",!1),jQuery('#media-filter-type option[value="'+e.data("type")+'"]').prop("selected","selected"),jQuery(".inst-filter-griditem.selected").removeClass("selected"),e.addClass("selected")}),jQuery(".grid-item-anime-select").on("change",function(){var e=jQuery(this),t=e.closest(".esg-showhidegroup");t.find(".grid-item-anime-option").hide(),t.find(".grid-item-anime-wrap-"+e.val()).show()}).change(),jQuery(".lightbox-post-content-img").on("change",function(){var e="on"===jQuery(".lightbox-post-content-img:checked").val()?"addClass":"removeClass";jQuery(this).closest(".eg-creative-settings")[e]("show-featured-img-settings")}).change(),jQuery("input.esg-source-choose-wrapper").change(function(){var e=jQuery('input[name="stream-source-type"]:checked').val();switch("post"!==ESG.S.STYPE&&jQuery("#imso-list,#lbo-list, #ajo-list").find(".eg-media-source-order").each(function(){jQuery(this).addClass("notavailable")}),jQuery(".eg-navigation-cons-search-input,.eg-navigation-cons-filter,.eg-navigation-cons-filter-input").css("display","inline-block"),jQuery(".filter_groups").css("display","block"),jQuery(".search_settings").show(),ESG.S.STYPE){case"post":jQuery("#imso-list, #lbo-list, #ajo-list").find(".eg-media-source-order").each(function(){jQuery(this).removeClass("notavailable")});break;case"custom":jQuery("#imso-list, #lbo-list, #ajo-list").find(".eg-media-source-order").each(function(e){-1!=this.id.indexOf("imso-content-",0)?jQuery(this).addClass("notavailable"):jQuery(this).removeClass("notavailable")}),jQuery("#ajo-revslider").addClass("notavailable"),jQuery("#ajo-content-image").addClass("notavailable");break;case"stream":switch(jQuery("#imso-"+e+", #lbo-"+e+", #ajo-"+e).removeClass("notavailable"),e){case"instagram":jQuery("#imso-featured-image, #lbo-featured-image, #ajo-featured-image").removeClass("notavailable"),jQuery("#imso-html5,#lbo-html5").removeClass("notavailable");break;case"twitter":case"flickr":case"behance":jQuery("#imso-featured-image,#lbo-featured-image,#ajo-featured-image").removeClass("notavailable");break;case"facebook":jQuery("#imso-featured-image,#lbo-featured-image,#ajo-featured-image").removeClass("notavailable"),jQuery("#imso-html5,#lbo-html5,#ajo-html5").removeClass("notavailable"),jQuery("#imso-youtube,#lbo-youtube,#ajo-youtube").removeClass("notavailable")}jQuery(".eg-navigation-cons-search-input,.eg-navigation-cons-filter,.eg-navigation-cons-filter-input,.filter_groups,.search_settings").hide();break;case"rml":case"nextgen":jQuery("#imso-featured-image, #lbo-featured-image, #ajo-featured-image").removeClass("notavailable"),jQuery(".eg-navigation-cons-search-input,.eg-navigation-cons-filter,.eg-navigation-cons-filter-input,.filter_groups,.search_settings").hide()}jQuery("#lbo-list div.notavailable input, #lbo-btn-list div.notavailable input").each(function(){jQuery(this).prop("checked",!1)}),l()}),jQuery("#imso-list input").change(l),jQuery('select[name="sorting-order-by"]').change(function(){var e=ESG.C.SortingOrderBy.val();ESG.C.SortingOrderBy.find("option").prop("selected",!1).removeAttr("selected"),ESG.C.SortingOrderBy.val(e)}),ESG.C.postCategory.change(),jQuery('select[name="filter2-type"]').change(function(){"custom"==jQuery(this).val()?jQuery("#eg-filter2-sel-wrap").show():jQuery("#eg-filter2-sel-wrap").hide()}),jQuery('select[name="filter3-type"]').change(function(){"custom"==jQuery(this).val()?jQuery("#eg-filter3-sel-wrap").show():jQuery("#eg-filter3-sel-wrap").hide()});var c=ESG.C.postTypes.val();jQuery("#set-pages-wrap").hide(),jQuery("#eg-post-cat-wrap").hide(),jQuery(c).each(function(e,t){"page"==t&&jQuery("#set-pages-wrap").show(),"page"!=t&&jQuery("#eg-post-cat-wrap").show()}),jQuery('input[name="layout"]').on("click",function(){"even"==jQuery(this).val()?jQuery("#eg-layout-even-ratio").show():jQuery("#eg-layout-even-ratio").hide()}),ESG.C.mainBGCOLOR=void 0===ESG.C.mainBGCOLOR?jQuery('input[name="main-background-color"]'):ESG.C.mainBGCOLOR,ESG.C.livePrevWrap=void 0===ESG.C.livePrevWrap?jQuery("#eg-live-preview-wrap"):ESG.C.livePrevWrap,ESG.C.navPreviewContent=void 0===ESG.C.navPreviewContent?jQuery("#nav_skin_preview_content"):ESG.C.navPreviewContent,ESG.C.navPreviewColor=void 0===ESG.C.navPreviewColor?jQuery("#nav_skin_preview_colored"):ESG.C.navPreviewColor,ESG.C.navPreview=void 0===ESG.C.navPreview?jQuery("#nav_skin_preview"):ESG.C.navPreview,ESG.C.navPreviewWrap=void 0===ESG.C.navPreviewWrap?jQuery("#nav_skin_preview_wrap"):ESG.C.navPreviewWrap,ESG.C.navPreviewBGSel=void 0===ESG.C.navPreviewBGSel?jQuery("#navigation-preview-bg-select"):ESG.C.navPreviewBGSel,ESG.DOC.on("change","#navigation-preview-bg-select",function(){t.changeNavPreviewBGColor()}),t.changeNavPreviewBGColor=function(){"dark"===ESG.C.navPreviewBGSel[0].value?ESG.C.navPreviewColor.css("backgroundColor","#333"):"light"===ESG.C.navPreviewBGSel[0].value?ESG.C.navPreviewColor.css("backgroundColor","#eee"):"transparent"===ESG.C.navPreviewBGSel[0].value?ESG.C.navPreviewColor.css("backgroundColor","transparent"):"mainbg"===ESG.C.navPreviewBGSel[0].value&&ESG.C.navPreviewColor.css("backgroundColor",ESG.C.mainBGCOLOR[0].dataset.color||ESG.C.mainBGCOLOR[0].value)},ESG.C.mainBGCOLOR.esgColorPicker({init:function(e,t,a,i){},onRefresh:function(e,t,a,i){e.val(t)},onEdit:function(e,t,a,i){e.val(t),tpGS.gsap.set(["#esg-preview-grid"],{background:"transparent"}),ESG.C.livePrevWrap.css("background",t),"mainbg"===ESG.C.navPreviewBGSel[0].value&&ESG.C.navPreviewColor.css("backgroundColor",t)},change:function(e,t,a,i,n){e.val(t),tpGS.gsap.set(["#esg-preview-grid"],{background:"transparent"}),ESG.C.livePrevWrap.css("background",e[0].dataset.color||e[0].value),"mainbg"===ESG.C.navPreviewBGSel[0].value&&ESG.C.navPreviewColor.css("backgroundColor",e[0].dataset.color||inputElement[0].value)},cancel:function(e,t,a,i,n){e.val(t)}}),jQuery("#spinner_color").esgColorPicker({init:function(e,t,a,i){},onRefresh:function(e,a,i,n){e.val(a),t.spinnerColorChange(a)},onEdit:function(e,a,i,n){e.val(a),t.spinnerColorChange(a)},change:function(e,a,i,n,o){t.spinnerColorChange(),e.val(a)},cancel:function(e,t,a,i,n){e.val(t)}}),jQuery("#lazy-load-color").esgColorPicker({init:function(e,t,a,i){},onRefresh:function(e,t,a,i){e.val(t)},change:function(e,t,a,i,n){e.val(t)},cancel:function(e,t,a,i,n){e.val(t)}}),ESG.C.livePrevWrap.css("background",ESGColor.process(ESG.C.mainBGCOLOR[0].value)[0]),"mainbg"===ESG.C.navPreviewBGSel[0].value&&ESG.C.navPreviewColor.css("backgroundColor",ESGColor.process(ESG.C.mainBGCOLOR[0].value)[0]),t.changeNavPreviewBGColor(),jQuery('input[name="rows-unlimited"]').change(function(){"off"==jQuery(this).val()?(jQuery(".load-more-wrap").hide(),jQuery(".rows-num-wrap").show()):(jQuery(".load-more-wrap").show(),jQuery(".rows-num-wrap").hide())}),jQuery('select[name="load-more"]').change(function(){"on"==jQuery('input[name="rows-unlimited"]:checked').val()&&"scroll"==jQuery(this).val()?jQuery(".load-more-hide-wrap").show():jQuery(".load-more-hide-wrap").hide()}),jQuery('input[name="columns-advanced"]').change(function(){if("on"==jQuery(this).val()){jQuery(".columns-width").show(),jQuery(".columns-height").show(),jQuery(".columns-sliding").hide();for(var e=0;e<8;e++)jQuery("#slider-columns-"+e).addClass("shortform")}else{jQuery(".columns-width").hide(),jQuery(".columns-height").hide(),jQuery(".columns-sliding").show();for(e=0;e<8;e++)jQuery("#slider-columns-"+e).removeClass("shortform")}t.calc_advanced_rows(jQuery(this).val())}),"on"==jQuery('input[name="columns-advanced"]:checked').val()&&(jQuery(".columns-width").show(),jQuery(".columns-height").show(),jQuery(".columns-sliding").hide()),t.calc_advanced_rows(jQuery('input[name="columns-advanced"]:checked').val()),jQuery("body").on("click","#eg-add-column-advanced",function(){var e=jQuery(".columns-adv-head").length;if(9==e)return!0;var a=[];0==e?(a[0]=jQuery("#columns-1").val(),a[1]=jQuery("#columns-2").val(),a[2]=jQuery("#columns-3").val(),a[3]=jQuery("#columns-4").val(),a[4]=jQuery("#columns-5").val(),a[5]=jQuery("#columns-6").val(),a[6]=jQuery("#columns-7").val()):jQuery('input[name="columns-advanced-rows-'+(e-1)+'[]"]').each(function(e){a[e]=jQuery(this).val()});jQuery("#eg-col-00").append('<td class="columns-adv-'+e+' columns-adv-rows columns-adv-head esg-adv-row-title-span-small"></td>');for(var i=0;i<7;i++)jQuery("#eg-col-"+(i+1)).append('<td class="columns-adv-'+e+' columns-adv-rows esg-adv-row-title-span-small"><input class="input-settings-small" type="text" name="columns-advanced-rows-'+e+'[]" value="'+a[i]+'" /></td>');t.calc_advanced_rows(jQuery('input[name="columns-advanced"]:checked').val())}),jQuery("body").on("click","#eg-remove-column-advanced",function(){var e=jQuery(".columns-adv-head").length;if(0==e)return!0;e--,jQuery(".columns-adv-"+e).remove(),t.calc_advanced_rows(jQuery('input[name="columns-advanced"]:checked').val())}),t.getPagesDialog(),jQuery("#eg-edit-navigation-skin").on("click",function(){t.open_navigation_skin_dialog(ESG.C.navSkinSelector[0].value)}),jQuery("#eg-delete-navigation-skin").on("click",function(){if(confirm(eg_lang.deleting_nav_skin_message)){var e={skin:ESG.C.navSkinSelector[0].value};AdminEssentials.ajaxRequest("delete_navigation_skin_css",e,"#eg-edit-navigation-skin,#eg-create-navigation-skin,#eg-delete-navigation-skin",function(e){1==e.success&&(jQuery("#navigation-styling-css-wrapper").html(e.css),ESG.C.navSkinSelector[0].innerHTML=e.select,ESG.C.navSkinSelector[0].selectedIndex=0,t.changePreviewGrid(),ESG.LIB.nav_skins=jQuery.extend({},e.default_skins),t.checkDepricatedSkins())})}}),ESG.DOC.on("change","#navigation-skin-select",function(){t.checkDepricatedSkins()}),ESG.DOC.on("mouseenter","#nav_skin_preview_content .esg-filter-wrapper.dropdownstyle",function(){var e=jQuery(this);e.find(".esg-dropdown-wrapper").show(),e.find(".esg-selected-filterbutton").addClass("hovered")}),ESG.DOC.on("mouseleave","#nav_skin_preview_content .esg-filter-wrapper.dropdownstyle",function(){var e=jQuery(this);e.find(".esg-dropdown-wrapper").hide(),e.find(".esg-selected-filterbutton").removeClass("hovered")}),t.updateNavPreview=function(){for(var e in ESG.LIB.nav_skins){var t="";if(ESG.LIB.nav_skins[e].handle==ESG.C.navSkinSelector[0].value){t='<style id="nav_skin_preview_style">'+ESG.LIB.nav_skins[e].css.split("."+ESG.LIB.nav_skins[e].handle).join("#nav_skin_preview_content."+ESG.LIB.nav_skins[e].handle)+"</style>",ESG.C.navPreviewContent[0].className=ESG.LIB.nav_skins[e].handle;break}}ESG.C.navPreviewContent[0].innerHTML=t+ESG.LIB.buttonExamples,ESG.C.navStyle=jQuery("#nav_skin_preview_style")},ESG.C.skinEditorWrap=jQuery("#navigation-skin-css-edit-dialog-wrap"),t.checkDepricatedSkins=function(){for(var e in void 0!==ESG.C.navSkinSelector&&0!==ESG.C.navSkinSelector.length||(ESG.C.navSkinSelector=jQuery("#navigation-skin-select")),void 0!==ESG.C.navEditBTN&&0!==ESG.C.navEditBTN.length||(ESG.C.navEditBTN=jQuery("#eg-edit-navigation-skin")),void 0!==ESG.C.skinsTAB&&0!==ESG.C.skinsTAB.length||(ESG.C.skinsTAB=jQuery("#esg-skins-tab")),ESG.C.navEditBTN.removeClass("esg-needattention"),ESG.C.skinsTAB.removeClass("esg-needattention"),ESG.V.navEditTooltip=void 0===ESG.V.navEditTooltip?ESG.C.navEditBTN.data().tooltipster:ESG.V.navEditTooltip,ESG.C.navEditBTN[0].title=eg_lang.editnavinfo,void 0!==ESG.V.navEditTooltip&&(ESG.V.navEditTooltip.content=eg_lang.editnavinfo),ESG.LIB.nav_skins)if(ESG.LIB.nav_skins.hasOwnProperty(e)&&ESG.LIB.nav_skins[e].css.indexOf(".esg-navigationbutton:hover")>=0){var a=ESG.C.navSkinSelector.find('option[value="'+ESG.LIB.nav_skins[e].handle+'"]');a.length>0&&void 0!==a&&(a[0].innerHTML=ESG.LIB.nav_skins[e].name+" - Old Version"),ESG.LIB.nav_skins[e].handle===ESG.C.navSkinSelector[0].value&&(ESG.C.navEditBTN.addClass("esg-needattention"),ESG.C.skinsTAB.addClass("esg-needattention"),ESG.C.navEditBTN[0].title=eg_lang.editnavinfodep,void 0!==ESG.V.navEditTooltip&&(ESG.V.navEditTooltip.content=eg_lang.editnavinfodep))}t.updateNavPreview()},jQuery("#eg-create-navigation-skin").on("click",function(){t.open_navigation_skin_selector(!1)}),t.open_navigation_skin_selector=function(e,a){var i=void 0===e||!1===e||""===e||"false"==e,n=jQuery("#navigation-skin-css-selector"),o='<option value="" disabled selected>'+eg_lang.select_skin+"</option>",r=jQuery("#navigation-skin-css-name"),s=jQuery("#navigation-skin-css-class-name"),l=!1;for(var c in s[0].innerHTML=".auto-generated-classname",ESG.LIB.nav_originals)o+='<option value="'+ESG.LIB.nav_originals[c].handle+'">'+ESG.LIB.nav_originals[c].name+"</option>",e!==ESG.LIB.nav_originals[c].name&&e!==ESG.LIB.nav_originals[c].handle||(l=ESG.LIB.nav_originals[c].handle);if(n[0].innerHTML=o,!1!==l&&(n[0].value=l),i)tpGS.gsap.set(r,{pointerEvents:"auto"});else for(var c in tpGS.gsap.set(r,{pointerEvents:"none"}),ESG.LIB.nav_skins)if(e==ESG.LIB.nav_skins[c].handle){r[0].value=ESG.LIB.nav_skins[c].name,s[0].innerHTML="."+ESG.LIB.nav_skins[c].handle;break}r.on("change",function(){s[0].innerHTML="."+t.sanitize_input(this.value)}),jQuery("#navigation-skin-css-selector-dialog-wrap").dialog({modal:!0,draggable:!0,resizable:!1,width:482,height:285,closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog",buttons:[{text:i?eg_lang.create_nav_skin:eg_lang.reset_nav_skin,id:"create_nav_skin_from_template",click:function(){var a="";if(null==r[0].value)return!1;if(r[0].value.length<2)return alert(eg_lang.skin_name_too_short),!1;var o=i?t.sanitize_input(r[0].value):e;if(i)for(var s in ESG.LIB.nav_skins)if(ESG.LIB.nav_skins[s].handle==o)return alert(eg_lang.skin_name_already_registered),!1;for(var l in ESG.LIB.nav_originals)if(n[0].value==ESG.LIB.nav_originals[l].handle){a=ESG.LIB.nav_originals[l].css.split("."+n[0].value).join("."+o);break}if(""===a)return alert(eg_lang.select_skin_template),!1;t.open_navigation_skin_dialog(o,n[0].value,!0,a),jQuery("#navigation-skin-css-selector-dialog-wrap").dialog("close")}}],open:function(){ESG.C.skinEditorWrap.closest(".ui-dialog").hide()},close:function(){a&&(ESG.C.skinEditorWrap.closest(".ui-dialog").show(),ESG.CM.navCSS.refresh())}})},t.open_navigation_skin_dialog=function(e,a,i,n){var o=!1,r=!1;if(ESG.V.openedNavSkinHandle=e,""!==n&&void 0!==n){for(var s in ESG.CM.navCSS.setValue(n),r=n.indexOf(".esg-navigationbutton:hover")>=0,ESG.LIB.nav_skins)if(ESG.LIB.nav_skins[s].handle==e){o=ESG.LIB.nav_skins[s].id;break}}else for(var s in ESG.LIB.nav_skins)if(ESG.LIB.nav_skins[s].handle==e){ESG.CM.navCSS.setValue(ESG.LIB.nav_skins[s].css),o=ESG.LIB.nav_skins[s].id,r=ESG.LIB.nav_skins[s].css.indexOf(".esg-navigationbutton:hover")>=0;break}ESG.C.navPreviewContent[0].className=ESG.V.openedNavSkinHandle,ESG.C.skinEditorWrap.dialog({modal:!0,draggable:!0,resizable:!1,width:832,closeOnEscape:!0,buttons:[{text:eg_lang.reset_nav_skin,id:"reset_to_nav_skin_button",click:function(){t.open_navigation_skin_selector(e,!0)}},{text:eg_lang.save_nav_skin,id:"save_navigation_skin_button",click:function(){var a={skin_css:ESG.CM.navCSS.getValue()};!1!==o?a.sid=o:a.name=e,AdminEssentials.ajaxRequest("update_create_navigation_skin_css",a,".ui-button",function(a){if(1==a.success){if(!1!==o)var i=ESG.C.navSkinSelector[0].value;else i=t.sanitize_input(e);jQuery("#navigation-styling-css-wrapper").html(a.css),ESG.C.navSkinSelector[0].innerHTML=a.select,ESG.C.navSkinSelector[0].value=i,t.changePreviewGrid(),ESG.LIB.nav_skins=jQuery.extend({},a.default_skins),jQuery("#navigation-skin-css-edit-dialog-wrap").dialog("close"),t.checkDepricatedSkins()}})}}],dialogClass:"wp-dialog esg_skin_editor_wrap esg_dialog",open:function(){r?jQuery("#reset_to_nav_skin_button").addClass("esg-needattention"):jQuery("#reset_to_nav_skin_button").removeClass("esg-needattention"),ESG.C.skinEditorWrap.prepend(ESG.C.navPreview)},close:function(){ESG.C.navPreviewWrap.append(ESG.C.navPreview),t.updateNavPreview()}}),ESG.CM.navCSS.refresh()},ESG.CM.navCSS=ESGMirror.fromTextArea(document.getElementById("eg-navigation-skin-css-editor"),{mode:"css",theme:"base16-light",lineWrapping:!1,lineNumbers:!0,scrollbarStyle:"native"}),ESG.CM.navCSS.on("change",function(){clearTimeout(ESG.V.navCSSCTimer),ESG.V.navCSSCTimer=setTimeout(function(){var e=ESG.CM.navCSS.getValue();ESG.C.navStyle[0].innerHTML=e.split("."+ESG.V.openedNavSkinHandle).join("#nav_skin_preview_content."+ESG.V.openedNavSkinHandle)},200)}),ESG.CM.navCSS.setSize(832,467),jQuery(".eg-navigation-drop-inner, .eg-navigation-cons-wrapper").sortable({connectWith:".eg-navigation-drop-inner, .eg-navigation-cons-wrapper",revert:!0,over:function(e,t){jQuery(this).addClass("eg-navigation-drop-inner-hovered")},stop:function(e,t){jQuery(this).removeClass("eg-navigation-drop-inner-hovered")},receive:function(e,a){if(1==a.item.closest("#eg-navigations-sort-external").length){if(0==a.item.find(".eg-filter-sc").length){var i=ESG.C.navSkinSelector.clone().wrap("<div></div>");i.attr("id",""),i.attr("name","navigation-special-skin[]");var n='<div class="eg-filter-sc"><input class="filter-shortcode-filter" type="text" readonly="readonly" data-num="'+a.item.data("navtype")+'" /><input type="text" name="navigation-special-class[]" value="" />';n+=i.parent().html(),n+="</div>",a.item.append(n),t.updateShortcode()}}else 1==a.item.closest(".eg-navigation-default-wrap").length&&jQuery(".eg-stay-last-element").appendTo(".eg-navigation-default-wrap"),1==a.item.find(".eg-filter-sc").length&&a.item.find(".eg-filter-sc").remove()},out:function(e,t){jQuery(this).removeClass("eg-navigation-drop-inner-hovered")}}),jQuery(".eg-media-source-order-wrap .eg-media-source-order").tpsortable({}),jQuery("body").on("click",".eg-btn-activate-post-item",function(){var e=jQuery(this).attr("id").replace("eg-act-post-item-",""),t=jQuery('input[name="eg-id"]').val(),a={post_id:e,grid_id:t};AdminEssentials.ajaxRequest("trigger_post_meta_visibility",a,".eg-btn-activate-post-item",function(t){t.success,1==t.success&&(jQuery("#eg-act-post-item-"+e).children().hasClass("eg-icon-eye")?(jQuery("#eg-act-post-item-"+e).children().removeClass("eg-icon-eye").addClass("eg-icon-eye-off"),jQuery("#eg-act-post-item-"+e).removeClass("esg-blue").addClass("esg-red")):(jQuery("#eg-act-post-item-"+e).children().removeClass("eg-icon-eye-off").addClass("eg-icon-eye"),jQuery("#eg-act-post-item-"+e).removeClass("esg-red").addClass("esg-blue")))})}),ESG.LIB.postChangesDueEditor={},ESG.LIB.postChangesDueEditorHTMLCache={},ESG.C.egMetaBox=jQuery("#eg-meta-box"),ESG.F.postMetaEditorDialog=function(e,a,i){var n=document.getElementById("eg-form-post-meta-settings");if(n&&n.reset(),ESG.C.egMetaBox.html(e),void 0!==ESG.LIB.postChangesDueEditor[i])for(var o in ESG.LIB.postChangesDueEditor[i].metas)if(ESG.LIB.postChangesDueEditor[i].metas.hasOwnProperty(o)){var r=ESG.C.egMetaBox.find('[name="'+o+'"]');if(void 0!==r&&r.length>0)switch(r[0].tagName){case"INPUT":case"SELECT":r[0].value=ESG.LIB.postChangesDueEditor[i].metas[o]}}jQuery("#post-meta-dialog-wrap").dialog({modal:!0,draggable:!0,resizable:!1,width:850,height:600,closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog",buttons:[{text:eg_lang.update_element,id:"post_meta_dialog_update_button",click:function(){ESG.LIB.postChangesDueEditor[i]={metas:t.getFormParams("eg-form-post-meta-settings")},ESG.LIB.postChangesDueEditor[i].metas.grid_id=jQuery('input[name="eg-id"]').val(),ESG.LIB.postChangesDueEditorHTMLCache[i]=jQuery("#eg-meta-box").html(),document.getElementById("eg-form-post-meta-settings").reset(),jQuery("#post-meta-dialog-wrap").dialog("close"),a.addClass("esg-needattention_item"),ESG.C.saveButtonWrap.addClass("esg-needattention_item")}}]})},jQuery("body").on("click",".eg-btn-edit-post-item",function(){var e=jQuery(this),t=e.attr("id").replace("eg-edit-post-item-",""),a=jQuery('input[name="eg-id"]').val(),i={post_id:t,grid_id:a};void 0!==ESG.LIB.postChangesDueEditorHTMLCache[t]?ESG.F.postMetaEditorDialog(ESG.LIB.postChangesDueEditorHTMLCache[t],e,t):AdminEssentials.ajaxRequest("get_post_meta_html_for_editor",i,".eg-btn-edit-post-item",function(a){a.success,1==a.success&&ESG.F.postMetaEditorDialog(a.data.html,e,t)})}),t.buildCustomCategories=function(){var e=jQuery("#esg-preview-grid").find(".esg-items-datas"),t=[];for(var a in jQuery(".eg-filter-selected:checked").each(function(){t.push(jQuery(this).val())}),ESG.S.customFilters=void 0===ESG.S.customFilters?[]:ESG.S.customFilters,e)if(e.hasOwnProperty(a)){var i=e[a].value;if(void 0!==i&&i.length>0&&void 0!==(i=JSON.parse(i))["custom-filter"]){var n=i["custom-filter"].split(",");for(var o in n)-1===jQuery.inArray(n[o],ESG.S.customFilters)&&ESG.S.customFilters.push(n[o])}}ESG.F.updateCategorylistsInFilters()},jQuery("body").on("essentialready",function(e,a){"esg-preview-grid"===a&&"custom"===ESG.S.STYPE&&t.buildCustomCategories()});var u=!1;ESG.DOC.on("change",'input[name="source-type"]',function(){var e=ESG.S.STYPE;ESG.S.STYPE=this.value;var a="post"===ESG.S.STYPE||"custom"===ESG.S.STYPE?"removeClass":"addClass";switch(jQuery("body")[a]("hide-esg-item-settings"),jQuery("body").removeClass("hide-custom-options"),ESG.S.STYPE){case"post":jQuery("#post-pages-wrap").show(),jQuery("#set-pages-wrap").show(),jQuery(".filter-only-for-post").show(),jQuery(".available-filters-in-group").show(),jQuery("#aditional-pages-wrap").show(),jQuery("#custom-sorting-wrap").hide(),jQuery("#custom-element-add-elements-wrapper").hide(),jQuery("#all-stream-wrap").hide(),jQuery("#media-source-order-wrap").show(),jQuery("#media-source-sizes").show(),jQuery("#all-nextgen-wrap").hide(),jQuery("#all-rml-wrap").hide(),ESG.F.updateCategorylistsInFilters();break;case"custom":"custom"!==e&&void 0!==e&&jQuery(".eg-filter-selected-order-wrap").html(""),jQuery("#post-pages-wrap").hide(),jQuery("#set-pages-wrap").hide(),jQuery(".filter-only-for-post").hide(),jQuery(".available-filters-in-group").show(),jQuery("#aditional-pages-wrap").hide(),jQuery("#custom-sorting-wrap").show(),jQuery("#custom-element-add-elements-wrapper").show(),jQuery("#media-source-order-wrap").show(),jQuery("#media-source-sizes").show(),jQuery("#all-stream-wrap").hide(),jQuery("#all-nextgen-wrap").hide(),jQuery("#all-rml-wrap").hide();break;case"stream":jQuery("#post-pages-wrap").hide(),jQuery("#set-pages-wrap").hide(),jQuery(".filter-only-for-post").hide(),jQuery(".available-filters-in-group").hide(),jQuery("#aditional-pages-wrap").hide(),jQuery("#custom-sorting-wrap").hide(),jQuery("#custom-element-add-elements-wrapper").hide(),jQuery("#all-stream-wrap").show(),jQuery("#media-source-sizes").hide(),jQuery('input[name="stream-source-type"]:checked').change(),jQuery("#all-nextgen-wrap").hide(),jQuery("#all-rml-wrap").hide(),jQuery("body").addClass("hide-custom-options");break;case"nextgen":jQuery("#post-pages-wrap").hide(),jQuery("#set-pages-wrap").hide(),jQuery(".filter-only-for-post").hide(),jQuery(".available-filters-in-group").hide(),jQuery("#aditional-pages-wrap").hide(),jQuery("#custom-sorting-wrap").hide(),jQuery("#custom-element-add-elements-wrapper").hide(),jQuery("#media-source-order-wrap").show(),jQuery("#all-stream-wrap").hide(),jQuery("#media-source-sizes").hide(),jQuery("#select-grids-wrap").hide(),jQuery("#all-nextgen-wrap").show(),jQuery('input[name="nextgen-source-type"]:checked').change(),jQuery("#media-source-filter").show(),jQuery("#media-source-default-templates").show(),jQuery("body").addClass("hide-custom-options");break;case"rml":jQuery("#post-pages-wrap").hide(),jQuery("#set-pages-wrap").hide(),jQuery(".filter-only-for-post").hide(),jQuery(".available-filters-in-group").hide(),jQuery("#aditional-pages-wrap").hide(),jQuery("#custom-sorting-wrap").hide(),jQuery("#custom-element-add-elements-wrapper").hide(),jQuery("#media-source-order-wrap").show(),jQuery("#all-stream-wrap").hide(),jQuery("#all-nextgen-wrap").hide(),jQuery("#media-source-sizes").hide(),jQuery("#select-grids-wrap").hide(),jQuery("#all-rml-wrap").show(),jQuery("#media-source-filter").show(),jQuery("#media-source-default-templates").show(),jQuery("body").addClass("hide-custom-options")}"custom"!==ESG.S.STYPE?jQuery(".eg-blankitem-hideable").hide():jQuery(".eg-blankitem-hideable").show(),1==u?t.changePreviewGrid(!0):u=!0}),jQuery('input[name="source-type"]:checked').change(),jQuery('input[name="stream-source-type"]').change(function(){if("stream"!=ESG.S.STYPE)return!1;var e=jQuery(this).val();switch(jQuery("[id$='-external-stream-wrap']").hide(),jQuery("#"+e+"-external-stream-wrap").show(),jQuery("#eg-source-youtube-message,#eg-source-vimeo-message").hide(),e){case"vimeo":jQuery('input[name="vimeo-type-source"]:checked').change(),jQuery("#eg-source-vimeo-message").show();break;case"youtube":jQuery('input[name="youtube-type-source"]:checked').change(),jQuery("#eg-source-youtube-message").show();break;case"facebook":jQuery('input[name="facebook-type-source"]:checked').change();break;case"flickr":jQuery('input[name="flickr-type"]:checked').change();break;case"behance":jQuery('input[name="behance-type"]:checked').trigger("click")}for(var t=["imso","lbo","ajo"],a=0;a<3;a++)-1!==e.search(/youtube|vimeo/)?(jQuery("#"+t[a]+'-list input[value!="'+e+'"]').prop("checked",!1),jQuery("#"+t[a]+'-list input[value="'+e+'"]').prop("checked",!0)):jQuery("#"+t[a]+'-list input[value="featured-image"]').prop("checked",!0)}),jQuery('input[name="stream-source-type"]:checked').change(),jQuery('input[name="vimeo-type-source"]').change(function(){if("stream"!=ESG.S.STYPE)return!1;if("vimeo"!=jQuery('input[name="stream-source-type"]:checked').val())return!1;var e=jQuery(this).val();jQuery(".eg-external-source-vimeo").hide(),jQuery("#eg-external-source-vimeo-"+e+"-wrap").show();try{1==u?t.changePreviewGrid(!0):u=!0}catch(e){}}),jQuery('input[name="vimeo-type-source"]:checked').change(),jQuery('input[name="vimeo-count"]').change(function(){jQuery('input[name="vimeo-count"]').val()>60&&jQuery('input[name="vimeo-count"]').val(60)}),jQuery('input[name="youtube-type-source"]').change(function(){if("stream"!=ESG.S.STYPE)return!1;if("youtube"!=jQuery('input[name="stream-source-type"]:checked').val())return!1;if("playlist"==jQuery(this).val()){jQuery("#eg-external-source-youtube-playlist-wrap").show();var e={api:jQuery("#youtube-api").val(),id:jQuery("#youtube-channel-id").val(),playlist:jQuery("#youtube-playlist").val()};AdminEssentials.ajaxRequest("get_youtube_playlists",e,"#youtube-playlist-select",function(e){jQuery("#youtube-playlist-select").html(e.data.html).show(),jQuery("#youtube-playlist-select").val(jQuery("input[name=youtube-playlist]").val())})}else jQuery("#eg-external-source-youtube-playlist-wrap").hide();try{1==u?t.changePreviewGrid(!0):u=!0}catch(e){}}),jQuery('input[name="youtube-type-source"]:checked').change(),jQuery("#youtube-playlist-select").change(function(){jQuery("input[name=youtube-playlist]").val(jQuery("#youtube-playlist-select").val())}),jQuery('input[name="youtube-channel-id"]').change(function(){"playlist"==jQuery('input[name="youtube-type-source"]:checked').val()&&jQuery('input[name="youtube-type-source"]:checked').change()}),jQuery('input[name="flickr-type"]').change(function(){if("stream"!=ESG.S.STYPE)return!1;if("flickr"!=jQuery('input[name="stream-source-type"]:checked').val())return!1;var e=jQuery(this).val();switch(jQuery("#eg-external-source-flickr-sources div").hide(),e){case"publicphotos":jQuery("#eg-external-source-flickr-publicphotos-url-wrap").show();break;case"photosets":var a={key:jQuery("input[name=flickr-api-key").val(),count:jQuery("input[name=flickr-count").val(),url:jQuery("input[name=flickr-user-url").val(),set:jQuery("input[name=flickr-photoset]").val()};AdminEssentials.ajaxRequest("get_flickr_photosets",a,"select[name=flickr-photoset-select]",function(e){jQuery("select[name=flickr-photoset-select]").html(e.data.html).show(),jQuery("#eg-external-source-flickr-publicphotos-url-wrap").show(),jQuery("#eg-external-source-flickr-photosets-wrap .div13").show(),jQuery("input[name=flickr-photoset").val(jQuery("select[name=flickr-photoset-select]").val())}),jQuery("#eg-external-source-flickr-photosets-wrap").show();break;case"gallery":jQuery("#eg-external-source-flickr-gallery-url-wrap").show();break;case"group":jQuery("#eg-external-source-flickr-group-url-wrap").show()}try{1==u?t.changePreviewGrid(!0):u=!0}catch(e){}}),jQuery('input[name="flickr-type"]:checked').change(),jQuery("input[name=flickr-user-url").change(function(){var e={key:jQuery("input[name=flickr-api-key").val(),count:jQuery("input[name=flickr-count").val(),url:jQuery("input[name=flickr-user-url").val(),set:jQuery("input[name=flickr-photoset]").val()};AdminEssentials.ajaxRequest("get_flickr_photosets",e,"select[name=flickr-photoset-select]",function(e){jQuery("select[name=flickr-photoset-select]").html(e.data.html).show(),jQuery("input[name=flickr-photoset").val(jQuery("select[name=flickr-photoset-select]").val())})}),jQuery("select[name=flickr-photoset-select]").change(function(){jQuery("input[name=flickr-photoset]").val(jQuery("select[name=flickr-photoset-select]").val())}),jQuery('input[name="facebook-type-source"]').change(function(){if("stream"!=ESG.S.STYPE)return!1;if("facebook"!=jQuery('input[name="stream-source-type"]:checked').val())return!1;if("album"==jQuery(this).val()){var e={url:jQuery("input[name=facebook-page-url]").val(),album:jQuery("input[name=facebook-album]").val(),access_token:jQuery("input[name=facebook-access-token]").val()};AdminEssentials.ajaxRequest("get_facebook_photosets",e,"select[name=facebook-album-select]",function(e){jQuery("select[name=facebook-album-select]").html(e.data.html).show(),jQuery("input[name=facebook-album").val(jQuery("select[name=facebook-album-select]").val())}),jQuery("#eg-external-source-facebook-album-wrap").show()}else jQuery("#eg-external-source-facebook-album-wrap").hide();try{1==u?t.changePreviewGrid(!0):u=!0}catch(e){}}),jQuery('input[name="facebook-type-source"]:checked').change(),jQuery("select[name=facebook-album-select]").change(function(){jQuery("input[name=facebook-album]").val(jQuery("select[name=facebook-album-select]").val())}),jQuery('input[name="facebook-page-url"]').change(function(){jQuery('input[name="facebook-type-source"]:checked').change()}),jQuery('input.instagram-type-source, input.instagram-auth, input[name="stream-source-type"]').on("click",function(){t.checkInstagramSourceType()}),t.checkInstagramSourceType(),jQuery('input[name="behance-type"]').on("click",function(){if("stream"!=ESG.S.STYPE)return!1;if("behance"!=jQuery('input[name="stream-source-type"]:checked').val())return!1;if("project"==jQuery(this).val()){var e={userid:jQuery("#behance-user-id").val(),project:jQuery("input[name=behance-project]").val(),api:jQuery("input[name=behance-api]").val()};AdminEssentials.ajaxRequest("get_behance_projects",e,"select[name=behance-project]",function(e){jQuery("select[name=behance-project-select]").html(e.data.html).show(),jQuery("input[name=behance-project").val(jQuery("select[name=behance-project-select]").val())}),jQuery("#eg-external-source-behance-projects-images-wrap").hide(),jQuery("#eg-external-source-behance-project-wrap,#eg-external-source-behance-project-images-wrap").show()}else jQuery("#eg-external-source-behance-project-wrap,#eg-external-source-behance-project-images-wrap").hide(),jQuery("#eg-external-source-behance-projects-images-wrap").show();try{1==u?t.changePreviewGrid(!0):u=!0}catch(e){}}),jQuery('input[name="behance-type"]:checked').trigger("click"),jQuery("select[name=behance-project-select]").change(function(){jQuery("input[name=behance-project]").val(jQuery("select[name=behance-project-select]").val())}),jQuery('input[name="nextgen-source-type"]').change(function(){if(jQuery("body").addClass("hide-custom-options"),"nextgen"!=ESG.S.STYPE)return!1;var e=jQuery(this).val();jQuery(".nextgen-source").hide(),jQuery("#eg-nextgen-"+e+"-wrap").show()}),jQuery('input[name="nextgen-source-type"]:checked').change(),jQuery(".eg-clear-cache").on("click",function(){t.clearStreamCache(jQuery(this))}),jQuery('input[name="filter-listing"]').change(function(){"list"==jQuery(this).val()?jQuery(".filter-only-if-dropdown").hide():jQuery(".filter-only-if-dropdown").show()}),jQuery('input[name="filter-listing"]:checked').change(),jQuery('input[name="poster-source-order[]"]').change(function(){$this=jQuery(this);var e=new Array;jQuery.each(jQuery("input[name='poster-source-order[]']:checked"),function(){e.push(jQuery(this).val())}),e.indexOf("default-youtube-image")>-1?jQuery("#eg-youtube-default-poster").show():jQuery("#eg-youtube-default-poster").hide(),e.indexOf("default-vimeo-image")>-1?jQuery("#eg-vimeo-default-poster").show():jQuery("#eg-vimeo-default-poster").hide(),e.indexOf("default-html-image")>-1?jQuery("#eg-html5-default-poster").show():jQuery("#eg-html5-default-poster").hide()}),jQuery('input[name="poster-source-order[]"]').change(),t.reset_custom_fields=function(){for(var e in s)switch(s[e].type){case"input":var t=void 0!==s[e].default?s[e].default:"";jQuery('input[name="'+s[e].name+'"]').val(t);break;case"select":case"multi-select":t=void 0!==s[e].default?s[e].default:jQuery('select[name="'+s[e].name+'"] option:first-child').prop("selected","selected");jQuery('select[name="'+s[e].name+'"] option[value="'+t+'"]').prop("selected","selected");break;case"textarea":t=void 0!==s[e].default?s[e].default:"";jQuery('textarea[name="'+s[e].name+'"]').val(t);break;case"image":jQuery('input[name="'+s[e].name+'"]').val(""),jQuery("#"+s[e].name+"-img").attr("src",""),jQuery("#"+s[e].name+"-img").hide()}},t.remove_hightlighting=function(){jQuery("div").removeClass("eg-elset-row-highlight")},jQuery("body").on("click",".eg-btn-duplicate-custom-element",function(){var e=jQuery(this).closest("li").find(".esg-items-datas").val();jQuery("#esg-preview-wrapping-wrapper").prepend('<input id="eg-new-temp-layer" class="esg-new-temp-layer esg-items-datas" name="layers[]" type="hidden" values="" />'),jQuery("#eg-new-temp-layer").val(e),t.changePreviewGrid(!0)}),jQuery("body").on("click",".eg-btn-edit-custom-element",function(){var e=jQuery(this).closest("li"),a=e.find(".esg-items-datas").val();void 0===(a=JSON.parse(a))["custom-type"]&&(a["custom-type"]="image");var i=e.hasClass("eg-esgblankskin-wrapper")?"blank":a["custom-type"];jQuery("body").removeClass("esg-custom-dialog-blank"),t.open_custom_element_dialog(i,a,jQuery(this).closest("li").find(".esg-items-datas"))}),jQuery("body").on("click",".esg-open-edit-dialog",function(){var e=jQuery(this).attr("id").replace("esg-add-new-custom-","").replace("-top","");jQuery("body").removeClass("esg-custom-dialog-blank"),"image"==e?(t.updateEditedCustomFilterList(!0),ESG.S.customFilterBulk=void 0===ESG.S.customFilterBulk?"":ESG.S.customFilterBulk,jQuery("#custom-element-image-dialog-wrap").dialog({modal:!0,draggable:!0,resizable:!1,width:450,height:"auto",closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog",buttons:[{text:eg_lang.single,id:"single_image_addition",click:function(){jQuery("#eg-custom-item-options").find("input.custom-filter-hiddeninput").val(ESG.S.customFilterBulk),t.open_custom_element_dialog(e,!1),jQuery(this).dialog("close")}},{text:eg_lang.bulk,id:"bulk_image_addition",click:function(){t.add_custom_grid_multiple_images(),jQuery(this).dialog("close")}}]})):t.open_custom_element_dialog(e,!1)}),ESG.DOC.on("click","#edit-custom-element-dialog-wrap .eg-option-tabber",function(){var e=jQuery(this),t=jQuery(".eg-option-tabber.selected");t.removeClass("selected"),e.addClass("selected"),jQuery(t.data("target")).fadeOut(0),jQuery(e.data("target")).fadeIn(200)}),ESG.LIB.changedItemIds=[],ESG.C.saveButtonWrap=jQuery("#eg-btn-save-grid").closest(".sws-toolbar-button"),t.updateElementEditing=function(e,a,i){var n=t.getFormParams("edit-custom-element-form");n.hasOwnProperty("eg-custom-meta-skin")&&(n.eg_settings_custom_meta_skin=n["eg-custom-meta-skin"],delete n["eg-custom-meta-skin"],n.hasOwnProperty("eg-custom-meta-element")&&(n.eg_settings_custom_meta_element=n["eg-custom-meta-element"],delete n["eg-custom-meta-element"]),n.hasOwnProperty("eg-custom-meta-setting")&&(n.eg_settings_custom_meta_setting=n["eg-custom-meta-setting"],delete n["eg-custom-meta-setting"]),n.hasOwnProperty("eg-custom-meta-style")&&(n.eg_settings_custom_meta_style=n["eg-custom-meta-style"],delete n["eg-custom-meta-style"]),n.post_id||(n.post_id="esg-item-"+parseInt(1e4*Math.random(),10)));var o=JSON.stringify(n);if(!1===a)jQuery("#esg-preview-wrapping-wrapper").prepend('<input id="eg-new-temp-layer" class="esg-new-temp-layer esg-items-datas" name="layers[]" type="hidden" values="" />'),jQuery("#eg-new-temp-layer").val(o),ESG.C.saveButtonWrap.addClass("esg-needattention_item");else{var r=e.closest("li");-1===jQuery.inArray(r[0].id,ESG.LIB.changedItemIds)&&ESG.LIB.changedItemIds.push(r[0].id),r.find(".eg-ov-2.eg-overview-button").addClass("esg-needattention_item"),ESG.C.saveButtonWrap.addClass("esg-needattention_item"),e.val(o)}jQuery("#edit-custom-element-dialog-wrap").dialog("close"),i?t.changePreviewGrid(!0):t.showWaitAMinute({fadeOut:300})},t.open_custom_element_dialog=function(e,a,i){t.reset_custom_dialog(),t.remove_hightlighting(),jQuery(".esg-item-skin-elements").hide(),jQuery(".esg-item-skin-media-title").show();var n=eg_lang.add_element,r=eg_lang.add_element;switch(jQuery('input[name="custom-type"]').val(e),e){case"youtube":jQuery("#esg-item-skin-elements-media-youtube").show(),jQuery("#esg-item-skin-elements-media-image").show(),jQuery("#esg-item-skin-elements-media-ratio").show();break;case"vimeo":jQuery("#esg-item-skin-elements-media-vimeo").show(),jQuery("#esg-item-skin-elements-media-image").show(),jQuery("#esg-item-skin-elements-media-ratio").show();break;case"soundcloud":jQuery("#esg-item-skin-elements-media-sound").show(),jQuery("#esg-item-skin-elements-media-image").show(),jQuery("#esg-item-skin-elements-media-ratio").show();break;case"html5":jQuery("#esg-item-skin-elements-media-html5").show(),jQuery("#esg-item-skin-elements-media-image").show(),jQuery("#esg-item-skin-elements-media-ratio").show();break;case"image":jQuery("#esg-item-skin-elements-media-image").show();break;case"text":jQuery(".esg-item-skin-media-title").hide();break;case"blank":jQuery("body").addClass("esg-custom-dialog-blank")}var s=jQuery("#esg-template-wrapper .esg-data-handler").data("exists");for(var l in s)jQuery('#edit-custom-element-form input[name="'+l+'"]').val(s[l]),jQuery('#edit-custom-element-form input[name="'+l+'"]').closest("div").addClass("eg-elset-row-highlight");if(!1!==a){n=eg_lang.edit_element,r=eg_lang.update_element_refresh;t.set_custom_dialog_fields(a)}if(t.updateEditedCustomFilterList(),"blank"!==e)jQuery("#custom_media_settings_menu_media").trigger("click");else{jQuery("#custom_media_settings_menu_itemsettings").trigger("click");var c,u=jQuery('select[name="use-skin"]');u.children("option").each(function(){var e=jQuery(this);if("esgblankskin"===ESG.F.trim(e.text().replace(" ","").toLowerCase()))return c=e.val(),!1}),u.val(c)}var d=[];d.push({text:r,id:"custom_element_edit_save",click:function(){t.updateElementEditing(i,a,!0)}}),!1!==a&&d.push({text:eg_lang.update_element,id:"custom_element_edit_save_norefresh",click:function(){t.updateElementEditing(i,a,!1)}}),jQuery("#edit-custom-element-dialog-wrap").dialog({modal:!0,draggable:!0,resizable:!1,title:n,width:850,height:600,closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog",buttons:d,create:function(){jQuery(this).closest("div.ui-dialog").find(".ui-dialog-titlebar-close").on("click",function(e){t.showWaitAMinute({fadeOut:300}),e.preventDefault()})}}),jQuery(".eg-advanced-param").empty();var p,g=[];if(a.eg_settings_custom_meta_skin){p=a.eg_settings_custom_meta_skin.length;for(var h=0;h<p;h++)g[h]={},g[h].skin=a.eg_settings_custom_meta_skin[h],g[h].element=a.eg_settings_custom_meta_element[h],g[h].setting=a.eg_settings_custom_meta_setting[h],g[h].style=a.eg_settings_custom_meta_style[h]}o=g,t.initMetaBox("custom")},t.updateEditedCustomFilterList=function(e){if(e=void 0===e?"":"-bulk","custom"===ESG.S.STYPE){var t=jQuery(".custom-filter-list"+e),a="",i=jQuery(".custom-filter-hiddeninput"+e).val().split(",");for(var n in ESG.S.customFilters)a+='<option value="'+n+'">'+ESG.S.customFilters[n]+"</option>";t.html(a),t.find("option").each(function(){jQuery.inArray(this.innerHTML,i)>=0&&(this.selected=!0)})}},ESG.DOC.on("change",".custom-filter-list",function(){var e=[];for(var t of this.options)t.selected&&e.push(ESG.S.customFilters[t.value]);e=e.join(","),jQuery(".custom-filter-hiddeninput").val(e)}),ESG.DOC.on("change",".custom-filter-list-bulk",function(){var e=[];for(var t of this.options)t.selected&&e.push(ESG.S.customFilters[t.value]);e=e.join(","),jQuery(".custom-filter-hiddeninput-bulk").val(e),ESG.S.customFilterBulk=e}),jQuery("body").on("click",".eg-btn-move-before-custom-element, .eg-btn-move-after-custom-element, .eg-btn-switch-custom-element",function(){var e,a=jQuery(this),i=a.closest("li");a.hasClass("eg-btn-move-before-custom-element")?(e=i.index(),i.insertBefore(i.parent().find(">li:nth-child("+e+")"))):a.hasClass("eg-btn-move-after-custom-element")?((e=i.index()+2)>=i.parent().find(">li").length&&(e=i.parent().find(">li").length-1),i.insertAfter(i.parent().find(">li:nth-child("+e+")"))):a.hasClass("eg-btn-switch-custom-element")&&(e=parseInt(prompt(eg_lang.enter_position,1)))>=0&&e<99999&&(e>=i.parent().find(">li").length&&(e=i.parent().find(">li").length-1),i.insertAfter(i.parent().find(">li:nth-child("+e+")"))),t.resetCustomItemValues(),t.changePreviewGrid()}),t.resetCustomItemValues=function(){"custom"==ESG.S.STYPE&&jQuery("#esg-preview-skinlevel").find("ul >li").each(function(){var e=jQuery(this);e.find(".eg-order-nr").remove(),e.hasClass("eg-addnewitem-wrapper")||e.append('<div class="eg-order-nr">'+(e.index()+1)+"</div>")})},t.reset_custom_dialog=function(){t.reset_custom_fields(),jQuery("#esg-custom-image-img").attr("src",""),jQuery("#esg-custom-image-img").hide(),document.getElementById("edit-custom-element-form").reset()},t.set_custom_dialog_fields=function(e){document.getElementById("edit-custom-element-form");for(var a in e){var i=document.getElementsByName(a);if(void 0!==i[0])switch(i[0].tagName){case"INPUT":if(jQuery('input[name="'+a+'"]').val(e[a]),(n=jQuery("#esg-"+a+"-img")).length||(n=jQuery("#"+a+"-cm-img")),0===n.length)var n=jQuery("#"+a+"-img");if(n.length>0&&parseInt(e[a])>0){var o={img_id:e[a]};t.ajaxRequest("get_image_by_id",o,"",function(e,t){e.success,1==e.success&&(t.attr("src",e.url),t.show())},n)}break;case"SELECT":jQuery('select[name="'+a+'"] option[value="'+e[a]+'"]').prop("selected","selected")}}},jQuery("body").on("click",".eg-btn-delete-custom-element",function(){confirm(eg_lang.remove_this_element)&&(jQuery(this).closest("li").remove(),jQuery("#esg-preview-grid").esappend(),t.resetCustomItemValues(),t.changePreviewGrid())}),t.checkEvenMasonryInput(),t.skinSelectorFakes(),t.lightboxLayoutDependencies(),t.lightboxLayoutEvents(),t.changeAddElementTitles(),jQuery('input[name="nagivation-type"]').change(function(){switch(jQuery("#es-ng-layout-wrapper").hide(),jQuery("#es-ng-external-wrapper").hide(),jQuery("#es-ng-widget-wrapper").hide(),jQuery(this).val()){case"internal":jQuery("#es-ng-layout-wrapper").show();break;case"external":jQuery("#es-ng-external-wrapper").show();break;case"widget":jQuery("#es-ng-widget-wrapper").show()}}),jQuery('input[name="nagivation-type"]:checked').change(),ESG.CM.apiJS=ESGMirror.fromTextArea(document.getElementById("eg-api-custom-javascript"),{mode:"javascript",theme:"base16-light",lineWrapping:!1,lineNumbers:!0,scrollbarStyle:"native"}),ESG.CM.apiJS.setSize("auto",250),ESG.CM.ajaxCSS=ESGMirror.fromTextArea(document.getElementById("eg-ajax-custom-css"),{mode:"css",theme:"base16-light",lineWrapping:!1,lineNumbers:!0,scrollbarStyle:"native"}),ESG.CM.ajaxCSS.setSize("auto",250),jQuery(".eg-api-inputs").on("click",function(){jQuery(this).trigger("select").trigger("focus")}),jQuery(".eg-default-image-add,.eg-youtube-default-image-add,.eg-vimeo-default-image-add,.eg-html-default-image-add").on("click",function(e){return e.preventDefault(),AdminEssentials.upload_image_img(jQuery(this).data("setto")),!1}),jQuery(".eg-default-image-clear,.eg-youtube-default-image-clear,.eg-vimeo-default-image-clear,.eg-html-default-image-clear").on("click",function(e){e.preventDefault();var t=jQuery(this).data("setto");return jQuery("#"+t).val(""),jQuery("#"+t+"-img").attr("src",""),jQuery("#"+t+"-img").hide(),!1}),jQuery(".eg-clear-taxonomies").on("click",function(){ESG.C.postCategory.val([]).change()}),jQuery("body").on("click",".eg-filter-add-custom-filter, .add_new_custom_category_quick",function(){if("post"===ESG.S.STYPE){jQuery("#eg-filter-select-box").html("");var e=ESG.C.postCategory.val(),a=jQuery("#eg-filter-select-box");for(var i in eg_filter_handles){var n=new Option(eg_filter_handles[i],i);0!=i.indexOf("option_disabled")&&-1===jQuery.inArray(i,e)||jQuery(n).prop("disabled","disabled"),void 0!==eg_filter_handles_selected[i]&&jQuery(n).prop("selected","selected"),a.append(n)}for(i in a.append(jQuery("<option disabled>---- Custom Metas ----</option>")),eg_meta_handles)a.append(jQuery('<option value="'+i+'">'+eg_meta_handles[i]+"</option>"));jQuery("#filter-select-dialog-wrap").dialog({modal:!0,resizable:!1,draggable:!0,width:440,height:"auto",closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog",buttons:[{text:eg_lang.save_changes,id:"filter-select-dialog-save",click:function(){eg_filter_handles_selected={},jQuery("#eg-filter-select-box option:selected").each(function(){eg_filter_handles_selected[jQuery(this).val()]=jQuery(this).text()}),ESG.F.updateCategorylistsInFilters(),jQuery(this).dialog("close"),jQuery(".eg-media-source-order-wrap .eg-media-source-order").tpsortable({})}},{text:eg_lang.close,id:"filter-select-dialog-close",click:function(){jQuery(this).dialog("close"),jQuery(".eg-media-source-order-wrap .eg-media-source-order").tpsortable({})}}],create:function(){jQuery(this).closest(".ui-dialog").find(".ui-dialog-buttonpane").addClass("save-wrap")}})}else if("custom"===ESG.S.STYPE){var o=this.className.indexOf("add_new_custom_category_quick")>=0;jQuery("#filter-custom-dialog-wrap").dialog({modal:!0,resizable:!1,draggable:!0,width:440,height:250,closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog",open:function(e){e.target.parentNode.classList.add("verytopdialog")},buttons:[{text:eg_lang.add_category,id:"filter-custom-dialog-save",click:function(){var e=jQuery(".esg-custom-category-name-editor");jQuery.inArray(e.val(),ESG.S.customFilters)>=0?t.showErrorMessage(eg_lang.category_already_exists):(ESG.S.customFilters.push(e.val()),ESG.F.updateCategorylistsInFilters(),jQuery("#filter-custom-dialog-wrap").dialog("close"),o&&(t.updateEditedCustomFilterList(),t.updateEditedCustomFilterList(!0)))}}]})}}),t.updateAllCustomFilters=function(e,t,a){var i=jQuery("#esg-preview-grid").find(".esg-items-datas"),n=[];for(var o in i)if(i.hasOwnProperty(o)){var r=i[o].value;if(void 0!==r&&r.length>0){var s=!1;if(void 0!==(r=JSON.parse(r))["custom-filter"]){var l=r["custom-filter"].split(",");for(var c in l)ESG.F.trim(l[c])==ESG.F.trim(e)?("update"===a&&(l[c]=t),"delete"!==a&&n.push(l[c]),s=!0):n.push(l[c]);s&&(r["custom-filter"]=n.join(","),i[o].value=JSON.stringify(r))}}}},ESG.DOC.on("click",".eg_delete_custom_category",function(){var e=jQuery(this).siblings(".eg-filter-selected").val(),a=jQuery(this).closest(".eg-media-source-order");jQuery(".esg-custom-category-todelete").html(e),jQuery("#filter-delete-dialog-wrap").dialog({modal:!0,resizable:!1,draggable:!0,width:440,height:250,closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog",buttons:[{text:eg_lang.delete_category,id:"filter-custom-dialog-delete",click:function(){var i=jQuery.inArray(e,ESG.S.customFilters);a.remove(),ESG.S.customFilters.splice(i,1),t.updateAllCustomFilters(e,void 0,"delete"),jQuery("#filter-delete-dialog-wrap").dialog("close")}}]})}),ESG.DOC.on("click",".eg_edit_custom_category",function(){var e=jQuery(this).siblings(".eg-filter-selected"),a=jQuery(this).siblings(".eg-filter-selected-span"),i=e.val();jQuery(".esg-custom-category-name-editor").val(i),jQuery("#filter-custom-dialog-wrap").dialog({modal:!0,resizable:!1,draggable:!0,width:440,height:250,closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog",buttons:[{text:eg_lang.update_category,id:"filter-custom-dialog-edit",click:function(){var n=jQuery(".esg-custom-category-name-editor").val();if(n==i)jQuery("#filter-custom-dialog-wrap").dialog("close");else if(jQuery.inArray(n,ESG.S.customFilters)>=0)t.showErrorMessage(eg_lang.category_already_exists);else{var o=jQuery.inArray(i,ESG.S.customFilters);ESG.S.customFilters[o]=n,t.updateAllCustomFilters(i,n,"update"),e.val(n),a.html(n),jQuery("#filter-custom-dialog-wrap").dialog("close")}}}]})}),jQuery(".eg-add-filter-box").on("click",function(){eg_filter_counter++;var e=jQuery(".eg-original-filter-options-wrap").clone();e.removeClass("eg-original-filter-options-wrap"),e.find("[data-origname]").each(function(){jQuery(this).attr("name",jQuery(this).data("origname").replace("#NR",eg_filter_counter))}),e.find(".filter-shortcode-filter").data("num",eg_filter_counter),e.find(".filter-shortcode-filter").attr("data-num",eg_filter_counter),e.find(".filter-header-id").text(eg_filter_counter),e.find(".eg-remove-filter-tab").show(),e.find(".eg-filter-selected-order-wrap").removeClass("eg-filter-selected-order-wrap").addClass("eg-filter-selected-order-wrap-"+eg_filter_counter),e.find(".eg-filter-selected").each(function(){jQuery(this).removeClass("eg-filter-selected").addClass("eg-filter-selected-"+eg_filter_counter)}),e.appendTo(".eg-original-filter-options-holder"),jQuery(".eg-media-source-order-wrap .eg-media-source-order").tpsortable({});var a=jQuery(".eg-navigation-cons-wrapper"),i=a.children(".eg-stay-last-element"),n='<div data-navtype="filter-'+eg_filter_counter+'" class="eg-navigation-cons-filter-'+eg_filter_counter+' eg-nav-cons-filter eg-navigation-cons"><i class="eg-icon-megaphone"></i>'+eg_lang.filter+" "+eg_filter_counter+"</div>";i.length?jQuery(n).insertBefore(i):a.append(n),t.updateShortcode()}),jQuery("body").on("click",".eg-remove-filter-tab",function(){if(confirm(eg_lang.deleting_this_cant_be_undone)){var e=jQuery(this).siblings("input").attr("name").replace("filter-all-text-","");jQuery(".eg-navigation-cons-filter-"+e).remove(),jQuery(this).closest(".eg-filter-options-wrap").remove()}}),jQuery('input[name="filter-arrows"]').change(function(){"multi"==jQuery(this).val()?(jQuery(".eg-filter-logic").show(),jQuery("#convert_mobile_filters").hide()):(jQuery(".eg-filter-logic").hide(),jQuery("#convert_mobile_filters").show())}),jQuery('input[name="filter-arrows"]:checked').change(),jQuery('input[name="ajax-close-button"]').change(function(){"on"==jQuery(this).val()||"on"==jQuery('input[name="ajax-nav-button"]:checked').val()?("on"==jQuery(this).val()&&jQuery(".eg-close-button-settings-wrap").show(),jQuery(".eg-close-nav-button-settings-wrap").show()):(jQuery(".eg-close-button-settings-wrap").hide(),jQuery(".eg-close-nav-button-settings-wrap").hide())}),jQuery('input[name="ajax-close-button"]:checked').change(),jQuery('input[name="ajax-nav-button"]').change(function(){"on"==jQuery(this).val()||"on"==jQuery('input[name="ajax-close-button"]:checked').val()?jQuery(".eg-close-nav-button-settings-wrap").show():jQuery(".eg-close-nav-button-settings-wrap").hide()}),jQuery('input[name="ajax-nav-button"]:checked').change(),jQuery('select[name="lightbox-mode"]').change(function(){"content"==jQuery(this).val()||"content-gallery"==jQuery(this).val()||"woocommerce-gallery"==jQuery(this).val()?jQuery(".lightbox-mode-addition-wrapper").show():jQuery(".lightbox-mode-addition-wrapper").hide()}),jQuery('select[name="lightbox-mode"] option:selected').change(),jQuery(".eg-add-new-cobbles-pattern").on("click",function(){var e='<div class="eg-cobbles-drop-wrap"><span class="cob-sort-order">'+(jQuery(".cob-sort-order").length+1)+'.</span><select name="cobbles-pattern[]"><option value="1x1">1:1</option><option value="1x2">1:2</option><option value="1x3">1:3</option><option value="2x1">2:1</option><option value="2x2">2:2</option><option value="2x3">2:3</option><option value="3x1">3:1</option><option value="3x2">3:2</option><option value="3x3">3:3</option></select><a class="esg-btn esg-red eg-delete-cobbles" href="javascript:void(0);"><i class="eg-icon-trash"></i></a></div>';jQuery(".eg-cobbles-pattern-wrap").append(e)}),jQuery('input[name="use-cobbles-pattern"]').change(function(){"on"==jQuery(this).val()?(jQuery(".eg-cobbles-pattern-wrap").show(),jQuery(".eg-add-new-cobbles-pattern").show(),jQuery(".eg-refresh-cobbles-pattern").show()):(jQuery(".eg-cobbles-pattern-wrap").hide(),jQuery(".eg-add-new-cobbles-pattern").hide(),jQuery(".eg-refresh-cobbles-pattern").hide())}),jQuery("body").on("click",".eg-delete-cobbles",function(){jQuery(this).closest(".eg-cobbles-drop-wrap").remove()}),jQuery(".eg-cobbles-pattern-wrap").sortable({stop:function(e,t){jQuery(".cob-sort-order").each(function(e){e+=1,jQuery(this).text(e+".")})}}),document.getElementById("lightbox-post-content-img-position").addEventListener("change",function(){var e="left"===this.value||"right"===this.value?"block":"none";document.getElementById("lightbox-post-content-img-width").style.display=e}),jQuery(".pagination-autoplay").on("change",function(){var e="on"===this.value?"block":"none";document.getElementById("pagination-autoplay-speed").style.display=e})},t.checkInstagramSourceType=function(){if("stream"!=ESG.S.STYPE)return!1;if("instagram"!=jQuery('input[name="stream-source-type"]:checked').val())return!1;jQuery(".instagram_client").hide(),jQuery(".instagram_user").show(),jQuery("input.instagram-type-source").each(function(){$this=jQuery(this),$this.is(":checked")?jQuery(".instagram_"+$this.data("source")).show():jQuery(".instagram_"+$this.data("source")).hide()});try{1==do_change?t.changePreviewGrid(!0):do_change=!0}catch(e){}},t.initImportExport=function(){jQuery('input[name="export-grids"]').on("click",function(){t.switchCheckInputFields("export-grids",jQuery(this).is(":checked"))}),jQuery('input[name="export-skins"]').on("click",function(){t.switchCheckInputFields("export-skins",jQuery(this).is(":checked"))}),jQuery('input[name="export-elements"]').on("click",function(){t.switchCheckInputFields("export-elements",jQuery(this).is(":checked"))}),jQuery('input[name="export-custom-meta"]').on("click",function(){t.switchCheckInputFields("export-custom-meta",jQuery(this).is(":checked"))}),jQuery('input[name="export-navigation-skins"]').on("click",function(){t.switchCheckInputFields("export-navigation-skins",jQuery(this).is(":checked"))}),jQuery('input[name="export-punch-fonts"]').on("click",function(){t.switchCheckInputFields("export-punch-fonts",jQuery(this).is(":checked"))}),jQuery('input[name="import-grids"]').on("click",function(){t.switchCheckInputFields("import-grids",jQuery(this).is(":checked"))}),jQuery('input[name="import-skins"]').on("click",function(){t.switchCheckInputFields("import-skins",jQuery(this).is(":checked"))}),jQuery('input[name="import-elements"]').on("click",function(){t.switchCheckInputFields("import-elements",jQuery(this).is(":checked"))}),jQuery('input[name="import-custom-meta"]').on("click",function(){t.switchCheckInputFields("import-custom-meta",jQuery(this).is(":checked"))}),jQuery('input[name="import-navigation-skins"]').on("click",function(){t.switchCheckInputFields("import-navigation-skins",jQuery(this).is(":checked"))}),jQuery('input[name="import-punch-fonts"]').on("click",function(){t.switchCheckInputFields("import-punch-fonts",jQuery(this).is(":checked"))}),t.switchCheckInputFields=function(e,t){jQuery('input[name="'+e+'-id[]"]').each(function(){jQuery(this).prop("checked",t)}),jQuery('input[name="'+e+'-handle[]"]').each(function(){jQuery(this).prop("checked",t)})},jQuery("#esg-import-data").on("click",function(){var e=t.getFormParams("esg-import-settings");t.ajaxRequest("import_data",{imports:e},"#esg-import-data",function(e){})}),jQuery("#eg-grid-export-import-wrapper .eg-li-intern-wrap").on("click",function(e){var t=jQuery(this).find(".eg-expand-collapse");if(t.length>0&&jQuery(e.target).hasClass("eg-li-intern-wrap")||jQuery(e.target).hasClass("eg-expand-collapse")||jQuery(e.target).hasClass("eg-icon-folder-open")||jQuery(e.target).hasClass("eg-icon-folder")){var a=t.closest("li");t.hasClass("closed")?(t.removeClass("closed"),a.find("ul").first().slideDown(200)):(t.addClass("closed"),a.find("ul").first().slideUp(200))}}),jQuery("#eg-grid-export-import-wrapper ul li ul").each(function(){var e=jQuery(this),t=e.find(">li").length;e.parent().find(".eg-amount-of-lis").html("("+t+")")}),jQuery("#eg-grid-export-import-wrapper").find(".eg-inputchecked").each(function(){var e=jQuery(this);e.on("click",function(){return e.siblings("input").trigger("click"),t.checkImportExportInputs(),!1})}),t.checkImportExportInputs(),jQuery("#esg-import-demo-posts").on("click",function(){confirm(eg_lang.import_demo_post_heavy_loading)&&t.ajaxRequest("import_default_post_data","","#esg-import-demo-posts, #esg-import-demo-posts-210, #esg-read-file-import, #eg-export-selected-settings",function(e){})}),jQuery("#esg-import-demo-posts-210").on("click",function(){confirm(eg_lang.import_demo_grids_210)&&t.ajaxRequest("import_default_grid_data_210","","#esg-import-demo-posts, #esg-import-demo-posts-210, #esg-read-file-import, #eg-export-selected-settings",function(e){})})},t.checkImportExportInputs=function(){jQuery("#eg-grid-export-import-wrapper").find(".eg-inputchecked").each(function(){var e=jQuery(this);if(e.removeClass("eg-partlychecked"),"checked"==e.siblings("input").prop("checked")){if(e.addClass("checked"),e.closest(".eg-ie-sub-ul").length>0){var t=e.closest(".eg-ie-sub-ul").closest("li").find(".eg-inputchecked").first(),a=e.closest(".eg-ie-sub-ul").find("input:checkbox:not(:checked)").length;!t.hasClass("checked")&&a>0&&t.addClass("eg-partlychecked")}}else e.removeClass("checked"),e.closest(".eg-ie-sub-ul").length>0&&(t=e.closest(".eg-ie-sub-ul").closest("li").find(".eg-inputchecked").first()).hasClass("checked")&&t.addClass("eg-partlychecked")})},t.changeAddElementTitles=function(){jQuery(document.body).on("mouseenter",".eg-addnewitem-element-1",function(){var e=eg_lang.selectyouritem;switch(jQuery(this).attr("id")){case"esg-add-new-custom-youtube":e=eg_lang.withyoutube;break;case"esg-add-new-custom-vimeo":e=eg_lang.withvimeo;break;case"esg-add-new-custom-html5":e=eg_lang.withthtml5;break;case"esg-add-new-custom-soundcloud":e=eg_lang.withsoundcloud;break;case"esg-add-new-custom-image":e=eg_lang.withimage;break;case"esg-add-new-custom-text":e=eg_lang.withoutmedia;break;default:e=eg_lang.selectyouritem}jQuery(".esg-bottom.eg-addnewitem-element-2.esg-flipup").html(e)}),jQuery(document.body).on("mouseleave",".eg-addnewitem-element-1",function(){jQuery(".esg-bottom.eg-addnewitem-element-2.esg-flipup").html(eg_lang.selectyouritem)})},t.lightboxLayoutDependencies=function(){var e=jQuery('select[name="lightbox-type"] option:selected').val();"null"==e||"over"==e?jQuery("#eg-lb-title-position").hide():jQuery("#eg-lb-title-position").show()},t.lightboxLayoutEvents=function(){jQuery('select[name="lightbox-type"]').change(function(){t.lightboxLayoutDependencies()})},t.skinSelectorFakes=function(){jQuery(".esg-screenselect-toolbar").closest(".esg-grid").find(".tp-esg-item").css("cursor","pointer").on("click",function(){var e=jQuery(this);jQuery("li.filter-selectedskin").removeClass("filter-selectedskin"),e.addClass("filter-selectedskin"),e.find('input[name="entry-skin"]').prop("checked",!0).change()})},t.get_navigation_layout=function(){var e={pagination:{},left:{},right:{},filter:{},filter2:{},filter3:{},cart:{},sorting:{},"search-input":{}},t=jQuery(".eg-navigation-cons-pagination"),a=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-left"),i=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-right"),n=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-filter"),o=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-filter2"),r=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-filter3"),s=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-cart"),l=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-sort"),c=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-search-input");void 0!==t.closest(".eg-navigation-drop-wrapper").attr("id")&&(pagination=t.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=t.parent().children("div").index(t),e.pagination[pagination]=order),void 0!==a.closest(".eg-navigation-drop-wrapper").attr("id")&&(left=a.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=a.parent().children("div").index(a),e.left[left]=order),void 0!==i.closest(".eg-navigation-drop-wrapper").attr("id")&&(right=i.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=i.parent().children("div").index(i),e.right[right]=order),void 0!==n.closest(".eg-navigation-drop-wrapper").attr("id")&&(filter=n.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=n.parent().children("div").index(n),e.filter[filter]=order),void 0!==o.closest(".eg-navigation-drop-wrapper").attr("id")&&(filter2=o.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=o.parent().children("div").index(o),e.filter2[filter2]=order),void 0!==r.closest(".eg-navigation-drop-wrapper").attr("id")&&(filter3=r.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=r.parent().children("div").index(r),e.filter3[filter3]=order),void 0!==s.closest(".eg-navigation-drop-wrapper").attr("id")&&(cart=s.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=s.parent().children("div").index(s),e.cart[cart]=order),void 0!==l.closest(".eg-navigation-drop-wrapper").attr("id")&&(sort=l.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=l.parent().children("div").index(l),e.sorting[sort]=order),void 0!==c.closest(".eg-navigation-drop-wrapper").attr("id")&&(search_input=c.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=c.parent().children("div").index(c),e["search-input"][search_input]=order);for(var u=1;u<=eg_filter_counter;u++){var d=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-filter-"+u);d.length>0&&(sort=d.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=d.parent().children("div").index(d),e["filter-"+u]={},e["filter-"+u][sort]=order)}return jQuery(".eg-stay-last-element").appendTo(".eg-navigation-default-wrap"),e},t.set_navigation_layout=function(){for(var e=0;e<99;e++){var a;(a=jQuery('.eg-navigation-cons[data-putin="top-1"][data-sort="'+e+'"]')).length>0&&jQuery("#eg-navigations-sort-top-1 .eg-navigation-drop-inner").append(a),(a=jQuery('.eg-navigation-cons[data-putin="top-2"][data-sort="'+e+'"]')).length>0&&jQuery("#eg-navigations-sort-top-2 .eg-navigation-drop-inner").append(a),(a=jQuery('.eg-navigation-cons[data-putin="bottom-1"][data-sort="'+e+'"]')).length>0&&jQuery("#eg-navigations-sort-bottom-1 .eg-navigation-drop-inner").append(a),(a=jQuery('.eg-navigation-cons[data-putin="bottom-2"][data-sort="'+e+'"]')).length>0&&jQuery("#eg-navigations-sort-bottom-2 .eg-navigation-drop-inner").append(a),(a=jQuery('.eg-navigation-cons[data-putin="left"][data-sort="'+e+'"]')).length>0&&jQuery("#eg-navigations-sort-left .eg-navigation-drop-inner").append(a),(a=jQuery('.eg-navigation-cons[data-putin="right"][data-sort="'+e+'"]')).length>0&&jQuery("#eg-navigations-sort-right .eg-navigation-drop-inner").append(a),(a=jQuery('.eg-navigation-cons[data-putin="external"][data-sort="'+e+'"]')).length>0&&jQuery("#eg-navigations-sort-external .eg-navigation-drop-inner").append(a)}e=0;jQuery("#eg-navigations-sort-external .eg-navigation-drop-inner>div").each(function(){var a="",i="";void 0!==eg_nav_special_class[e]&&(a=eg_nav_special_class[e]),void 0!==eg_nav_special_skin[e]&&(i=eg_nav_special_skin[e]),t.checkDepricatedSkins();var n=ESG.C.navSkinSelector.clone().wrap("<div></div>");n.attr("id",""),n.attr("name","navigation-special-skin[]"),n.find("option").prop("selected",!1),n.find('option[value="'+i+'"]').prop("selected","selected");var o='<div class="eg-filter-sc"><input class="filter-shortcode-filter" type="text" readonly="readonly" data-num="'+jQuery(this).data("navtype")+'" /><input type="text" name="navigation-special-class[]" value="'+a+'" />';o+=n.parent().html(),o+="</div>",jQuery(this).append(o),e++}),t.updateShortcode()},t.set_default_nav_skin=function(e){css=void 0!==e&&e.length>=0?JSON.parse(e):{},ESG.LIB.nav_skins=jQuery.extend({},css)},t.get_default_nav_originals=function(e){ESG.LIB.nav_originals=void 0!==e&&e.length>=0?JSON.parse(e):{}},t.removeRedHighlighting=function(){jQuery("input").removeClass("eg-alert")},t.addRedHighlighting=function(e){jQuery(e).addClass("eg-alert")},t.initOverviewGrid=function(e){jQuery(".eg-btn-delete-grid").on("click",function(){var e=jQuery(this);delete_id=e.attr("id").replace("eg-delete-","");var a={id:delete_id};confirm(eg_lang.delete_grid)&&t.ajaxRequest("delete_grid",a,".btn-wrap-overview-"+delete_id,function(t){t.success&&(e.closest("esg-row").remove(),jQuery("esg-row").length<3&&(location.href=t.redirect_url))})}),jQuery(".eg-btn-duplicate-grid").on("click",function(){var e=jQuery(this).attr("id").replace("eg-duplicate-",""),a={id:e};t.ajaxRequest("duplicate_grid",a,".btn-wrap-overview-"+e)}),jQuery(".eg-toggle-favorite").on("click",function(){var e=jQuery(this).attr("id").replace("eg-star-id-",""),a={id:e};t.ajaxRequest("toggle_grid_favorite",a,"#waitaminute",function(t){void 0!==t&&void 0!==t.success&&!0===t.success&&(jQuery("#eg-star-id-"+e+" i").hasClass("eg-icon-star-empty")?jQuery("#eg-star-id-"+e+" i").removeClass("eg-icon-star-empty").addClass("eg-icon-star"):jQuery("#eg-star-id-"+e+" i").removeClass("eg-icon-star").addClass("eg-icon-star-empty"))})});var a=jQuery("#esg-grid-list").children("esg-row");a.length&&(!function(){var e,t;function i(){var e=ESG.F.trim(jQuery(this).text()).toLowerCase();-1!==e.search("ess_grid alias")&&(e=e.replace(/\[ess_grid alias=\"/,"").replace(/\"\]/,"")),e&&(t+=e+" ")}function n(){var a=jQuery(this),n=a.children("esg-cell");t="",n.eq(2).each(i),n.eq(3).each(i),n.eq(5).each(i),n.eq(6).each(i),-1===(t=t.slice(0,-1)).search(e)?a.hide():a.show()}jQuery("#esg-search-grids").on("focus",function(){a=jQuery("#esg-grid-list").children("esg-row")}).on("blur",function(){!this.value&&a&&a.length&&a.show()}),jQuery("#esg-search-grids").on("keyup",function(){a&&a.length&&(this.value?(e=ESG.F.trim(this.value).toLowerCase(),a.each(n)):a.show())})}(),jQuery("#esg-search-grids, #ess-pagination-form").addClass("visible"))},t.initGlobalSettings=function(e){jQuery("#ess-grid-delete-cache").on("click",function(){t.ajaxRequest("delete_full_cache",{},"#ess-grid-delete-cache")}),jQuery("#eg-btn-save-global-settings").on("click",function(){var e=jQuery('select[name="plugin_permissions"] option:checked').val(),a=jQuery('select[name="plugin_tooltips"] option:checked').val(),i=jQuery('select[name="output_protection"] option:checked').val(),n=jQuery('select[name="wait_for_fonts"] option:checked').val(),o=jQuery('select[name="use_lightbox"] option:checked').val(),r=jQuery('select[name="use_cache"] option:checked').val(),s=jQuery('select[name="js_to_footer"] option:checked').val(),l=jQuery('select[name="overwrite_gallery"] option:checked').val(),c=jQuery('select[name="query_type"] option:checked').val(),u=jQuery('select[name="enable_log"] option:checked').val(),d=jQuery('select[name="enable_media_filter"] option:checked').val(),p=jQuery('select[name="enable_custom_post_type"] option:checked').val(),g=jQuery('select[name="enable_post_meta"] option:checked').val(),h=document.getElementById("global_default_img").value,m=jQuery('select[name="enable_pe7"] option:checked').val(),y=jQuery('select[name="enable_font_awesome"] option:checked').val(),v={permission:e,tooltips:a,protection:i,wait_for_fonts:n,use_cache:r,js_to_footer:s,use_lightbox:o,overwrite_gallery:l,query_type:c,enable_log:u,enable_custom_post_type:p,enable_post_meta:g,global_default_img:h,enable_fontello:jQuery('select[name="enable_fontello"] option:checked').val(),enable_pe7:m,enable_font_awesome:y,enable_media_filter:d,no_filter_match_message:document.getElementById("no_filter_match_message").value,enable_youtube_nocookie:jQuery('select[name="enable_youtube_nocookie"] option:checked').val()};t.updateMetaObjects(),t.ajaxRequest("update_general_settings",v,"#eg-btn-save-global-settings",function(e){var a={};a.global=t.getFormParams("esg-search-global-settings"),a.shortcode=t.getFormParams("esg-search-shortcode-settings"),a.settings={},a.settings["search-enable"]=jQuery('input[name="search-enable"]:checked').val(),t.ajaxRequest("save_search_settings",a,"#eg-btn-save-settings",function(e){t.ajaxRequest("save_metas",{CustomMetas:ESG.ENV.CustomMetas,LinkMetas:ESG.ENV.LinkMetas},"#eg-btn-save-settings",function(e){t.ajaxRequest("save_google_fonts",ESG.S.punchFonts,"#eg-btn-save-settings",function(e){})})})})}),jQuery(".eg-global-add-image").on("click",function(e){return e.preventDefault(),AdminEssentials.upload_image_img(jQuery(this).data("setto")),!1}),jQuery(".eg-global-image-clear").on("click",function(e){e.preventDefault();var t=jQuery(this).data("setto");return jQuery("#"+t).val(""),jQuery("#"+t+"-img").attr("src","").hide(),!1}),jQuery('select[name="enable_custom_post_type"]').on("change",function(){var e="true"===this.value?"inline-block":"none";jQuery("#esg-import-demo-posts").css("display",e)}).change(),jQuery("#esg-import-demo-posts").on("click",function(){confirm(eg_lang.import_demo_post_heavy_loading)&&t.ajaxRequest("import_default_post_data","","#esg-import-demo-posts, #esg-import-demo-posts-210, #esg-read-file-import, #eg-export-selected-settings",function(e){})})},t.calc_advanced_rows=function(e){if("off"==e)jQuery(".columns-adv-rows").hide(),jQuery(".columns-adv-first").text("");else{jQuery(".columns-adv-rows").show();var t=jQuery(".columns-adv-head").length;if(0==t){var a="1";a+=",",a+=2+1*t,a+=",",a+=3+2*t,jQuery(".columns-adv-first").html("Rows:<br>"+a);var i=jQuery(".columns-adv-first").html();i+='<div style="position: absolute;top: 11px;white-space: nowrap;left: 100%;"><a class="esg-btn esg-purple" href="javascript:void(0);" id="eg-add-column-advanced"><i class="material-icons">add</i></a></div>',jQuery(".columns-adv-first").html(i)}else{a="1";a+=",",a+=2+1*t,a+=",",a+=3+2*t,jQuery(".columns-adv-first").html("Rows:<br>"+a);for(var n=0;n<t;n++){a=n+2;if(a+=",",a+=n+3+1*t,a+=",",a+=n+4+2*t,jQuery(".columns-adv-"+n+".columns-adv-head").html("Rows:<br>"+a),n==t-1){i=jQuery(".columns-adv-"+n+".columns-adv-head").html();i+=9==t?'<div style="position: absolute;top: 11px;white-space: nowrap;left: 100%;"><a class="esg-btn esg-remove" href="javascript:void(0);" id="eg-remove-column-advanced"><i class="material-icons">remove</i></a></div>':'<div style="position: absolute;top: 11px;white-space: nowrap;left: 100%;"><a class="esg-btn esg-purple" href="javascript:void(0);" id="eg-add-column-advanced"><i class="material-icons">add</i></a><a class="esg-btn esg-red" href="javascript:void(0);" id="eg-remove-column-advanced"><i class="material-icons">remove</i></a></div>',jQuery(".columns-adv-"+n+".columns-adv-head").html(i)}}}}},t.getPagesDialog=function(){jQuery("#button-add-pages").on("click",function(){jQuery("#pages-select-dialog-wrap").dialog({modal:!0,resizable:!1,draggable:!0,width:600,height:350,closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog",buttons:[{text:eg_lang.add_selected,id:"eg_pages_add_selected",click:function(){jQuery('input[name="selected-pages"]').each(function(){1==jQuery(this).prop("checked")&&t.insertSelectedPage(jQuery(this).val())}),jQuery(this).dialog("close")}}],create:function(){jQuery(this).closest(".ui-dialog").find(".ui-dialog-buttonpane").addClass("save-wrap")}})}),jQuery("#check-uncheck-pages").on("click",function(){var e=!0;"checked"!=jQuery(this).prop("checked")&&(e=!1),jQuery('input[name="selected-pages"]').each(function(){jQuery(this).prop("checked",e)})})},ESG.F.ajaxRequest=t.ajaxRequest=function(e,a,i,n,o,r){"function"==typeof i&&(n=i,i=void 0);var s={action:"Essential_Grid_request_ajax",client_action:e,token:token,data:a};void 0!==typeof i&&(t.setAjaxLoaderElement(i),t.showAjaxLoader()),jQuery.ajax({type:"post",url:ajaxurl,dataType:"json",data:s,success:function(a){if(t.hideAjaxLoader(),!0!==r){if(!a)return t.showErrorMessage(eg_lang.aj_empty_response),!1;if(-1==a)return t.showErrorMessage(eg_lang.aj_ajax_error),!1;if(0==a)return t.showErrorMessage(eg_lang.aj_error_not_found+": <b>"+e+"</b>"),!1;if(null==a.success)return t.showErrorMessage(eg_lang.aj_success_must),!1;if(0==a.success)return t.showErrorMessage(a.message),!1}"function"==typeof n&&n(a,o),a.message&&!0!==r&&t.showSuccessMessage(a.message),a.is_redirect&&(location.href=a.redirect_url),a.grid_id&&!isNaN(a.grid_id)&&(window.location=document.URL.replace("&create=true","&create="+a.grid_id),jQuery(".esg-refresh-preview-button").trigger("click"))},error:function(e,a,i){t.hideAjaxLoader(),"parsererror"==a&&console.log(e.responseText),t.showErrorMessage(eg_lang.aj_ajax_error+" "+a)}})},t.showErrorMessage=function(e,t){null==typeof t&&(t="click"),AdminEssentials.showInfo({content:e,type:"warning",showdelay:0,hidedelay:2,hideon:t,event:""})},t.showSuccessMessage=function(e){AdminEssentials.showInfo({content:e,type:"success",showdelay:0,hidedelay:2,hideon:"",event:""})},t.showInfoMessage=function(e){AdminEssentials.showInfo({content:e,type:"info",showdelay:0,hidedelay:2,hideon:"",event:""})},t.setAjaxLoaderElement=function(e){ajaxLoaderElement=e},t.showWaitAMinute=function(e){var t=jQuery("#waitaminute");if(null!=e.delay&&(punchgs.TweenLite.to(t,.3,{autoAlpha:1,ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.set(t,{display:"block"}),setTimeout(function(){punchgs.TweenLite.to(t,.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut,onComplete:function(){punchgs.TweenLite.set(t,{display:"block"})}})},e.delay)),null!=e.fadeIn&&(punchgs.TweenLite.to(t,e.fadeIn/1e3,{autoAlpha:1,ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.set(t,{display:"block"})),null!=e.fadeOut&&punchgs.TweenLite.to(t,e.fadeOut/1e3,{autoAlpha:0,ease:punchgs.Power3.easeInOut,onComplete:function(){punchgs.TweenLite.set(t,{display:"block"})}}),null!=e.text)switch(e.text){case"progress1":break;default:t.html('<div class="waitaminute-message"><i class="eg-icon-coffee"></i><br>'+e.text+"</div>")}},t.showAjaxLoader=function(){t.showWaitAMinute({fadeIn:300,text:eg_lang.aj_please_wait})},t.initSideButtons=function(e){punchgs.TweenLite.fromTo(jQuery("#eg-tool-panel"),.5,{autoAlpha:0,x:40},{autoAlpha:1,x:0,ease:punchgs.Power3.easeInOut,delay:3}),jQuery.each(jQuery(".eg-side-buttons"),function(e,t){punchgs.TweenLite.fromTo(t,.5,{x:40},{x:0,ease:punchgs.Power3.easeInOut,delay:4+.3*e})}),jQuery(".eg-side-buttons").hover(function(){punchgs.TweenLite.to(jQuery(this),.3,{x:-110,ease:punchgs.Power3.easeInOut})},function(){punchgs.TweenLite.to(jQuery(this),.3,{x:0,ease:punchgs.Power3.easeInOut})})},t.hideAjaxLoader=function(){ajaxLoaderElement&&(t.showWaitAMinute({fadeOut:300}),ajaxLoaderElement=null)},t.initSmallMenu=function(){jQuery(".eg-lc-vertical-menu li").each(function(){var e=jQuery(this);e.on("click",function(){jQuery(".eg-lc-vertical-menu .selected-lc-setting").removeClass("selected-lc-setting"),e.addClass("selected-lc-setting");var a=jQuery(".eg-lc-menu-wrapper .active-esc"),i=jQuery("#"+e.data("toshow"));punchgs.TweenLite.to(a,.1,{autoAlpha:0}),a.removeClass("active-esc"),punchgs.TweenLite.fromTo(i,.3,{autoAlpha:0},{autoAlpha:1,overwrite:"all"}),i.addClass("active-esc"),setTimeout(t.interResizeSettings,10)})}),jQuery(".eg-small-vertical-menu li").each(function(){var e=jQuery(this);e.on("click",function(){jQuery(".eg-small-vertical-menu .selected-el-setting").removeClass("selected-el-setting"),e.addClass("selected-el-setting");var a=jQuery("#eg-element-style .active-esc"),i=jQuery("#"+e.data("toshow"));punchgs.TweenLite.to(a,.1,{autoAlpha:0}),a.removeClass("active-esc"),punchgs.TweenLite.fromTo(i,.3,{autoAlpha:0},{autoAlpha:1,overwrite:"all"}),i.addClass("active-esc"),setTimeout(t.interResizeSettings,10)})})},t.initTabSizes=function(){jQuery("#eg-create-settings-menu li").each(function(){var e=jQuery(this);e.on("click",function(){jQuery("#eg-create-settings-menu .selected-esg-setting").removeClass("selected-esg-setting"),e.addClass("selected-esg-setting");var a=jQuery(".active-esc"),i=jQuery("#"+e.data("toshow"));if(punchgs.TweenLite.to(a,.1,{autoAlpha:0}),a.removeClass("active-esc"),punchgs.TweenLite.fromTo(i,.3,{autoAlpha:0},{autoAlpha:1,overwrite:"all"}),i.addClass("active-esc"),setTimeout(t.interResizeSettings,10),t.recalcSlidersPos(),"esg-settings-skins-settings"===e.data("toshow")){var n=jQuery("#esg-grid-even-1");n.data("selectedpositioned")||n.data("selectedpositioned",!0).find(".filter-selectedskin").prependTo(n.find(".mainul")),n.esredraw()}ESG.CM.apiJS.refresh(),ESG.CM.ajaxCSS.refresh()})}),t.interResizeSettings(),jQuery(window).resize(t.interResizeSettings),jQuery("#eg-create-settings-wrap").click(t.interResizeSettings)},t.interResizeSettings=function(){var e=jQuery("#eg-create-settings-wrap");e.find(".esg-settings-container").each(function(e){jQuery(this).width(jQuery("#eg-create-settings-wrap").width()-80)}),punchgs.TweenLite.to(e,.3,{height:e.find(".esg-settings-container.active-esc").outerHeight()+15,overwrite:"all"}),e.find(".ui-slider").each(function(){var e=jQuery(this),t=parseInt(e.find(".ui-slider-handle").css("left"),0);e.find(".eg-pre-slider").css({width:t})})},t.callOnChange=function(e,t,a,i,n){jQuery(e).find("input").each(function(){var e=jQuery(this);e.on("change",function(){t(i,n)}),"hidden"==e.attr("type")&&(e.data("oldval",e.val()),setInterval(function(){e.data("oldval")!=e.val()&&(e.data("oldval",e.val()),t(i,n))},200))}),jQuery(e).find("textarea").each(function(){var e=jQuery(this);e.data("oldval",e.val()),setInterval(function(){e.data("oldval")!=e.val()&&(e.data("oldval",e.val()),t(i,n))},200)}),jQuery(e).find(".ui-slider-handle").each(function(){var e=jQuery(this);e.on("mousedown",function(){e.data("pos",e.position().left),e.addClass("youaredown"),clearInterval(e.data("timer")),e.data("timer",setInterval(function(){e.data("pos")!=e.position().left&&(e.data("pos",e.position().left),t(i,n))},a))})}),jQuery("body").on("mouseup",function(){jQuery(e).find(".ui-slider-handle").each(function(){var e=jQuery(this);clearInterval(e.data("timer"))})}),jQuery(e).find("select").each(function(){jQuery(this).on("change",function(){t(i,n)})})},t.getBasicEntries=function(){var e=jQuery('input[name="columns-width[]"]'),t=jQuery('input[name="columns[]"]'),a=new Array;return jQuery.each(t,function(i){var n=new Object;n.width=parseInt(e[i].value,0),n.amount=parseInt(t[i].value,0),a.push(n)}),a},t.getMultipleEntries=function(){if("on"==jQuery('input[name="columns-advanced"]:checked').val()){var e=new Array,t=jQuery('input[name="columns[]"]'),a=new Array;jQuery.each(t,function(e){a.push(parseInt(t[e].value,0))}),e.push(a);for(var i=0;i<11;i++){if(null!=(t=jQuery('input[name="columns-advanced-rows-'+i+'[]"]'))&&t.length>0){a=new Array;jQuery.each(t,function(e){a.push(parseInt(t[e].value,0))}),e.push(a)}}return e}return[]},t.buildGridPreview=function(){var a=!1,i={name:"gridform",handle:"gridform",postparams:t.getFormParams("eg-form-create-posts"),params:t.getFormParams("eg-form-create-settings")};if(i.params["navigation-layout"]=t.get_navigation_layout(),i.params["css-id"]=jQuery("#esg-id-value").val(),i.id=jQuery('input[name="eg-id"]').val(),"custom"==ESG.S.STYPE&&(a=!0),a){var n=t.getFormParams("eg-custom-elements-form-wrap",!0);i.layers=void 0!==n.layers?n.layers:[]}jQuery("body").append('<div id="esg-preview-clone" style="display: none;"></div>'),jQuery("#esg-preview-wrapper").clone(!0).appendTo("#esg-preview-clone"),jQuery(".eg-remove-on-reload").remove(),jQuery(".esg-new-temp-layer").remove();try{jQuery("#esg-preview-grid").esskill()}catch(e){}jQuery("#esg-preview-wrapper").remove(),jQuery("#esg-preview-wrapping-wrapper").append('<div id="esg-preview-wrapper"></div>'),t.ajaxRequest("get_preview_html_markup",i,"#eg-grid-layout-wrapper,#eg-grid-skin-wrapper,.esg-refresh-preview-button,#esg-source-choose-wrapper,.ui-dialog-buttonset",function(a){var n=!1;if(void 0!==a.error?(alert(a.error),alert(eg_lang.script_will_try_to_load_last_working),n=!0,jQuery("#esg-preview-clone").children().appendTo("#esg-preview-wrapper")):jQuery("#esg-preview-wrapper").append(a.data.html),jQuery("#esg-preview-clone").remove(),"custom"==ESG.S.STYPE&&(n?jQuery("window").trigger("resize"):(jQuery("#esg-template-wrapper").html(a.data.preview),jQuery("#esg-preview-grid ul").sortable({start:function(){e.esquickdraw()},stop:function(){t.resetCustomItemValues(),e.esquickdraw()},change:function(){t.changePreviewGrid()},placeholder:!1,helper:"original",cancel:".ui-state-disabled"}),jQuery("#esg-preview-grid ul").disableSelection())),!n){var o=new Array;if(null!=i.params["columns-advanced-rows-0"]&&"on"==i.params["columns-advanced"]){o.push(i.params.columns);for(var r=0;r<10;r++)null!=i.params["columns-advanced-rows-"+r]&&o.push(i.params["columns-advanced-rows-"+r])}var s=jQuery('input[name="rows"]').val(),l=t.getBasicEntries(),c=t.getMultipleEntries();"on"==jQuery('input[name="rows-unlimited"]:checked').val()&&(s=9999);var u="";"on"==jQuery('input[name="use-cobbles-pattern"]:checked').val()&&jQuery('select[name="cobbles-pattern[]"]').each(function(){""!==u&&(u+=","),u+=jQuery(this).find("option:selected").val()});var d="on";"full"==jQuery('input[name="pagination-numbers"]:checked').val()&&(d="off");var p=jQuery("#grid-start-animation").val();"reveal"!==p?jQuery("#esg-preview-grid").find("ul").first().css("height","1000px"):p="none",e=jQuery("#esg-preview-grid").tpessential({layout:jQuery('input[name="layout"]:checked').val(),forceFullWidth:"off",smartPagination:d,cobblesPattern:u,row:s,space:jQuery('input[name="spacings"]').val(),pageAnimation:jQuery("#grid-animation-select").val(),animSpeed:jQuery('input[name="grid-animation-speed"]').val(),animDelay:"on",delayBasic:jQuery('input[name="grid-animation-delay"]').val(),startAnimation:p,startAnimationSpeed:jQuery("#grid-start-animation-speed").val(),startAnimationDelay:jQuery("#grid-start-animation-delay").val(),startAnimationType:jQuery('input[name="grid-start-animation-type"]:checked').val(),animationType:jQuery('input[name="grid-animation-type"]:checked').val(),aspectratio:jQuery('input[name="x-ratio"]').val()+":"+jQuery('input[name="y-ratio"]').val(),rowItemMultiplier:o,responsiveEntries:l,lightBoxMode:jQuery('select[name="lightbox-mode"]').val(),lightboxHash:jQuery('input[name="lightbox-deep-link"]').val()});var g=[];jQuery('input[name="lbox-padding[]"]').each(function(e){g[e]=parseInt(this.value,0)});var h=[];jQuery('input[name="lb-button-order[]"]').each(function(e){this.checked&&(h[e]=this.value)});var m="on"===jQuery('input[name="lightbox-arrows"]:checked').val(),y={margin:g,buttons:h,infobar:"on"===jQuery('input[name="lightbox-numbers"]:checked').val(),loop:!1,slideShow:{autoStart:!1,speed:3e3},animationEffect:jQuery('select[name="lightbox-effect-open-close"]').val(),animationDuration:jQuery('input[name="lightbox-effect-open-close-speed"]').val(),beforeShow:function(e,t){m||jQuery("body").addClass("esgbox-hidearrows");var a=0,i=!1;for(var n in e=e.slides)if(++a>1){i=!0;break}i||jQuery("body").addClass("esgbox-single"),"image"===t.type&&jQuery(".esgbox-button--zoom").show()},beforeLoad:function(e,t){jQuery("body").removeClass("esg-four-by-three"),"4:3"===t.opts.$orig.data("ratio")&&jQuery("body").addClass("esg-four-by-three")},afterLoad:function(){jQuery(window).trigger("resize.esglb")},afterClose:function(){jQuery("body").removeClass("esgbox-hidearrows esgbox-single")},transitionEffect:jQuery('select[name="lightbox-effect-next-prev-speed"]').val(),transitionDuration:jQuery('input[name="lightbox-effect-next-prev-speed"]').val(),hash:jQuery('input[name="lightbox-deep-link"]').val(),arrows:m,wheel:"on"===jQuery('input[name="lightbox-mousewheel"]:checked').val()};jQuery("#esg-preview-grid").data("lightboxsettings",y);try{jQuery("#esg-preview-grid .esgbox").esgbox(y)}catch(e){}t.resetCustomItemValues(),t.initToolTipser(),e.settings=new Object,e.standards=new Object,e.settings.layout=jQuery('input[name="layout"]:checked').val(),e.settings.forceFullWidth="off",e.settings.row=s,e.settings.smartPagination=d,e.settings.space=jQuery('input[name="spacings"]').val(),e.settings.pageAnimation=jQuery('select [name="grid-animation"]').val(),e.settings.animSpeed=jQuery('input[name="grid-animation-speed"]').val(),e.settings.animDelay="on",e.settings.startAnimation=jQuery("#grid-start-animation").val(),e.settings.startAnimationSpeed=jQuery("#grid-start-animation-speed").val(),e.settings.startAnimationDelay=jQuery("#grid-start-animation-delay").val(),e.settings.startAnimationType=jQuery('input[name="grid-start-animation-type"]:checked').val(),e.settings.animationType=jQuery('input[name="grid-animation-type"]:checked').val(),e.settings.lightBoxMode=jQuery('select[name="lightbox-mode"]').val(),e.settings.lightboxHash=jQuery('input[name="lightbox-deep-link"]').val(),e.settings.delayBasic=jQuery('input[name="grid-animation-delay"]').val(),e.settings.aspectratio=jQuery('input[name="x-ratio"]').val()+":"+jQuery('input[name="y-ratio"]').val(),e.settings.responsiveEntries=l,e.settings.rowItemMultiplier=c,e.settings.filterskin=ESG.C.navSkinSelector[0].value,e.settings.skin=jQuery('input[name="entry-skin"]:checked').val()}})},t.createPreviewGrid=function(){t.buildGridPreview(),t.callOnChange("#eg-form-create-settings",t.changePreviewGrid,100),jQuery(".esg-refresh-preview-button").on("click",function(){t.changePreviewGrid(!0)})},t.changePreviewGrid=function(a){void 0!==e&&(clearTimeout(e.timeout),ESG.C.livePrevWrap.css("background",ESG.C.mainBGCOLOR[0].dataset.color||ESGColor.process(ESG.C.mainBGCOLOR[0].value)[0]),e.timeout=setTimeout(function(){jQuery("#esg-preview-skinlevel").attr("class","myportfolio-container fullwidthcontainer-with-padding").addClass(ESG.C.navSkinSelector[0].value);var i=t.getBasicEntries(),n=t.getMultipleEntries(),o="on";"full"==jQuery('input[name="pagination-numbers"]:checked').val()&&(o="off");var r=new Object;r.layout=jQuery('input[name="layout"]:checked').val(),r.forceFullWidth="on",r.row=jQuery('input[name="rows"]').val(),"on"==jQuery('input[name="rows-unlimited"]:checked').val()&&(r.row=9999),r.space=jQuery('input[name="spacings"]').val(),r.smartPagination=o,r.pageAnimation=jQuery("#grid-animation-select").val(),r.animSpeed=jQuery('input[name="grid-animation-speed"]').val(),r.animDelay="on",r.delayBasic=jQuery('input[name="grid-animation-delay"]').val(),r.aspectratio=jQuery('input[name="x-ratio"]').val()+":"+jQuery('input[name="y-ratio"]').val(),r.responsiveEntries=i,r.rowItemMultiplier=n,r.skin=jQuery('input[name="entry-skin"]:checked').val(),r.rtl=jQuery('input[name="rtl"]:checked').val(),r.startAnimation=jQuery("#grid-start-animation").val(),r.startAnimationSpeed=jQuery("#grid-start-animation-speed").val(),r.startAnimationDelay=jQuery("#grid-start-animation-delay").val(),r.startAnimationType=jQuery('input[name="grid-start-animation-type"]:checked').val(),r.animationType=jQuery('input[name="grid-animation-type"]:checked').val();var s=!1,l=new Array;jQuery.each(r,function(t,a){"responsiveEntries"!=t&&r[t]!=e.settings[t]&&(s=!0,l.push(t))}),jQuery.each(r.responsiveEntries,function(t,a){a.width==e.settings.responsiveEntries[t].width&&a.amount==e.settings.responsiveEntries[t].amount||(s=!0,l.push("responsiveEntries"))}),r.skin!=e.settings.skin||r.layout!=e.settings.layout||1==a?(jQuery.extend(e.settings,r),t.buildGridPreview(),s=!1):jQuery.extend(e.settings,r),s&&(e.esredraw({aspectratio:e.settings.aspectratio,space:e.settings.space,row:e.settings.row,pageAnimation:e.settings.pageAnimation,smartPagination:e.settings.smartPagination,animSpeed:e.settings.animSpeed,animDelay:"on",rtl:r.rtl,responsiveEntries:e.settings.responsiveEntries,delayBasic:e.settings.delayBasic,silent:!1,changedAnim:"pageanim",rowItemMultiplier:e.settings.rowItemMultiplier,startAnimation:e.settings.startAnimation,startAnimationSpeed:e.settings.startAnimationSpeed,startAnimationDelay:e.settings.startAnimationDelay,startAnimationType:e.settings.startAnimationType,animationType:e.settings.animationType}),t.resetCustomItemValues(),setTimeout(function(){var e=jQuery(".esg-navigationbutton.esg-filterbutton.esg-pagination-button ");if(("pageAnimation"==l[0]||"animSpeed"==l[0]||"delayBasic"==l[0])&&jQuery(e[0]).hasClass("selected"))try{e[1].trigger("click")}catch(e){}setTimeout(function(){null!=e&&e.length>0&&e[0].click()},250)},250)),t.initToolTipser()},100),setTimeout(function(){if(void 0!==ESG.LIB.changedItemIds)for(var e in ESG.LIB.changedItemIds)ESG.LIB.changedItemIds.hasOwnProperty(e)&&jQuery("#"+ESG.LIB.changedItemIds[e]).find(".eg-ov-2.eg-overview-button").addClass("esg-needattention_item")},1e3))},t.removePreviewGrid=function(){},t.animateElements=function(e){if(null==a)var a=[[".esg-none",0,{autoAlpha:1,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},0,{autoAlpha:1,overwrite:"all"}],[".esg-fade",.3,{autoAlpha:0,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-fadeout",.3,{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},{autoAlpha:0,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},.3,{autoAlpha:1,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-covergrowup",.3,{autoAlpha:1,top:"100%",marginTop:-10,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,top:"0%",marginTop:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:1,top:"100%",marginTop:-10,bottom:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"},!0],[".esg-flipvertical",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationX:180,autoAlpha:0,z:-.001,transformOrigin:"50% 50%"},{rotationX:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationX:180,autoAlpha:0,scale:1,z:-.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},!0],[".esg-flipverticalout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationX:0,autoAlpha:1,z:.001,transformOrigin:"50% 50%"},{rotationX:-180,scale:1,autoAlpha:0,z:-150,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationX:0,autoAlpha:1,scale:1,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-fliphorizontal",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationY:180,autoAlpha:0,z:-.001,transformOrigin:"50% 50%"},{rotationY:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationY:180,autoAlpha:0,scale:1,z:-.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},!0],[".esg-fliphorizontalout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,z:.001,transformOrigin:"50% 50%"},{rotationY:-180,scale:1,autoAlpha:0,z:-150,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationY:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-flipup",.5,{x:0,y:0,scale:.8,rotationZ:0,rotationX:90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 100%"},{scale:1,rotationX:0,autoAlpha:1,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:.8,rotationX:90,autoAlpha:0,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"},!0],[".esg-flipupout",.5,{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Bounce.easeOut,overwrite:"all"},{x:0,y:0,scale:1,rotationZ:0,rotationX:-90,rotationY:0,skewX:0,skewY:0,autoAlpha:1,z:.001,transformOrigin:"50% 0%"},.3,{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Bounce.easeOut,overwrite:"all"}],[".esg-flipdown",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:-90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 0%"},{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Bounce.easeOut,overwrite:"all"},.3,{rotationX:-90,z:0,ease:punchgs.Power2.easeOut,autoAlpha:0,overwrite:"all"},!0],[".esg-flipdownout",.5,{scale:1,rotationX:0,autoAlpha:1,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"},{x:0,y:0,scale:.8,rotationZ:0,rotationX:90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 100%"},.3,{scale:1,rotationX:0,autoAlpha:1,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-flipright",.5,{x:0,y:0,scale:.8,rotationZ:0,rotationX:0,rotationY:90,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"0% 50%"},{scale:1,rotationY:0,autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:0,scale:.8,rotationY:90,ease:punchgs.Power3.easeOut,overwrite:"all"},!0],[".esg-fliprightout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationY:0,autoAlpha:1,transformOrigin:"100% 50%"},{scale:1,rotationY:-90,autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:1,z:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-flipleft",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:-90,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"100% 50%"},{rotationY:0,autoAlpha:1,z:.001,scale:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,rotationY:-90,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"},!0],[".esg-flipleftout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationY:0,autoAlpha:1,transformOrigin:"0% 50%"},{scale:1,rotationY:90,autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:1,z:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-turn",.5,{x:50,y:0,scale:0,rotationZ:0,rotationX:0,rotationY:-40,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{scale:1,x:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeInOut,overwrite:"all"},.3,{scale:0,rotationY:-40,autoAlpha:1,z:0,x:50,ease:punchgs.Power3.easeInOut,overwrite:"all"},!0],[".esg-turnout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{scale:1,rotationY:40,scale:.6,autoAlpha:0,x:-50,ease:punchgs.Power3.easeInOut,overwrite:"all"},.3,{scale:1,rotationY:0,z:0,autoAlpha:1,x:0,rotationX:0,rotationZ:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-slide",.5,{x:-1e4,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:-1e4,y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideright",.5,{xPercent:-50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:-50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-sliderightout",.5,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-scaleleft",.5,{x:0,y:0,scaleX:0,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"100% 50%"},{autoAlpha:1,x:0,scaleX:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,z:0,scaleX:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-scaleright",.5,{x:0,y:0,scaleX:0,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"0% 50%"},{autoAlpha:1,x:0,scaleX:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,z:0,scaleX:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideleft",.5,{xPercent:50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideleftout",.5,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:-50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideup",.5,{x:0,yPercent:50,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,yPercent:50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideupout",.5,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,yPercent:-50,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slidedown",.5,{x:0,yPercent:-50,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,yPercent:-50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slidedownout",.5,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,yPercent:50,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideshortright",.5,{x:-30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:-30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideshortrightout",.5,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,x:30,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideshortleft",.5,{x:30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideshortleftout",.5,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:-30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideshortup",.5,{x:0,y:30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,y:30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideshortupout",.5,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,y:-30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideshortdown",.5,{x:0,y:-30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,y:-30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideshortdownout",.5,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,y:30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-skewright",.5,{xPercent:-100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,skewX:-60,xPercent:-100,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-skewrightout",.5,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:-60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-skewleft",.5,{xPercent:100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:-60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:100,z:0,skewX:60,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-skewleftout",.5,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:-100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-shifttotop",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rollleft",.5,{xPercent:50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:90,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:50,z:0,rotationZ:90,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rollleftout",.5,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:90,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-rollright",.5,{xPercent:-50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:-90,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:-50,rotationZ:-90,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rollrightout",.5,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:-50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:-90,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-falldown",.4,{x:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,yPercent:-100},{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.4,{yPercent:-100,autoAlpha:0,z:0,ease:punchgs.Power2.easeOut,delay:.2,overwrite:"all"}],[".esg-falldownout",.4,{autoAlpha:1,yPercent:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,yPercent:100},.4,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-rotatescale",.3,{x:0,y:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:80,scale:.6,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"},.3,{autoAlpha:0,scale:.6,z:0,rotationZ:80,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rotatescaleout",.3,{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:80,scale:.6,transformOrigin:"50% 50%"},.3,{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"}],[".esg-zoomintocorner",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"20% 50%"},{autoAlpha:1,scale:1.2,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{autoAlpha:0,x:0,y:0,scale:1,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomouttocorner",.5,{x:0,y:0,scale:1.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"80% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{autoAlpha:0,x:0,y:0,scale:1.2,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomtodefault",.5,{x:0,y:0,scale:1.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{autoAlpha:0,x:0,y:0,scale:1.2,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomback",.5,{x:0,y:0,scale:.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},.5,{autoAlpha:0,x:0,y:0,scale:.2,autoAlpha:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoombackout",.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,scale:.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"}],[".esg-zoomfront",.5,{x:0,y:0,scale:1.5,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{autoAlpha:0,x:0,y:0,scale:1.5,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomfrontout",.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,scale:1.5,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"}],[".esg-flyleft",.8,{x:-80,y:0,z:0,scale:.3,rotationZ:0,rotationY:75,rotationX:10,skewX:0,skewY:0,autoAlpha:.01,transformOrigin:"30% 10%"},{x:0,y:0,rotationY:0,z:.001,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},.8,{autoAlpha:.01,x:-40,y:0,z:300,rotationY:60,rotationX:20,overwrite:"all"}],[".esg-flyleftout",.8,{x:0,y:0,rotationY:0,z:.001,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},{x:-80,y:0,z:0,scale:.3,rotationZ:0,rotationY:75,rotationX:10,skewX:0,skewY:0,autoAlpha:.01,transformOrigin:"30% 10%"},.8,{x:0,y:0,rotationY:0,z:.001,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-flyright",.8,{scale:1,skewX:0,skewY:0,autoAlpha:0,x:80,y:0,z:0,scale:.3,rotationZ:0,rotationY:-75,rotationX:10,transformOrigin:"70% 20%"},{x:0,y:0,rotationY:0,z:.001,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},.8,{autoAlpha:0,x:40,y:-40,z:300,rotationY:-60,rotationX:-40,overwrite:"all"}],[".esg-flyrightout",.8,{x:0,y:0,rotationY:0,z:.001,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},{scale:1,skewX:0,skewY:0,autoAlpha:0,x:80,y:0,z:0,scale:.3,rotationZ:0,rotationY:-75,rotationX:10,transformOrigin:"70% 20%"},.8,{x:0,y:0,rotationY:0,z:.001,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-mediazoom",.3,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1.4,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:0,y:0,scale:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomandrotate",.6,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1.4,x:0,y:0,rotationZ:30,ease:punchgs.Power2.easeOut,overwrite:"all"},.4,{x:0,y:0,scale:1,z:0,rotationZ:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-pressback",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{rotationY:0,autoAlpha:1,scale:.8,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{rotationY:0,autoAlpha:1,z:0,scale:1,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-3dturnright",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformPerspective:600},{x:-40,y:0,scale:.8,rotationZ:2,rotationX:5,rotationY:-28,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"100% 50% 40%",transformPerspective:600,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{z:0,x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,force3D:"auto",ease:punchgs.Power2.easeOut,overwrite:"all"},!0]];var i=jQuery("#skin-dz-wrapper"),n=0,o=jQuery(".eg-editor-inside-wrapper"),r=jQuery("#skin-dz-m-wrap"),s=jQuery("#skin-dz-wrapper"),l=jQuery("#skin-dz-media-bg");punchgs.TweenLite.set(o,{transformStyle:"flat"}),punchgs.TweenLite.set(r,{transformStyle:"flat"}),punchgs.TweenLite.set(s,{transformStyle:"flat"}),punchgs.TweenLite.set(l,{transformStyle:"flat"});var c=e;if("hover"==e&&(jQuery.each(a,function(e,t){i.parent().find(t[0]).each(function(){var e=jQuery(this),a=e.data("hideunder");if(e.hasClass("eg-special-element"));else if(i.width()<a&&null!=a)"none"!=e.css("display")&&e.data("display",e.css("display")),e.css({display:"none"});else{var o=null!=e.data("delay")?parseFloat(e.data("delay")):0,r=t[2],s=t[3];s.delay=o,s.overwrite="all",r.overwrite="all",s.transformStyle="flat",s.force3D=!0;if("skin-dz-media-bg"!=e.attr("id")&&(s.clearProps="transform"),null==r.z&&(r.z=.001),null!=s.z&&0!=s.z||(s.z=.001),".esg-shifttotop"==t[0]&&(s.y=0-i.find("#skin-dz-br").last().height()),".esg-slide"==t[0]){switch(Math.round(4*Math.random()+1)){case 1:r.y=-20-e.height(),r.x=0;break;case 2:r.y=20+e.height(),r.x=0;break;case 3:r.x=-20-e.width(),r.y=0;break;case 4:default:r.x=20+e.width(),r.y=0}e.closest(".eg-editor-inside-wrapper").css({overflow:"hidden"})}if(".esg-slideout"==t[0]){switch(Math.round(4*Math.random()+1)){case 1:s.y=-20-e.height(),s.x=0;break;case 2:s.y=20+e.height(),s.x=0;break;case 3:s.x=-20-e.width(),s.y=0;break;case 4:default:s.x=20+e.width(),s.y=0}e.closest(".eg-editor-inside-wrapper").css({overflow:"hidden"})}null==s.transformPerspective&&(s.transformPerspective=1e3),null==r.transformPerspective&&(r.transformPerspective=1e3),punchgs.TweenLite.killTweensOf(e,!1);var l=e;punchgs.TweenLite.fromTo(l,t[1],r,s,0),"none"==e.css("display")&&e.css({display:e.data("display")}),o>n&&(n=o)}})}),c="leave"),"last"==e&&jQuery.each(a,function(e,t){i.parent().find(t[0]).each(function(){var e=jQuery(this);punchgs.TweenLite.killTweensOf(e,!1),null!=e.data("mySplitText")&&e.data("mySplitText").revert(),punchgs.TweenLite.to(i,.5,{autoAlpha:1,overwrite:"auto",clearProps:"transform"}),punchgs.TweenLite.to(e,.5,{skewX:0,skewY:0,rotationX:0,rotationY:0,rotationZ:0,x:0,y:0,z:0,scale:1,clearProps:"transform",autoAlpha:1,overwrite:"all"}),e.closest(".eg-editor-inside-wrapper").css({overflow:"hidden"})})}),"leave"==e){var u=0;jQuery.each(a,function(e,t){i.parent().find(t[0]).each(function(){var e=jQuery(this),a=null!=e.data("delay")?e.data("delay"):0,i=t[5];u<a&&(u=a),i.z=0;var n=e;if("skin-dz-media-bg"==e.attr("id")&&(i.clearProps="transform"),".esg-slide"==t[0]){switch(Math.round(4*Math.random()+1)){case 1:i.y=-20-e.height(),i.x=0;break;case 2:i.y=20+e.height(),i.x=0;break;case 3:i.x=-20-e.width(),i.y=0;break;case 4:default:i.x=20+e.width(),i.y=0}e.closest(".eg-editor-inside-wrapper").css({overflow:"hidden"})}e.hasClass("eg-special-element")||punchgs.TweenLite.to(n,t[4],i,0)})}),0==u&&(u=.2),n=0,c="hover"}"last"!=e&&jQuery("#eg-preview-item-skin").data("timer",setTimeout(function(){t.animateElements(c)},1e3*n+1500))},t.playElementAnimation=function(){jQuery("#drop-1").removeClass("esg-purple").addClass("esg-red").html("Show DropZones"),jQuery(".dropzonetext").css({visibility:"hidden"}),jQuery("#eg-preview-item-skin").css({display:"none"}),jQuery("#eg-preview-stop-item-skin").css({display:"inline-block"}),jQuery("#skin-dz-wrapper .skin-dz-elements.eg-special-element").css({visibility:"hidden"}),jQuery(".dropzonetext").each(function(){jQuery(this).closest(".eec").addClass("eg-filled-container")});var e=jQuery("#make-3d-map");e.hasClass("3don")?(t.moveIn3d("off",0),e.removeClass("3don"),e.html("3D"),setTimeout(function(){t.animateElements("hover")},600)):t.animateElements("hover")},t.stopElementAnimation=function(e){jQuery("#drop-1").removeClass("esg-red").addClass("esg-purple").html("Hide DropZones"),jQuery(".dropzonetext").css({visibility:"visible"}),clearTimeout(jQuery("#eg-preview-item-skin").data("timer"));jQuery("#skin-dz-wrapper");jQuery("#eg-preview-item-skin").css({display:"inline-block"}),jQuery("#eg-preview-stop-item-skin").css({display:"none"}),jQuery("#skin-dz-wrapper .skin-dz-elements.eg-special-element").css({visibility:"visible"}),clearTimeout(jQuery("#eg-preview-item-skin").data("timer")),setTimeout(function(){clearTimeout(jQuery("#eg-preview-item-skin").data("timer")),t.animateElements("last")},200),t.atDropStop()},t.eg3dtakeCare=function(){var e;jQuery("#drop-1").on("click",function(){var e=jQuery(this),t=".dropzonetext";e.hasClass("esg-purple")?(e.removeClass("esg-purple").addClass("esg-red").html("Show DropZones"),jQuery(t).css({visibility:"hidden"})):(e.removeClass("esg-red").addClass("esg-purple").html("Hide DropZones"),jQuery(t).css({visibility:"visible"}))}),jQuery("#make-3d-map").hover(function(){clearTimeout(e),e=setTimeout(t.show3danim,250)},function(){clearTimeout(e),t.hide3danim()})},t.show3danim=function(){var e=jQuery(".eg-editor-inside-wrapper"),a=jQuery("#eg-3dpp"),i=jQuery("#eg-it-layout-wrap"),n=jQuery("#eg-3dpp-inner"),o=jQuery(".eg-3d-bg"),r=jQuery(".eg-3d-cover"),s=jQuery(".eg-3d-element"),l=jQuery(".eg-3d-elements"),c=jQuery(".eg-3dcc"),u=jQuery(".eg-3d-ccbg"),d=jQuery("#eg-3d-cstep1"),p=jQuery("#eg-3d-cstep2"),g=jQuery("#eg-3d-cstep3"),h=jQuery("#eg-3d-cstep4");punchgs.TweenLite.to(jQuery("#eg-it-layout-wrap"),.5,{backgroundColor:"#d5d5d5"}),punchgs.TweenLite.to(e,.5,{autoAlpha:0}),punchgs.TweenLite.to(a,.5,{z:-200,y:-30,autoAlpha:1}),punchgs.TweenLite.to(i,.3,{minHeight:600}),punchgs.TweenLite.set(n,{z:0,rotationY:0,rotationX:0,overwrite:"all"}),punchgs.TweenLite.set(jQuery("#eg-3d-description"),{autoAlpha:0,delay:3}),punchgs.TweenLite.set(s,{opacity:1,z:4,overwrite:"all"}),punchgs.TweenLite.set(l,{opacity:1,z:4,overwrite:"all"}),punchgs.TweenLite.set(r,{opacity:1,z:3,overwrite:"all"}),punchgs.TweenLite.set(u,{opacity:1,z:2,overwrite:"all"}),punchgs.TweenLite.set(o,{opacity:1,z:1,overwrite:"all"}),punchgs.TweenLite.set(a,{transformStyle:"preserve-3d",transformOrigin:"50% 50% 50%",transformPerspective:1200}),punchgs.TweenLite.set(jQuery(".eg-3dmc"),{transformStyle:"preserve-3d",transformOrigin:"50% 50% 50%",transformPerspective:1200}),punchgs.TweenLite.set(n,{transformStyle:"preserve-3d",transformOrigin:"50% 50% 0%",transformPerspective:1200}),punchgs.TweenLite.set(l,{transformStyle:"preserve-3d",transformOrigin:"50% 50% 0%",transformPerspective:1200}),punchgs.TweenLite.set(c,{transformStyle:"preserve-3d",transformOrigin:"50% 50% 0%",transformPerspective:1200}),punchgs.TweenLite.to(n,2,{z:0,rotationY:-45,rotationX:7,delay:.5,overwrite:"all",ease:punchgs.Power1.easeOut}),punchgs.TweenLite.to(s,1,{z:90,overwrite:"all",delay:1,ease:punchgs.Power1.easeOut}),punchgs.TweenLite.to(r,.7,{z:50,overwrite:"all",delay:1,ease:punchgs.Power1.easeOut}),punchgs.TweenLite.to(u,.5,{z:22,overwrite:"all",delay:1,ease:punchgs.Power1.easeOut}),punchgs.TweenLite.to(o,.5,{z:20,overwrite:"all",delay:1,ease:punchgs.Power1.easeOut}),punchgs.TweenLite.to(jQuery("#eg-3d-description"),.5,{autoAlpha:1,delay:3}),punchgs.TweenLite.fromTo(d,.5,{autoAlpha:0,y:-10},{autoAlpha:1,y:0,delay:3}),punchgs.TweenLite.to(l,.5,{opacity:1,delay:3}),punchgs.TweenLite.to(r,.5,{opacity:0,delay:3}),punchgs.TweenLite.to(c,.5,{opacity:0,delay:3}),punchgs.TweenLite.to(o,.5,{opacity:0,delay:3}),punchgs.TweenLite.to(d,.5,{autoAlpha:0,delay:4.5}),punchgs.TweenLite.fromTo(p,.5,{autoAlpha:0,y:-10},{autoAlpha:1,y:0,delay:4.5}),punchgs.TweenLite.to(l,.5,{opacity:0,delay:4.5}),punchgs.TweenLite.to(r,.5,{opacity:1,delay:4.5}),punchgs.TweenLite.to(p,.5,{autoAlpha:0,delay:6}),punchgs.TweenLite.fromTo(g,.5,{autoAlpha:0,y:-10},{autoAlpha:1,y:0,delay:6}),punchgs.TweenLite.to(r,.5,{opacity:0,delay:6}),punchgs.TweenLite.to(o,.5,{opacity:1,delay:6}),punchgs.TweenLite.to(g,.5,{autoAlpha:0,delay:7.5}),punchgs.TweenLite.fromTo(h,.5,{autoAlpha:0,y:-10},{autoAlpha:1,y:0,delay:7.5}),punchgs.TweenLite.to(c,.5,{opacity:1,delay:7.5}),punchgs.TweenLite.to(o,.5,{opacity:0,delay:7.5}),e.data("timer",setTimeout(function(){t.hide3danim()},9e3))},t.hide3danim=function(){var e=jQuery(".eg-editor-inside-wrapper");clearTimeout(e.data("timer"));var t=jQuery("#eg-3dpp"),a=jQuery("#eg-it-layout-wrap"),i=jQuery("#eg-3dpp-inner"),n=jQuery(".eg-3d-bg"),o=jQuery(".eg-3d-cover"),r=jQuery(".eg-3d-element"),s=jQuery(".eg-3d-elements"),l=jQuery(".eg-3dcc"),c=jQuery(".eg-3d-ccbg"),u=jQuery("#eg-3d-cstep1"),d=jQuery("#eg-3d-cstep2"),p=jQuery("#eg-3d-cstep3"),g=jQuery("#eg-3d-cstep4");punchgs.TweenLite.to(jQuery("#eg-it-layout-wrap"),.5,{backgroundColor:"#fff"}),punchgs.TweenLite.to(t,.5,{z:0,y:0,autoAlpha:0}),punchgs.TweenLite.to(e,.5,{autoAlpha:1}),punchgs.TweenLite.to(a,.3,{minHeight:0}),punchgs.TweenLite.set(u,{autoAlpha:0,overwrite:"all"}),punchgs.TweenLite.set(d,{autoAlpha:0,overwrite:"all"}),punchgs.TweenLite.set(p,{autoAlpha:0,overwrite:"all"}),punchgs.TweenLite.set(g,{autoAlpha:0,overwrite:"all"}),punchgs.TweenLite.to(l,.5,{opacity:1,overwrite:"all"}),punchgs.TweenLite.to(i,.5,{z:0,rotationY:0,rotationX:0,overwrite:"all"}),punchgs.TweenLite.to(jQuery("#eg-3d-description"),.5,{autoAlpha:0,delay:3}),punchgs.TweenLite.to(r,.5,{opacity:1,z:4,overwrite:"all"}),punchgs.TweenLite.to(s,.5,{opacity:1,z:4,overwrite:"all"}),punchgs.TweenLite.to(o,.5,{opacity:1,z:3,overwrite:"all"}),punchgs.TweenLite.to(c,.5,{opacity:1,z:2,overwrite:"all"}),punchgs.TweenLite.to(n,.5,{opacity:1,z:1,overwrite:"all"})},t.whileDropOrSort=function(e){var a=jQuery(".eg-state-highlight"),i=jQuery(e);a.html(i.html()),a.css({borderTop:i.css("borderTop"),borderBottom:i.css("borderBottom"),borderRight:i.css("borderRight"),borderLeft:i.css("borderLeft"),paddingTop:i.css("paddingTop"),paddingBottom:i.css("paddingBottom"),paddingLeft:i.css("paddingLeft"),paddingRight:i.css("paddingRight"),color:i.css("color"),border:i.css("border"),marginTop:i.css("marginTop"),marginLeft:i.css("marginLeft"),marginBottom:i.css("marginBottom"),marginRight:i.css("marginRight"),fontSize:i.css("fontSize"),lineHeight:i.css("lineHeight")}),t.atDropStop()},t.adjustDropHeights=function(){var e=jQuery(".esg-tc.eec"),t=jQuery(".esg-bc.eec"),a=(jQuery(".esg-bc.eec"),jQuery("#skin-dz-tl"),jQuery("#skin-dz-br"),jQuery("#skin-dz-c")),i=jQuery("#skin-dz-wrapper");pph=i.height();var n=(.8*pph-a.height())/2;n>.8*pph/3&&(n=.8*pph/3),e.hasClass("eg-filled-container")?e.css({height:"auto"}):e.css({minHeight:n+"px"}),t.hasClass("eg-filled-container")?t.css({minHeight:"auto"}):t.css({minHeight:n+"px"})},t.atDropStop=function(e){null==e&&(e=0),"even"==jQuery("input[name='choose-layout']:checked").val()?jQuery("#drop-4").hide():jQuery("#drop-4").show(),jQuery(".dropzonetext").each(function(t){var a=jQuery(this).closest(".eec");if(0==a.length&&(a=jQuery(this).closest("#skin-dz-m-wrap")),a.length>0){var i=a.find(".skin-dz-elements").length,n=a.find(".skin-dz-elements.ui-sortable-helper").length;i>e?a.addClass("eg-filled-container"):1==i&&1!=n?a.addClass("eg-filled-container"):a.removeClass("eg-filled-container")}}),t.adjustDropHeights()},t.initUpdateRoutine=function(){jQuery("#eg-validation-activate").on("click",function(){var e={code:jQuery('input[name="eg-validation-token"]').val()};t.ajaxRequest("activate_purchase_code",e,"#eg-validation-activate")}),jQuery("#eg-validation-deactivate").on("click",function(){t.ajaxRequest("deactivate_purchase_code","","#eg-validation-deactivate")})},t.initNewsletterRoutine=function(){jQuery("#subscribe-to-newsletter").on("click",function(){var e={email:jQuery('input[name="eg-email"]').val()};t.ajaxRequest("subscribe_to_newsletter",e,"#subscribe-to-newsletter")}),jQuery("#activate-unsubscribe").on("click",function(){jQuery(".subscribe-newsletter-wrap").hide(),jQuery("#activate-unsubscribe").hide(),jQuery(".unsubscribe-newsletter-wrap").show(),jQuery("#unsubscribe-text").show(),jQuery("#subscribe-text").hide()}),jQuery("#cancel-unsubscribe").on("click",function(){jQuery(".subscribe-newsletter-wrap").show(),jQuery("#activate-unsubscribe").show(),jQuery(".unsubscribe-newsletter-wrap").hide(),jQuery("#unsubscribe-text").hide(),jQuery("#subscribe-text").show()}),jQuery("#unsubscribe-to-newsletter").on("click",function(){var e={email:jQuery('input[name="eg-email"]').val()};t.ajaxRequest("unsubscribe_to_newsletter",e,"#unsubscribe-to-newsletter")})},t.initGridLibraryRoutine=function(){function e(){var e=jQuery(window).height(),t=jQuery("#eg_library_header_part").height();jQuery(".esg-library-groups").css({height:e-t+"px"}),jQuery(".esg-library-groups").ESGScroll("update"),o()}jQuery("#esg-libary-wrapper").on("showitnow",o),jQuery("body").on("click",".show_more_library_grid",function(){jQuery(".esg_group_wrappers").css({zIndex:2});var e=jQuery(this).closest(".esg_group_wrappers");e.length>0&&(jQuery(window).width()-e.offset().left<2.1*e.width()?e.addClass("show_more_to_left"):e.removeClass("show_more_to_left"),e.find(".library_thumb_more").fadeIn(100),jQuery("#library_bigoverlay").css("height","5000px").fadeIn(100),e.css({zIndex:150}))}),jQuery("body").on("click","#library_bigoverlay",function(){jQuery("#library_bigoverlay").fadeOut(100),jQuery(".library_thumb_more:visible").fadeOut(100)}),jQuery(".library_grid_item, .library_grid_item_import").each(function(){var e=jQuery(this),t=e.data("gridwidth"),a=e.data("gridheight"),i=(e.data("slideid"),180);(null==t||t<=0)&&(t=i),(null==a||a<=0)&&(a=i);Math.round(i/t*a);var n=e.closest(".esg_group_wrappers").find(".esg-box-title");n.hasClass("modificated")||n.html(n.html()+" ("+t+"x"+a+")").addClass("modificated")}),jQuery("#close-template").on("click",function(){jQuery("#esg-libary-wrapper").removeClass("show")}),jQuery("body").on("click",".revolution-templatebutton",function(){var e=jQuery(this);jQuery(".esg-library-groups").each(function(){jQuery(this).hide()}),jQuery("."+e.data("showgroup")).show(),jQuery(".revolution-templatebutton").removeClass("selected"),e.addClass("selected"),o(),jQuery(".esg-library-groups").ESGScroll("update")}),e(),jQuery(window).on("resize",e),jQuery(".esg-library-groups").ESGScroll({wheelPropagation:!1,suppressScrollX:!1}),document.addEventListener("ps-scroll-y",function(e){jQuery(e.target).closest(".esg-library-groups").length>0&&(o(),jQuery("#library_bigoverlay").css({top:jQuery(".esg-library-groups").scrollTop()}))}),jQuery(".input_import_slider").change(function(){""!==jQuery(this).val()?jQuery(".rs-import-slider-button").show():jQuery(".rs-import-slider-button").hide()});var a=!1;jQuery("body").on("click","#esg-library-open",function(){a?(jQuery("#esg-libary-wrapper").addClass("show"),jQuery("#esg-libary-wrapper").trigger("showitnow")):t.ajaxRequest("load_library",{},"#esg-library-open",function(e){!0===e.success&&(jQuery("#esg-library-grids").html(e.data),jQuery("#esg-libary-wrapper").addClass("show"),jQuery("#esg-libary-wrapper").trigger("showitnow"),a=!0)})});jQuery("#esg-close-template").on("click",function(){jQuery("#esg-libary-wrapper").removeClass("show")}),jQuery(".esg_library_filter_button").on("click",function(){jQuery("#library_bigoverlay").fadeOut(100),jQuery(".library_thumb_more:visible").fadeOut(100);var e=jQuery(this),t=e.data("type");jQuery(".esg_library_filter_button").removeClass("selected"),e.addClass("selected"),jQuery(".esg_group_wrappers").hide(),"temp_all"==t?jQuery(".esg_group_wrappers").each(function(){jQuery(this).show()}):jQuery("."+t).each(function(){var e=jQuery(this);"template_free"===t?e.hide():e.show()}),jQuery(".esg-library-groups").scrollTop(0),o()}),jQuery("body").on("click",".esg-reload-shop",function(){t.showWaitAMinute({fadeIn:300,text:eg_lang.aj_please_wait}),location.href=window.location.href+"&update_shop"}),/[?&]update_shop/.test(location.search)&&jQuery("#esg-library-open").trigger("click"),jQuery("body").on("click","span.library_new",function(){jQuery("#esg-library-filter-buttons-wrapper .esg_libr_new_udpated").trigger("click")}),jQuery("body").on("click",".library_grid_item_reimport, .install_library_grid",function(){var e=jQuery(this);if(jQuery("#import_dialog_box").data("requested_grid",e.data("title")),e.hasClass("deny_download"))return alert(eg_lang.this_grid_requires_version+" "+e.data("versionneed")+" "+eg_lang.of_essgrid),!1;var t={};return t.zip=e.data("zipname"),t.uid=e.data("uid"),n(t),jQuery("#close-template").trigger("click"),!1}),jQuery("#licence_obect_library, #regsiter-to-access-update-none, #regsiter-to-access-store-none, #register-wrong-purchase-code").on("click",function(){var e=jQuery(this).attr("id");i(e)});var i=function(e){jQuery("#esg-premium-benefits-dialog").dialog({width:830,height:750,modal:!0,resizable:!1,open:function(t){var a=jQuery(t.target).parent(),i=a.find(".ui-dialog-title");switch(a.addClass("esg-open-premium-benefits-dialog-container"),i.hasClass("titlechanged")||(i.html(""),i.append(jQuery("#esg-premium-benefits-dialog .esg-premium-benefits-dialogtitles")),i.addClass("titlechanged")),jQuery("#esg-library-license-info-dialogtitle, #esg-plugin-object-library-feedback-title, #esg-wrong-purchase-code-title, #esg-plugin-update-feedback-title, #esg-plugin-download-template-feedback-title").hide(),jQuery("#esg-premium-benefits-dialog").removeClass("nomainbg"),jQuery("#basic_objectlibrary_license_block, #basic_premium_benefits_block").hide(),e){case"regsiter-to-access-update-none":jQuery("#esg-plugin-update-feedback-title").show(),jQuery("#basic_premium_benefits_block").show();break;case"regsiter-to-access-store-none":jQuery("#esg-plugin-download-template-feedback-title").show(),jQuery("#basic_premium_benefits_block").show();break;case"register-wrong-purchase-code":jQuery("#esg-wrong-purchase-code-title").show(),jQuery("#basic_premium_benefits_block").show()}}})};/[?&]sasha/.test(location.search)&&i("regsiter-to-access-store-none");var n=function(e){if(jQuery("#import_dialog_box").html(""),"false"===tp_eg.valid)return i("regsiter-to-access-store-none"),!1;jQuery("#dialog_import_library_grid_info").dialog({modal:!0,resizable:!1,width:350,minHeight:210,dialogClass:"esg_dialog",open:function(e,t){var a=jQuery(e.target).parent(),i=a.find(".ui-dialog-titlebar");a.attr("id","tp_import_grids"),i.attr("id","tp_import_grids_title"),installclosebutton=jQuery(".ui-dialog-titlebar-close",t.dialog),jQuery(".ui-dialog-titlebar-close",t.dialog).hide()}});var t=jQuery("#import_dialog_box").data("requested_grid");jQuery("#import_dialog_box").append("<div>"+t+"</div>"),AdminEssentials.ajaxRequest("import_grid_online",e,void 0,function(e){if(jQuery("#import_dialog_box_action").html(""),jQuery("#dialog_import_library_grid_info").dialog("close"),jQuery("#waitaminute").remove(),void 0!==e.error&&e.error.length>0)for(var t in e.error)jQuery("#import_dialog_box").append("<div>"+e.error[t]+"</div>");else jQuery("#install-grid-counter").css({width:"100%"}),jQuery("#open_imported_grid").dialog({modal:!0,draggable:!0,resizable:!1,width:500,height:200,closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog",buttons:[{text:eg_lang.backtooverview,id:"eg-back-to-overview",click:function(){location.href=e.overview}},{text:eg_lang.openimportdgrid,id:"eg-openimportedgrid",click:function(){location.href=e.opengrid}}]})},!0)};function o(){var e=jQuery("#esg-library-grids");e.scrollTop(),jQuery(window).height();e.find(".library_item:visible").each(function(){var e=jQuery(this);parseInt(e.closest("#esg-library-grids").offset().top,0);null!=e.data("src")&&1!=e.data("bgadded")&&jQuery("#esg-libary-wrapper").hasClass("show")&&(e.css({backgroundImage:'url("'+e.data("src")+'")'}),e.data("bgadded",1))})}},t.sanitize_input=function(e){return e.toLowerCase().replace(/ /g,"-").replace(/[^-0-9a-z_-]/g,"")},t.initSpinnerAdmin=function(){jQuery("#use_spinner_row").parent().prepend('<div id="spinner_preview"></div>');var e=jQuery("#spinner_preview"),a=jQuery("#use_spinner");jQuery("#spinner_color").val();t.resetSpin(e),a.on("change",function(){t.resetSpin(e,!0)})},t.spinnerColorChange=function(e){var t=jQuery("#spinner_color"),a=void 0!==e?e:t.attr("data-color")||t.val(),i="background",n=jQuery("#use_spinner");0!=n.val()&&5!=n.val()||(a="#ffffff",i="background-color");var o=jQuery("#spinner_preview .esg-loader.esg-demo");o.hasClass("spinner0")||o.hasClass("spinner1")||o.hasClass("spinner2")?o.css(i,a):o.find("div").css(i,a)},t.resetSpin=function(e,a){var i=jQuery("#use_spinner");e.find(".esg-loader").remove(),e.append('<div class="esg-loader esg-demo"><div class="dot1"></div><div class="dot2"></div><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'),e.find(".esg-demo").addClass("spinner"+i.val()),-1==i.val()||0==i.val()||5==i.val()?jQuery("#spinner_color_row").css({display:"none"}):jQuery("#spinner_color_row").css({display:"block"}),t.spinnerColorChange()},t.initToolTipser=function(){es_do_tooltipser&&jQuery(".eg-tooltip-wrap").not(".tooltipser").tooltipster({theme:"eg-tooltip",delay:0,ion:"top",offsetY:0})},t.clearStreamCache=function(e){current_transient=e.parent().find("input"),current_transient_val=current_transient.val(),jQuery("input[name="+e.data("clear")+"]").parent().find("input").val("0"),t.changePreviewGrid(!0),setTimeout(function(){jQuery("input[name="+e.data("clear")+"]").val(current_transient_val)},500)}};jQuery.fn.tpsortable=function(){function e(e){e.preventDefault()}jQuery(this).mousedown(function(t){if(void 0===ESG.S.DRAGGING&&!(void 0!==t.toElement&&void 0!==t.toElement.clasName&&(t.toElement.clasName.indexOf("eg_edit_custom_category")>=0||t.toElement.clasName.indexOf("eg_delete_custom_category")>=0)||void 0!==t.target&&void 0!==t.target.clasName&&(t.target.clasName.indexOf("eg_edit_custom_category")>=0||t.target.clasName.indexOf("eg_delete_custom_category")>=0))){ESG.S.DRAGGING=jQuery(this);var a=ESG.S.DRAGGING.parent().offset().top,i=a+ESG.S.DRAGGING.parent().height(),n=ESG.S.DRAGGING.offset().top,o=t.pageY-n,r=function(e){if(null!=ESG.S.DRAGGING){var t=e.pageY-o;t<a?(ESG.S.DRAGGING.offset({top:a}),ESG.S.DRAGGING.prev().length>0&&ESG.S.DRAGGING.insertBefore(ESG.S.DRAGGING.prev().css({top:-ESG.S.DRAGGING.height()}).animate({top:0},100))):t+ESG.S.DRAGGING.height()>i?(ESG.S.DRAGGING.offset({top:i-ESG.S.DRAGGING.height()}),ESG.S.DRAGGING.next().length>0&&ESG.S.DRAGGING.insertAfter(ESG.S.DRAGGING.next().css({top:ESG.S.DRAGGING.height()}).animate({top:0},100))):(ESG.S.DRAGGING.offset({top:t}),n-t>ESG.S.DRAGGING.height()-1?(ESG.S.DRAGGING.insertBefore(ESG.S.DRAGGING.prev().css({top:-ESG.S.DRAGGING.height()}).animate({top:0},100)),ESG.S.DRAGGING.css({top:0}),n=ESG.S.DRAGGING.offset().top,t=e.pageY-o,o=e.pageY-n):t-n>ESG.S.DRAGGING.height()-1&&(ESG.S.DRAGGING.insertAfter(ESG.S.DRAGGING.next().css({top:ESG.S.DRAGGING.height()}).animate({top:0},100)),ESG.S.DRAGGING.css({top:0}),n=ESG.S.DRAGGING.offset().top,t=e.pageY-o,o=e.pageY-n))}},s=function(){jQuery(document).off("mousemove",r).off("mouseup",s),jQuery(document).off((jQuery.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",e),void 0!==ESG.S.DRAGGING&&ESG.S.DRAGGING.animate({top:0},1),void 0!==ESG.S.DRAGGING&&(ESG.S.DRAGGING[0].style.zIndex=100),delete ESG.S.DRAGGING};void 0!==ESG.S.DRAGGING&&(ESG.S.DRAGGING[0].style.zIndex=400),jQuery(document).on("mousemove",r).on("mouseup",s).on("contextmenu",s),jQuery(document).on((jQuery.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",e),jQuery(window).on("blur",s)}})};