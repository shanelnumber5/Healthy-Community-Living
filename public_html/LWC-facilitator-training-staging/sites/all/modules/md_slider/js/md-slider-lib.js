(function(a){a.fn.triggerItemEvent=function(){var c=a(this).data("slidepanel");if(c==null){return}var d=a(this);d.draggable({containment:"parent",stop:function(e,f){var h=Math.round(a(f.helper).position().left),g=Math.round(a(f.helper).position().top);d.data("left",h);d.data("top",g);c.mdSliderToolbar.changePositionValue(h,g)}});d.resizable({handles:"e, s, se",containment:"parent",resize:function(g,h){var f=Math.round(a(h.helper).width()),e=Math.round(a(h.helper).height());d.data("width",f);d.data("height",e);c.mdSliderToolbar.changeSizeValue(f,e)}});if(navigator.appVersion.indexOf("Mac")!=-1){a(document).keyup(function(e){d.data("keySelect","")});a(document).keydown(function(e){d.data("keySelect",e.keyCode)})}d.bind("mousedown",function(j){var k=j.ctrlKey,i=navigator.userAgent.indexOf("Chrome")!=-1,h=navigator.userAgent.indexOf("Firefox")!=-1,g=navigator.userAgent.indexOf("Safari")!=-1;if(navigator.appVersion.indexOf("Mac")!=-1&&d.data("keySelect")!=undefined){var f=d.data("keySelect");if((f==224&&h)||(f==91&&(i||g))){k=true}else{k=false}}if(k){a(this).addClass("ui-selected")}else{if(!a(this).hasClass("ui-selected")){a(this).siblings(".slider-item").removeClass("ui-selected");a(this).addClass("ui-selected")}else{a(this).siblings(".slider-item.ui-selected").removeClass("ui-selected")}}c.triggerChangeSelectItem()});return this};function b(d,c){return d.length<c?b("0"+d,c):d}a.fn.getItemValues=function(){if(a(this).hasClass("slider-item")){var c={width:a(this).data("width"),height:a(this).data("height"),left:a(this).data("left"),top:a(this).data("top"),starttime:a(this).data("starttime")?Math.round(a(this).data("starttime")):0,stoptime:a(this).data("stoptime")?Math.round(a(this).data("stoptime")):0,startani:a(this).data("startani"),stopani:a(this).data("stopani"),opacity:a(this).data("opacity"),mdtclass:a(this).data("mdtclass"),style:a(this).data("style"),zindex:a(this).css("z-index"),type:a(this).data("type"),title:a(this).data("title"),backgroundcolor:(a(this).data("backgroundcolor")==undefined||a(this).data("backgroundcolor")==="")?null:(a(this).data("backgroundcolor")==0?"#000000":a.fixHex(a(this).data("backgroundcolor").toString())),backgroundtransparent:a(this).data("backgroundtransparent"),borderposition:a(this).data("borderposition"),borderwidth:a(this).data("borderwidth"),borderstyle:a(this).data("borderstyle"),bordercolor:(a(this).data("bordercolor")==undefined||a(this).data("bordercolor")==="")?null:(a(this).data("bordercolor")==0?"#000000":a.fixHex(a(this).data("bordercolor").toString())),bordertopleftradius:a(this).data("bordertopleftradius"),bordertoprightradius:a(this).data("bordertoprightradius"),borderbottomrightradius:a(this).data("borderbottomrightradius"),borderbottomleftradius:a(this).data("borderbottomleftradius"),paddingtop:a(this).data("paddingtop"),paddingright:a(this).data("paddingright"),paddingbottom:a(this).data("paddingbottom"),paddingleft:a(this).data("paddingleft"),link:a(this).data("link")};if(a(this).data("type")=="text"){a.extend(c,{fontsize:a(this).data("fontsize"),fontfamily:a(this).data("fontfamily"),fontweight:a(this).data("fontweight"),fontstyle:a(this).data("fontstyle"),textdecoration:a(this).data("textdecoration"),texttransform:a(this).data("texttransform"),textalign:a(this).data("textalign"),color:(a(this).data("color")==undefined||a(this).data("color")==="")?null:(a(this).data("color")==0?"#000000":a.fixHex(a(this).data("color").toString()))})}else{a.extend(c,{fileid:a(this).data("fileid"),thumb:a(this).find("img").attr("src")})}return c}return null};a.fn.setItemValues=function(d){if(a(this).hasClass("slider-item")){for(var c in d){a(this).data(c,d[c])}return true}return null};a.fn.setItemStyle=function(j){if(a(this).hasClass("slider-item")){var f=[];if(j.style){a(this).addClass(j.style)}if(j.width){f.width=j.width}if(j.height){f.height=j.height}if(j.top){f.top=j.top}if(j.left){f.left=j.left}if(j.opacity){f.opacity=j.opacity/100}if(j.backgroundcolor!=null){var k=j.backgroundcolor;var g=parseInt(j.backgroundtransparent);var h=a.HexToRGB(k);g=g?g:100;var d="rgba("+h.r+","+h.g+","+h.b+","+(g/100)+")";f["background-color"]=d}if(j.bordercolor){f["border-color"]=j.bordercolor}if(j.borderwidth){f["border-width"]=j.borderwidth+"px"}var e="none";if(j.borderposition&&j.borderstyle){var i=j.borderposition,c=j.borderstyle;if(i&1){e=c}else{e="none"}if(i&2){e+=" "+c}else{e+=" none"}if(i&4){e+=" "+c}else{e+=" none"}if(i&8){e+=" "+c}else{e+=" none"}}f["border-style"]=e;if(j.bordertopleftradius){f["border-top-left-radius"]=j.bordertopleftradius+"px"}if(j.bordertoprightradius){f["border-top-right-radius"]=j.bordertoprightradius+"px"}if(j.borderbottomrightradius){f["border-bottom-right-radius"]=j.borderbottomrightradius+"px"}if(j.borderbottomleftradius){f["border-bottom-left-radius"]=j.borderbottomleftradius+"px"}if(j.paddingtop){f["padding-top"]=j.paddingtop+"px"}if(j.paddingright){f["padding-right"]=j.paddingright+"px"}if(j.paddingbottom){f["padding-bottom"]=j.paddingbottom+"px"}if(j.paddingleft){f["padding-left"]=j.paddingleft+"px"}if(j.type=="text"){if(j.fontsize){f["font-size"]=j.fontsize+"px"}if(j.fontfamily){f["font-family"]=j.fontfamily}if(j.fontweight){f["font-weight"]=j.fontweight}if(j.fontstyle){f["font-style"]=j.fontstyle}if(j.textdecoration){f["text-decoration"]=j.textdecoration}if(j.texttransform){f["text-transform"]=j.texttransform}if(j.textalign){f["text-align"]=j.textalign}if(j.color){f.color=j.color}}a(this).css(f)}return false};a.fn.setItemHtml=function(c){if(a(this).hasClass("slider-item")){if(c.type=="text"){a(this).find("p").html(c.title.replace(/\n/g,"<br />"))}else{a(this).find("img").attr("src",c.thumb)}}return false};a.HexToRGB=function(c){var c=parseInt(((c.toString().indexOf("#")>-1)?c.substring(1):c),16);return{r:c>>16,g:(c&65280)>>8,b:(c&255)}};a.removeMinusSign=function(c){return c.replace(/-/g,"")};a.objectToString=function(c){return JSON.stringify(c)};a.stringToObject=function(c){return jQuery.parseJSON(c)};a.fixHex=function(e){var c=6-e.length;if(c>0){var f=[];for(var d=0;d<c;d++){f.push("0")}f.push(e);e=f.join("")}return e}})(jQuery);